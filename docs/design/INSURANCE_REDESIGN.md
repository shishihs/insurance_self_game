# 保険システム再設計仕様書

## 🎯 設計思想

**「保険は大きなトラブル時に一回限りで発動し、契約は消滅する」**

### 従来の問題点
- 保険が「毎ターン効果を発揮するバフ」になっていた
- リジェネ（毎ターン回復）やガード（常時ダメージ軽減）は保険らしくない
- 「保険を持っていて良かった」という体験がなかった

### 新しいコンセプト
- 保険は**特定のピンチ状況**でのみ発動する
- 発動すると**契約は終了**（使い切り）
- 普段は何もしないが、**大事な時に守ってくれる**

---

## 🛡️ 保険タイプ一覧

### 1. 生命保険（Life Insurance）
| 項目 | 内容 |
|------|------|
| **トリガー** | 活力が0になる瞬間 |
| **効果** | 死亡を回避し、活力10で復活 |
| **使用後** | 契約終了 |
| **現実対応** | 死亡時に遺族に保険金が支払われる |

### 2. 医療保険（Medical Insurance）
| 項目 | 内容 |
|------|------|
| **トリガー** | 10ダメージ以上受ける時（任意発動） |
| **効果** | ダメージを1に軽減 |
| **使用後** | 契約終了 |
| **現実対応** | 大きな医療費をカバー |

### 3. 障害保険（Disability Insurance）
| 項目 | 内容 |
|------|------|
| **トリガー** | 老化カードが手札に3枚揃った時 |
| **効果** | 手札を全て捨てて引き直し（ゲームオーバー回避） |
| **使用後** | 契約終了 |
| **現実対応** | 体が動かなくなっても生活を保障 |

### 4. 就業不能保険（Income Protection Insurance）
| 項目 | 内容 |
|------|------|
| **トリガー** | いつでも発動可能 |
| **効果** | 現在の課題をスキップ（ダメージなし、報酬なし） |
| **使用後** | 契約終了 |
| **現実対応** | 働けない時の収入保障 |

---

## 💰 コスト設計（現実準拠）

### 定期保険 vs 終身保険

| 期間タイプ | 毎ターンコスト | 期間 | 総コスト | 特徴 |
|-----------|--------------|------|---------|------|
| **定期保険** | 高い (3〜5) | 5ターン | 15〜25 | 毎月高いが短期間で終了 |
| **終身保険** | 低い (1〜2) | 永続 | 20+（長期ほど増加）| 毎月安いが一生払い続ける |

### コスト設計の根拠（現実との対応）
- **定期保険（掛け捨て）**: 
  - 保障期間が限定的（5ターン = 人生の一時期）
  - その代わり毎月（毎ターン）のコストは相対的に高い
  - 例: 若いうちに子供の成長期間だけカバーする
  
- **終身保険（貯蓄型）**: 
  - 一生涯の保障（ゲーム終了まで有効）
  - 毎月（毎ターン）のコストは安い
  - ただし総額では定期より高くなることが多い
  - 例: 葬儀費用や相続対策

### トレードオフ
```
定期保険: コスト3/ターン × 5ターン = 総額15（でも5ターンで終了）
終身保険: コスト1/ターン × 20ターン = 総額20（でもゲーム終盤まで保障）
```

---

## 🚫 「保険に入らない」選択肢

### 報酬選択画面の選択肢
チャレンジ成功時、以下から選択：
1. **保険カードを獲得** - 毎ターンコストがかかるがピンチに対応
2. **スキルカードを獲得** - パワーが上がる（従来の報酬）
3. **何も取らない** - コストなし、シンプルに進行

### 無保険プレイのリスク
- 10ダメージ以上でそのまま受ける
- 活力0で即死（復活なし）
- 老化カード3枚でゲームオーバー（手札リセット不可）

---

## 🔧 実装タスク

### Phase 1: 基盤変更
- [ ] 保険カードの効果タイプを「トリガー型」に変更
- [ ] 老化カード3枚ゲームオーバー条件の追加
- [ ] 定期/終身のコスト逆転

### Phase 2: UI実装
- [ ] 保険発動確認ダイアログ（「保険を使いますか？」）
- [ ] 「保険に入らない」選択肢を報酬選択に追加
- [ ] 課題スキップ機能（就業不能保険）

### Phase 3: バランス調整
- [ ] 各保険のコストバランス調整
- [ ] テストプレイと修正

---

## 📝 ゲームフロー変更点

### Before（現在）
```
課題成功 → 保険選択（強制） → 毎ターン効果発動
```

### After（新設計）
```
課題成功 → 報酬選択（保険 / スキル / 何も取らない）
         ↓
     保険を選んだ場合
         ↓
   毎ターン保険料を支払う（効果なし）
         ↓
     ピンチ発生！
         ↓
   「〇〇保険を使いますか？」
         ↓
   使う → 効果発動！契約終了
   使わない → ピンチを自力で乗り越える（保険は残る）
```

---

*Document Version: 1.0*
*Created: 2025-12-11*
