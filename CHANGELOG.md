# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

### 🚀 今後のロードマップ

#### 短期（1-2週間）
- [x] 保険更新システムの実装（期限切れ前の更新オプション）
- [ ] チュートリアルモードの実装
- [ ] サウンドエフェクトの追加
- [ ] ゲームバランスの微調整
- [ ] レスポンシブデザインの改善（モバイル対応）
- [ ] ドラッグ&ドロップ機能の最適化

#### 中期（1ヶ月）
- [ ] 実績システムの追加
- [ ] 詳細な統計表示（プレイ履歴、成功率など）
- [ ] 追加シナリオ（結婚、出産、転職イベント）
- [ ] より多様な保険商品の追加
- [ ] カードアニメーションの拡張

#### 長期（3ヶ月以降）
- [ ] オンラインランキング機能
- [ ] 実際の保険商品データとの連携
- [ ] 教育機関向けカスタマイズ版
- [ ] モバイル対応の最適化
- [ ] WebGLシェーダーエフェクトの導入

## [0.2.2] - 2025-01-27

### 🏦 Added - 保険更新システム完全実装
- **期限切れ警告システム**: 残り2ターンでオレンジ色、残り1ターンで赤色の警告表示
- **保険更新選択ダイアログ**: 期限切れ時に「更新」or「失効」を選択可能
- **年齢別更新コスト**: 青年期+1、中年期+2、充実期+3の現実的なコスト増加
- **活力不足対応**: 更新コストが足りない場合の視覚的フィードバック
- **自動期限切れ処理**: ターン進行時の自動的な期限切れ保険検出

### 🛠 Enhanced - 既存システムの改善
- 保険リスト表示の色分け強化（警告状況に応じたカラー変更）
- 期限切れ通知システムの改良（緊急度別のアイコンと表示時間調整）
- 警告アニメーションの追加（パルス効果とタイミング調整）

### 📚 Technical Improvements
- `InsuranceRenewalOption`と`InsuranceRenewalResult`型定義を追加
- 包括的なテストスイート作成（20のテストケース）
- 型安全性の向上とエラーハンドリングの強化

## [0.2.1] - 2025-01-27

### 🎨 Added - モダンUI & 視覚エフェクト大幅改善
- **ダークテーマカラースキーム**: 信頼感のある青紫系グラデーションを基調とした統一デザイン
- **角丸カードデザイン**: グラデーション背景とガラスモルフィズム効果を実装
- **スムーズアニメーション**: 800ms Cubic.out イージングによる滑らかな動作
- **インタラクティブカードエフェクト**: ホバー時のスケール変化とグローエフェクト
- **活力バー高度化**: 数値カウントアップ、動的カラー変化、増減時エフェクト
- **視覚的フィードバック**: パルス（減少時）・グロー（増加時）エフェクト

### 🎯 Changed - UI/UX大幅刷新
- カード表示をフラットデザインから立体的グラデーションデザインに変更
- パワー・コスト表示を円形バッジ化（視認性向上）
- ヘッダー・サイドバーを半透明ガラス風デザインに統一
- テキストにシャドウ効果追加（可読性向上）
- ホバーエフェクトを即座変更からスムーズアニメーションに改善

### 🔧 Technical Improvements
- CSS変数によるカラーパレット管理システム導入
- Phaser 3 Graphics APIによる動的図形描画実装
- Tweenアニメーションシステムの活用
- カードタイプ別グラデーション色分けシステム

### 🎮 Visual Experience
- 信頼感と現代性を両立したプロフェッショナルな外観
- ゲームらしいワクワク感のあるインタラクション
- 保険ゲームらしい落ち着いた色調とスタイリッシュさの融合

## [0.2.0] - 2025-01-27

### 🎮 Added - GAME_RULES_REALISTIC_FINAL完全実装
- **年齢別活力システム**: ライフステージ（青年期35→中年期30→充実期27）で活力上限が変化
- **保険種別選択システム**: 終身保険（高コスト・永続）と定期保険（低コスト・10ターン）の選択可能
- **保険料負担システム**: 保険カード3枚ごとに-1パワーの負担が発生
- **年齢別夢難易度**: 体力系の夢は年齢で+3困難に、知識系は-2容易に
- **判断支援システム**: 年齢別保険推奨、保険見直しタイミング通知
- **視覚的フィードバック**: 保険カードの色分け（金色：終身、銀色：定期）、期限切れ警告

### 🛠 Changed
- 活力バーが年齢に応じて動的に変化するように改善
- チャレンジ解決時のパワー計算を詳細化（基本・保険・負担の内訳表示）
- 保険カードリストを右サイドバーに常時表示
- ステージ移行時に体力減少の視覚的フィードバック追加

### 🐛 Fixed
- ゲーム起動時のボタン構造エラーを修正
- TypeScript型定義の整合性を改善

### 📚 Documentation
- GAME_RULES_REALISTIC_FINAL実装レポート作成
- 各フェーズのテストガイド追加

## [0.1.1] - 2025-01-26

### Added
- 保険カード報酬システムの実装
- ドキュメント管理ガイドライン（CLAUDE.md）
- アーカイブディレクトリ構造（`.archive/`）

### Changed
- ディレクトリ構造を整理（docs/, scripts/をカテゴリ別に再編成）
- テストが全て通過するように修正（49/49）
- 不要な`console.log`を削除

### Fixed
- Windows環境でのテスト実行問題
- 手札上限を超えた場合の処理
- デッキ再シャッフル機能
- ターン進行時の統計更新

## [0.1.0] - 2025-01-26

### Added
- Phase 1 プロトタイプ完成
- 基本的なゲームループ実装
- カードシステム（ドロー、手札管理、捨て札）
- チャレンジシステム
- ステージ進行システム（青年期→中年期→充実期）
- Phaser 3とVue 3の統合
- GitHub Pagesへの自動デプロイ

### Technical Stack
- Vue 3 + TypeScript
- Phaser 3（ゲームエンジン）
- Vite（ビルドツール）
- UnoCSS（スタイリング）
- Vitest（テスティング）