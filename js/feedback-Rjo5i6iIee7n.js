var e=Object.defineProperty,a=(a,t,l)=>((a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l)(a,"symbol"!=typeof t?t+"":t,l);import{F as t,a as l,b as s}from"./game-logic-DYnrwjUu8iwv.js";import{d as i,f as o,m as c,g as n,w as r,h as u,c as d,b as v,o as p,a as m,t as b,F as g,r as h,e as y,p as f,j as k,v as w,q as x,n as R,k as $,s as C,u as S,x as B,i as U,l as E,y as I}from"./vue-vendor-CHt8BYjp.js";import{_ as T}from"./analytics-yRTfW0WqWt72.js";import"./vendor-CRDobNJa.js";import"./chart-vendor--kNoNNFK7XBt.js";const A={class:"feedback-header"},_={id:"feedback-title",class:"feedback-title"},q={key:0,class:"feedback-selection"},F={class:"feedback-options"},M=["aria-describedby","onClick"],V={class:"option-content"},D={class:"option-title"},j=["id"],L={key:0,class:"bug-report-fields"},N={class:"form-group"},G={class:"form-group"},O={key:1,class:"review-fields"},H={class:"form-group"},P={class:"star-rating"},W=["aria-label","onClick"],z={class:"aspect-ratings"},J={class:"form-label"},X={class:"star-rating"},Y=["aria-label","onClick"],K={class:"form-group"},Q={class:"form-label"},Z={class:"form-group"},ee={class:"character-count"},ae={class:"form-group"},te=["placeholder"],le={class:"character-count"},se={key:2,class:"bug-specific-fields"},ie={class:"form-group"},oe={class:"form-group"},ce={class:"form-group"},ne={class:"form-group"},re={class:"form-label"},ue={class:"submitter-section"},de={class:"form-group"},ve={class:"form-label"},pe={key:0,class:"contact-fields"},me={class:"form-group"},be={class:"form-group"},ge={class:"form-actions"},he=["disabled"],ye={key:0},fe={key:1},ke={key:2,class:"success-message"},we={class:"success-description"},xe=T(i({__name:"FeedbackModal",props:{isOpen:{type:Boolean,default:!1},gameState:{}},emits:["close","feedbackSubmitted"],setup(e,{emit:a}){const s=e,i=a,B=new t,U=o("selection"),E=o(""),I=o(!1),T=o(!0),xe=o(!1),Re=c({title:"",description:"",submitter:{name:"",email:""},bugReport:{severity:"",reproductionRate:"",stepsToReproduce:"",expectedBehavior:"",actualBehavior:""},review:{overallRating:0,aspects:{gameplay:0,ui:0,performance:0,accessibility:0},wouldRecommend:!1}}),$e=[{type:"bug",title:"ãƒã‚°å ±å‘Š",description:"å‹•ä½œä¸è‰¯ã‚„äºˆæœŸã—ãªã„å‹•ä½œã‚’å ±å‘Š",icon:"ğŸ›",color:"#EF4444"},{type:"feature",title:"æ©Ÿèƒ½è¦æœ›",description:"æ–°ã—ã„æ©Ÿèƒ½ã‚„ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ã®æ”¹å–„æ¡ˆ",icon:"ğŸ’¡",color:"#3B82F6"},{type:"ui",title:"UI/UXæ”¹å–„",description:"ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®ä½¿ã„ã‚„ã™ã•å‘ä¸Š",icon:"ğŸ¨",color:"#8B5CF6"},{type:"review",title:"è©•ä¾¡ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼",description:"ã‚²ãƒ¼ãƒ å…¨ä½“ã®è©•ä¾¡ã¨ã”æ„Ÿæƒ³",icon:"â­",color:"#F59E0B"},{type:"accessibility",title:"ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£",description:"ãƒãƒªã‚¢ãƒ•ãƒªãƒ¼ãƒ»æ“ä½œæ€§ã®æ”¹å–„ææ¡ˆ",icon:"â™¿",color:"#10B981"},{type:"general",title:"ãã®ä»–",description:"ä¸Šè¨˜ä»¥å¤–ã®ã”æ„è¦‹ãƒ»ã”è³ªå•",icon:"ğŸ’¬",color:"#6B7280"}],Ce=[{key:"gameplay",label:"ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤"},{key:"ui",label:"UIãƒ»æ“ä½œæ€§"},{key:"performance",label:"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹"},{key:"accessibility",label:"ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£"}],Se=n(()=>!(!Re.title.trim()||!Re.description.trim())&&("bug"===E.value?Re.bugReport.severity&&Re.bugReport.reproductionRate&&Re.bugReport.stepsToReproduce.trim():"review"!==E.value||Re.review.overallRating>0)),Be=()=>{"form"===U.value&&(U.value="selection")},Ue=()=>{Ve(),i("close")},Ee=e=>{e.target===e.currentTarget&&Ue()},Ie=(e,a)=>{"overall"===e?Re.review.overallRating=a:Re.review.aspects[e]=a},Te=()=>{const e=$e.find(e=>e.type===E.value);return e?e.title:"ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯"},Ae=()=>{switch(E.value){case"bug":return"ã©ã®ã‚ˆã†ãªå•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã‹ï¼Ÿã§ãã‚‹ã ã‘è©³ã—ãæ•™ãˆã¦ãã ã•ã„ã€‚";case"feature":return"ã©ã®ã‚ˆã†ãªæ©Ÿèƒ½ãŒã‚ã‚‹ã¨è‰¯ã„ã¨æ€ã„ã¾ã™ã‹ï¼Ÿå…·ä½“çš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ãŠèã‹ã›ãã ã•ã„ã€‚";case"ui":return"ã©ã®éƒ¨åˆ†ã‚’æ”¹å–„ã™ã¹ãã§ã—ã‚‡ã†ã‹ï¼Ÿã‚ˆã‚Šä½¿ã„ã‚„ã™ãã™ã‚‹ãŸã‚ã®ææ¡ˆã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚";case"review":return"ã‚²ãƒ¼ãƒ å…¨ä½“ã®æ„Ÿæƒ³ã‚„ã€ç‰¹ã«è‰¯ã‹ã£ãŸç‚¹ãƒ»æ”¹å–„ã™ã¹ãç‚¹ã‚’ãŠèã‹ã›ãã ã•ã„ã€‚";case"accessibility":return"ã©ã®ã‚ˆã†ãªæ©Ÿèƒ½ã‚„æ”¹å–„ãŒã‚ã‚‹ã¨ã€ã‚ˆã‚Šåˆ©ç”¨ã—ã‚„ã™ããªã‚Šã¾ã™ã‹ï¼Ÿ";default:return"ã”æ„è¦‹ã‚„ã”è³ªå•ã‚’ãŠèã‹ã›ãã ã•ã„ã€‚"}},_e=async()=>{if(Se.value&&!I.value){I.value=!0;try{let a;"bug"===E.value&&xe.value&&(a=await qe());const t={userAgent:navigator.userAgent,screenResolution:`${screen.width}x${screen.height}`,viewport:`${window.innerWidth}x${window.innerHeight}`,gameVersion:"0.2.7",timestamp:new Date,gameState:s.gameState},o={name:T.value?void 0:Re.submitter.name||void 0,email:T.value?void 0:Re.submitter.email||void 0,isAnonymous:T.value,userAgent:navigator.userAgent,sessionId:Fe()},c={category:(e=E.value,{bug:l.BUG_REPORT,feature:l.FEATURE_REQUEST,ui:l.UI_UX,review:l.GENERAL,accessibility:l.ACCESSIBILITY,general:l.GENERAL}[e]||l.GENERAL),title:Re.title.trim(),description:Re.description.trim(),submitter:o,systemInfo:t,tags:[E.value]};"bug"===E.value&&(c.bugReportData={stepsToReproduce:Re.bugReport.stepsToReproduce.split("\n").filter(e=>e.trim()),expectedBehavior:Re.bugReport.expectedBehavior,actualBehavior:Re.bugReport.actualBehavior,screenshot:a,severity:Re.bugReport.severity,reproductionRate:Re.bugReport.reproductionRate}),"review"===E.value&&(c.reviewData={overallRating:Re.review.overallRating,aspects:{gameplay:Re.review.aspects.gameplay,ui:Re.review.aspects.ui,performance:Re.review.aspects.performance,accessibility:Re.review.aspects.accessibility},wouldRecommend:Re.review.wouldRecommend,playTime:Me()});const n=B.createFeedback(c);U.value="success",i("feedbackSubmitted",n.id)}catch(a){alert("ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãå¾Œã«ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚")}finally{I.value=!1}var e}},qe=async()=>{try{const e=document.createElement("canvas"),a=e.getContext("2d");if(!a)return;return e.width=window.innerWidth,e.height=window.innerHeight,a.fillStyle="#1a1a1a",a.fillRect(0,0,e.width,e.height),a.fillStyle="#ffffff",a.font="16px Arial",a.fillText(`Screenshot captured at ${(new Date).toLocaleString()}`,10,30),e.toDataURL("image/png")}catch(e){return}},Fe=()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Me=()=>Math.floor(3600*Math.random()),Ve=()=>{U.value="selection",E.value="",I.value=!1,T.value=!0,xe.value=!1,Object.assign(Re,{title:"",description:"",submitter:{name:"",email:""},bugReport:{severity:"",reproductionRate:"",stepsToReproduce:"",expectedBehavior:"",actualBehavior:""},review:{overallRating:0,aspects:{gameplay:0,ui:0,performance:0,accessibility:0},wouldRecommend:!1}})};return r(()=>s.isOpen,e=>{e?document.body.style.overflow="hidden":(document.body.style.overflow="",Ve())}),u(()=>{}),(e,a)=>e.isOpen?(p(),d("div",{key:0,class:"feedback-modal-overlay",onClick:Ee},[m("div",{class:"feedback-modal",role:"dialog","aria-modal":"true","aria-labelledby":"feedback-title",onClick:a[12]||(a[12]=f(()=>{},["stop"]))},[m("header",A,[m("h2",_,b("selection"===U.value?"ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’é€ä¿¡":Te()),1),m("button",{class:"close-button","aria-label":"ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹",type:"button",onClick:Ue},a[13]||(a[13]=[m("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),"selection"===U.value?(p(),d("div",q,[a[14]||(a[14]=m("p",{class:"selection-description"}," ã”æ„è¦‹ã‚„ã”è¦æœ›ã‚’ãŠèã‹ã›ãã ã•ã„ã€‚ã‚ãªãŸã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒã‚²ãƒ¼ãƒ ã‚’ã‚ˆã‚Šè‰¯ãã—ã¾ã™ã€‚ ",-1)),m("div",F,[(p(),d(g,null,h($e,e=>m("button",{key:e.type,class:"feedback-option-btn","aria-describedby":`option-${e.type}-desc`,onClick:a=>{return t=e.type,E.value=t,void(U.value="form");var t}},[m("div",{class:"option-icon",style:y({backgroundColor:e.color})},b(e.icon),5),m("div",V,[m("h3",D,b(e.title),1),m("p",{id:`option-${e.type}-desc`,class:"option-description"},b(e.description),9,j)])],8,M)),64))])])):(p(),d("form",{key:1,class:"feedback-form",onSubmit:f(_e,["prevent"])},["bug"===E.value?(p(),d("div",L,[m("div",N,[a[16]||(a[16]=m("label",{for:"bug-severity",class:"form-label"},"é‡è¦åº¦",-1)),k(m("select",{id:"bug-severity","onUpdate:modelValue":a[0]||(a[0]=e=>Re.bugReport.severity=e),class:"form-select",required:""},a[15]||(a[15]=[x('<option value="" data-v-297885d9>é¸æŠã—ã¦ãã ã•ã„</option><option value="low" data-v-297885d9>è»½å¾® - æ“ä½œã«æ”¯éšœãªã—</option><option value="medium" data-v-297885d9>ä¸­ç¨‹åº¦ - ä¸€éƒ¨æ“ä½œã«å½±éŸ¿</option><option value="high" data-v-297885d9>é‡å¤§ - ã‚²ãƒ¼ãƒ é€²è¡Œã«æ”¯éšœ</option><option value="critical" data-v-297885d9>è‡´å‘½çš„ - ã‚²ãƒ¼ãƒ ãŒåœæ­¢</option>',5)]),512),[[w,Re.bugReport.severity]])]),m("div",G,[a[18]||(a[18]=m("label",{for:"reproduction-rate",class:"form-label"},"å†ç¾é »åº¦",-1)),k(m("select",{id:"reproduction-rate","onUpdate:modelValue":a[1]||(a[1]=e=>Re.bugReport.reproductionRate=e),class:"form-select",required:""},a[17]||(a[17]=[x('<option value="" data-v-297885d9>é¸æŠã—ã¦ãã ã•ã„</option><option value="always" data-v-297885d9>æ¯å›ç™ºç”Ÿ</option><option value="often" data-v-297885d9>é »ç¹ã«ç™ºç”Ÿ</option><option value="sometimes" data-v-297885d9>æ™‚ã€…ç™ºç”Ÿ</option><option value="rarely" data-v-297885d9>ç¨€ã«ç™ºç”Ÿ</option>',5)]),512),[[w,Re.bugReport.reproductionRate]])])])):v("",!0),"review"===E.value?(p(),d("div",O,[m("div",H,[a[19]||(a[19]=m("label",{class:"form-label"},"ç·åˆè©•ä¾¡",-1)),m("div",P,[(p(),d(g,null,h(5,e=>m("button",{key:e,type:"button",class:R(["star-button",{active:Re.review.overallRating>=e}]),"aria-label":`ç·åˆè©•ä¾¡ ${e} æ˜Ÿ`,onClick:a=>Ie("overall",e)}," â˜… ",10,W)),64))])]),m("div",z,[(p(),d(g,null,h(Ce,e=>m("div",{key:e.key,class:"aspect-rating"},[m("label",J,b(e.label),1),m("div",X,[(p(),d(g,null,h(5,a=>m("button",{key:a,type:"button",class:R(["star-button",{active:Re.review.aspects[e.key]>=a}]),"aria-label":`${e.label} ${a} æ˜Ÿ`,onClick:t=>Ie(e.key,a)}," â˜… ",10,Y)),64))])])),64))]),m("div",K,[m("label",Q,[k(m("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>Re.review.wouldRecommend=e),type:"checkbox",class:"form-checkbox"},null,512),[[C,Re.review.wouldRecommend]]),a[20]||(a[20]=$(" ã“ã®ã‚²ãƒ¼ãƒ ã‚’ä»–ã®äººã«ãŠã™ã™ã‚ã—ã¾ã™ã‹ï¼Ÿ ",-1))])])])):v("",!0),m("div",Z,[a[21]||(a[21]=m("label",{for:"feedback-title",class:"form-label"},[$(" ã‚¿ã‚¤ãƒˆãƒ« "),m("span",{class:"required"},"*")],-1)),k(m("input",{id:"feedback-title","onUpdate:modelValue":a[3]||(a[3]=e=>Re.title=e),type:"text",class:"form-input",placeholder:"ç°¡æ½”ã«ãŠèã‹ã›ãã ã•ã„",required:"",maxlength:"100"},null,512),[[S,Re.title]]),m("div",ee,b(Re.title.length)+"/100",1)]),m("div",ae,[a[22]||(a[22]=m("label",{for:"feedback-description",class:"form-label"},[$(" è©³ç´° "),m("span",{class:"required"},"*")],-1)),k(m("textarea",{id:"feedback-description","onUpdate:modelValue":a[4]||(a[4]=e=>Re.description=e),class:"form-textarea",placeholder:Ae(),required:"",rows:"5",maxlength:"1000"},null,8,te),[[S,Re.description]]),m("div",le,b(Re.description.length)+"/1000",1)]),"bug"===E.value?(p(),d("div",se,[m("div",ie,[a[23]||(a[23]=m("label",{for:"steps-to-reproduce",class:"form-label"},[$(" å†ç¾æ‰‹é † "),m("span",{class:"required"},"*")],-1)),k(m("textarea",{id:"steps-to-reproduce","onUpdate:modelValue":a[5]||(a[5]=e=>Re.bugReport.stepsToReproduce=e),class:"form-textarea",placeholder:"1. â—‹â—‹ã‚’ã‚¯ãƒªãƒƒã‚¯\n2. â–³â–³ã‚’é¸æŠ\n3. â–¡â–¡ãŒç™ºç”Ÿ",required:"",rows:"4"},null,512),[[S,Re.bugReport.stepsToReproduce]])]),m("div",oe,[a[24]||(a[24]=m("label",{for:"expected-behavior",class:"form-label"},"æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ",-1)),k(m("textarea",{id:"expected-behavior","onUpdate:modelValue":a[6]||(a[6]=e=>Re.bugReport.expectedBehavior=e),class:"form-textarea",placeholder:"æœ¬æ¥ã¯ã©ã®ã‚ˆã†ãªå‹•ä½œã‚’æœŸå¾…ã—ã¦ã„ã¾ã—ãŸã‹ï¼Ÿ",rows:"2"},null,512),[[S,Re.bugReport.expectedBehavior]])]),m("div",ce,[a[25]||(a[25]=m("label",{for:"actual-behavior",class:"form-label"},"å®Ÿéš›ã®å‹•ä½œ",-1)),k(m("textarea",{id:"actual-behavior","onUpdate:modelValue":a[7]||(a[7]=e=>Re.bugReport.actualBehavior=e),class:"form-textarea",placeholder:"å®Ÿéš›ã«ã¯ã©ã®ã‚ˆã†ãªå‹•ä½œãŒç™ºç”Ÿã—ã¾ã—ãŸã‹ï¼Ÿ",rows:"2"},null,512),[[S,Re.bugReport.actualBehavior]])]),m("div",ne,[m("label",re,[k(m("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>xe.value=e),type:"checkbox",class:"form-checkbox"},null,512),[[C,xe.value]]),a[26]||(a[26]=$(" ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’å«ã‚ã‚‹ï¼ˆæ¨å¥¨ï¼‰ ",-1))]),a[27]||(a[27]=m("p",{class:"form-help"},"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã¯å•é¡Œã®ç‰¹å®šã«å½¹ç«‹ã¡ã¾ã™",-1))])])):v("",!0),m("div",ue,[a[33]||(a[33]=m("h3",{class:"section-title"},"é€ä¿¡è€…æƒ…å ±ï¼ˆä»»æ„ï¼‰",-1)),m("div",de,[m("label",ve,[k(m("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>T.value=e),type:"checkbox",class:"form-checkbox"},null,512),[[C,T.value]]),a[28]||(a[28]=$(" åŒ¿åã§é€ä¿¡ã™ã‚‹ ",-1))]),a[29]||(a[29]=m("p",{class:"form-help"}," åŒ¿åã®å ´åˆã€è¿”ä¿¡ã¯ã§ãã¾ã›ã‚“ãŒã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯å¤§åˆ‡ã«æ´»ç”¨ã•ã›ã¦ã„ãŸã ãã¾ã™ ",-1))]),T.value?v("",!0):(p(),d("div",pe,[m("div",me,[a[30]||(a[30]=m("label",{for:"submitter-name",class:"form-label"},"ãŠåå‰",-1)),k(m("input",{id:"submitter-name","onUpdate:modelValue":a[10]||(a[10]=e=>Re.submitter.name=e),type:"text",class:"form-input",placeholder:"ç”°ä¸­å¤ªéƒ",maxlength:"50"},null,512),[[S,Re.submitter.name]])]),m("div",be,[a[31]||(a[31]=m("label",{for:"submitter-email",class:"form-label"},"ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹",-1)),k(m("input",{id:"submitter-email","onUpdate:modelValue":a[11]||(a[11]=e=>Re.submitter.email=e),type:"email",class:"form-input",placeholder:"example@example.com"},null,512),[[S,Re.submitter.email]]),a[32]||(a[32]=m("p",{class:"form-help"},"è¿”ä¿¡ãŒå¿…è¦ãªå ´åˆã®ã¿ã”å…¥åŠ›ãã ã•ã„",-1))])]))]),m("div",ge,[m("button",{type:"button",class:"btn-secondary",onClick:Be}," æˆ»ã‚‹ "),m("button",{type:"submit",class:"btn-primary",disabled:!Se.value||I.value},[I.value?(p(),d("span",ye,"é€ä¿¡ä¸­...")):(p(),d("span",fe,"é€ä¿¡ã™ã‚‹"))],8,he)])],32)),"success"===U.value?(p(),d("div",ke,[a[34]||(a[34]=m("div",{class:"success-icon"},"âœ…",-1)),a[35]||(a[35]=m("h3",{class:"success-title"},"ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’é€ä¿¡ã—ã¾ã—ãŸ",-1)),m("p",we," è²´é‡ãªã”æ„è¦‹ã‚’ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ "+b(T.value?"ã„ãŸã ã„ãŸãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯ä»Šå¾Œã®æ”¹å–„ã«æ´»ç”¨ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚":"ã”é€£çµ¡å…ˆã‚’ã„ãŸã ã„ã¦ã„ã‚‹å ´åˆã¯ã€å¿…è¦ã«å¿œã˜ã¦è¿”ä¿¡ã„ãŸã—ã¾ã™ã€‚"),1),m("button",{class:"btn-primary",onClick:Ue},"é–‰ã˜ã‚‹")])):v("",!0)])])):v("",!0)}}),[["__scopeId","data-v-297885d9"]]),Re={class:"review-system"},$e={key:0,class:"quick-review"},Ce={class:"quick-actions"},Se=["aria-label","onClick"],Be={class:"rating-emoji"},Ue={class:"rating-label"},Ee=["disabled"],Ie={key:1,class:"detailed-review"},Te={class:"rating-section"},Ae={class:"star-rating-container"},_e={class:"star-rating"},qe=["aria-label","onClick","onMouseover"],Fe={class:"rating-description"},Me={class:"aspect-ratings-section"},Ve={class:"aspect-grid"},De={class:"aspect-header"},je={class:"aspect-icon"},Le={class:"aspect-info"},Ne={class:"aspect-title"},Ge={class:"aspect-description"},Oe={class:"aspect-rating"},He={class:"star-rating small"},Pe=["aria-label","onClick"],We={class:"comment-section"},ze={class:"comment-prompts"},Je=["onClick"],Xe=["placeholder"],Ye={class:"character-count"},Ke={class:"recommendation-section"},Qe={class:"recommendation-scale"},Ze={class:"scale-track"},ea=["aria-label"],aa={class:"scale-markers"},ta={class:"scale-value"},la={class:"tags-section"},sa={class:"tags-grid"},ia=["onClick"],oa={class:"tag-icon"},ca={class:"tag-label"},na={class:"playtime-section"},ra={class:"playtime-options"},ua=["onClick"],da={class:"form-actions"},va=["disabled"],pa={key:0},ma={key:1},ba={key:2,class:"success-overlay"},ga=T(i({__name:"ReviewSystem",props:{mode:{default:"quick"},gameState:{}},emits:["reviewSubmitted","modeChanged"],setup(e,{emit:a}){const l=e,s=a,i=new t,u=o(l.mode),y=o(0),w=o(0),x=o(0),$=o(""),C=o(5),B=o(""),U=o([]),E=o(null),I=o(!1),T=o(!1),A=c({gameplay:0,ui:0,performance:0,accessibility:0}),_=[{value:1,label:"ã„ã¾ã„ã¡",emoji:"ğŸ˜",description:"æœŸå¾…ã«å±Šã‹ãªã‹ã£ãŸ"},{value:2,label:"ã¾ã‚ã¾ã‚",emoji:"ğŸ˜",description:"æ™®é€šã®å‡ºæ¥"},{value:3,label:"ã‚ˆã‹ã£ãŸ",emoji:"ğŸ˜Š",description:"æ¥½ã—ã‚ãŸ"},{value:4,label:"ã¨ã¦ã‚‚ã‚ˆã‹ã£ãŸ",emoji:"ğŸ˜„",description:"å¤§ã„ã«æ¥½ã—ã‚ãŸ"},{value:5,label:"æœ€é«˜ã ã£ãŸ",emoji:"ğŸ¤©",description:"æœŸå¾…ã‚’å¤§ããä¸Šå›ã£ãŸ"}],q=[{key:"gameplay",title:"ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤",description:"é¢ç™½ã•ãƒ»æˆ¦ç•¥æ€§",icon:"ğŸ®"},{key:"ui",title:"UIãƒ»æ“ä½œæ€§",description:"ä½¿ã„ã‚„ã™ã•ãƒ»ç›´æ„Ÿæ€§",icon:"ğŸ–±ï¸"},{key:"performance",title:"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹",description:"å‹•ä½œã®è»½ã•ãƒ»å®‰å®šæ€§",icon:"âš¡"},{key:"accessibility",title:"ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£",description:"åˆ©ç”¨ã—ã‚„ã™ã•ãƒ»é…æ…®",icon:"â™¿"}],F=[{id:"liked",text:"ç‰¹ã«è‰¯ã‹ã£ãŸç‚¹",placeholder:"ã©ã®éƒ¨åˆ†ãŒç‰¹ã«æ°—ã«å…¥ã‚Šã¾ã—ãŸã‹ï¼Ÿå…·ä½“çš„ã«ãŠèã‹ã›ãã ã•ã„ã€‚"},{id:"improvement",text:"æ”¹å–„ã—ã¦ã»ã—ã„ç‚¹",placeholder:"ã©ã®éƒ¨åˆ†ã‚’æ”¹å–„ã™ã‚Œã°ã‚ˆã‚Šè‰¯ããªã‚‹ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ"},{id:"feature",text:"è¿½åŠ ã—ã¦ã»ã—ã„æ©Ÿèƒ½",placeholder:"ã©ã®ã‚ˆã†ãªæ©Ÿèƒ½ãŒã‚ã‚‹ã¨æ›´ã«æ¥½ã—ã‚ã‚‹ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ"},{id:"general",text:"å…¨ä½“çš„ãªæ„Ÿæƒ³",placeholder:"ã‚²ãƒ¼ãƒ å…¨ä½“ã‚’é€šã—ã¦ã®æ„Ÿæƒ³ã‚’ãŠèã‹ã›ãã ã•ã„ã€‚"}],M=[{id:"addictive",label:"ãƒãƒã‚‹",icon:"ğŸ¯"},{id:"relaxing",label:"ãƒªãƒ©ãƒƒã‚¯ã‚¹",icon:"ğŸ˜Œ"},{id:"challenging",label:"ã‚„ã‚ŠãŒã„",icon:"ğŸ’ª"},{id:"educational",label:"å­¦ã³ã«ãªã‚‹",icon:"ğŸ“š"},{id:"innovative",label:"æ–¬æ–°",icon:"ğŸ’¡"},{id:"beautiful",label:"ç¾ã—ã„",icon:"ğŸ¨"},{id:"intuitive",label:"ç›´æ„Ÿçš„",icon:"ğŸ‘†"},{id:"immersive",label:"æ²¡å…¥æ„Ÿ",icon:"ğŸŒŸ"}],V=[{value:"< 30min",label:"30åˆ†æœªæº€"},{value:"30min - 1h",label:"30åˆ†ã€œ1æ™‚é–“"},{value:"1h - 2h",label:"1ã€œ2æ™‚é–“"},{value:"2h - 5h",label:"2ã€œ5æ™‚é–“"},{value:"5h+",label:"5æ™‚é–“ä»¥ä¸Š"}],D=n(()=>x.value>0&&$.value.trim().length>0),j=()=>{y.value>0&&(x.value=y.value,Object.keys(A).forEach(e=>{A[e]=y.value}),C.value=y.value>=4?8:4),u.value="detailed",s("modeChanged","detailed")},L=()=>{u.value="quick",s("modeChanged","quick")},N=async()=>{if(D.value&&!I.value){I.value=!0;try{const e=await i.createReview({title:`è©³ç´°ãƒ¬ãƒ“ãƒ¥ãƒ¼: ${H(x.value)}`,description:$.value.trim(),submitter:{isAnonymous:!0,userAgent:navigator.userAgent,sessionId:P()},systemInfo:{userAgent:navigator.userAgent,screenResolution:`${screen.width}x${screen.height}`,viewport:`${window.innerWidth}x${window.innerHeight}`,gameVersion:"0.2.7",timestamp:new Date,gameState:l.gameState},reviewData:{overallRating:x.value,aspects:{gameplay:A.gameplay,ui:A.ui,performance:A.performance,accessibility:A.accessibility},wouldRecommend:C.value>=6,playTime:W()},tags:["detailed-review",...U.value,`recommendation-${C.value}`,B.value?`playtime-${B.value}`:""].filter(Boolean)});T.value=!0,s("reviewSubmitted",e.id)}catch(e){alert("ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚")}finally{I.value=!1}}},G=()=>{T.value=!1,O()},O=()=>{y.value=0,x.value=0,$.value="",C.value=5,B.value="",U.value=[],E.value=null,Object.keys(A).forEach(e=>{A[e]=0})},H=e=>["","æ”¹å–„ãŒå¿…è¦","ã¾ã‚ã¾ã‚","è‰¯ã„","ã¨ã¦ã‚‚è‰¯ã„","ç´ æ™´ã‚‰ã—ã„"][e]||"",P=()=>`review_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,W=()=>({"< 30min":15,"30min - 1h":45,"1h - 2h":90,"2h - 5h":210,"5h+":360}[B.value]||0);return r(()=>l.mode,e=>{u.value=e}),(e,a)=>(p(),d("div",Re,["quick"===e.mode?(p(),d("div",$e,[a[3]||(a[3]=m("div",{class:"quick-review-header"},[m("h3",{class:"quick-title"},"ã‚²ãƒ¼ãƒ ã¯ã„ã‹ãŒã§ã—ãŸã‹ï¼Ÿ"),m("p",{class:"quick-subtitle"},"ç°¡å˜ãªè©•ä¾¡ã‚’ãŠèã‹ã›ãã ã•ã„")],-1)),m("div",Ce,[(p(),d(g,null,h(_,e=>m("button",{key:e.value,class:R(["quick-rating-btn",{selected:y.value===e.value}]),"aria-label":`${e.label} - ${e.description}`,onClick:a=>(async e=>{y.value=e;try{const a=await i.createReview({title:`ã‚¯ã‚¤ãƒƒã‚¯è©•ä¾¡: ${_.find(a=>a.value===e)?.label}`,description:`ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã® ${e} æ˜Ÿè©•ä¾¡`,submitter:{isAnonymous:!0,userAgent:navigator.userAgent,sessionId:P()},systemInfo:{userAgent:navigator.userAgent,screenResolution:`${screen.width}x${screen.height}`,viewport:`${window.innerWidth}x${window.innerHeight}`,gameVersion:"0.2.7",timestamp:new Date,gameState:l.gameState},reviewData:{overallRating:e,aspects:{gameplay:e,ui:e,performance:e,accessibility:e},wouldRecommend:e>=4}});T.value=!0,s("reviewSubmitted",a.id)}catch(a){alert("è©•ä¾¡ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚")}})(e.value)},[m("div",Be,b(e.emoji),1),m("div",Ue,b(e.label),1)],10,Se)),64))]),m("button",{class:"expand-btn",disabled:!y.value,onClick:j}," è©³ç´°ãªè©•ä¾¡ã‚’æ›¸ã ",8,Ee)])):(p(),d("div",Ie,[a[13]||(a[13]=m("div",{class:"review-header"},[m("h3",{class:"review-title"},"è©³ç´°ãƒ¬ãƒ“ãƒ¥ãƒ¼"),m("p",{class:"review-subtitle"},"ã‚ãªãŸã®ä½“é¨“ã‚’ãŠèã‹ã›ãã ã•ã„")],-1)),m("form",{class:"review-form",onSubmit:f(N,["prevent"])},[m("div",Te,[a[4]||(a[4]=m("h4",{class:"section-title"},"ç·åˆè©•ä¾¡",-1)),m("div",Ae,[m("div",_e,[(p(),d(g,null,h(5,e=>m("button",{key:e,type:"button",class:R(["star-button",{active:x.value>=e,hover:w.value>=e&&w.value>x.value}]),"aria-label":`${e} æ˜Ÿè©•ä¾¡`,onClick:a=>{return t=e,void(x.value=t);var t},onMouseover:a=>w.value=e,onMouseleave:a[0]||(a[0]=e=>w.value=0)}," â˜… ",42,qe)),64))]),m("div",Fe,b(H(w.value||x.value)),1)])]),m("div",Me,[a[5]||(a[5]=m("h4",{class:"section-title"},"é …ç›®åˆ¥è©•ä¾¡",-1)),m("div",Ve,[(p(),d(g,null,h(q,e=>m("div",{key:e.key,class:"aspect-item"},[m("div",De,[m("div",je,b(e.icon),1),m("div",Le,[m("h5",Ne,b(e.title),1),m("p",Ge,b(e.description),1)])]),m("div",Oe,[m("div",He,[(p(),d(g,null,h(5,a=>m("button",{key:a,type:"button",class:R(["star-button",{active:A[e.key]>=a}]),"aria-label":`${e.title} ${a} æ˜Ÿè©•ä¾¡`,onClick:t=>((e,a)=>{A[e]=a})(e.key,a)}," â˜… ",10,Pe)),64))])])])),64))])]),m("div",We,[a[6]||(a[6]=m("h4",{class:"section-title"},"ã‚³ãƒ¡ãƒ³ãƒˆ",-1)),m("div",ze,[(p(),d(g,null,h(F,e=>m("button",{key:e.id,type:"button",class:R(["prompt-btn",{selected:E.value?.id===e.id}]),onClick:a=>(e=>{E.value=E.value?.id===e.id?null:e})(e)},b(e.text),11,Je)),64))]),k(m("textarea",{"onUpdate:modelValue":a[1]||(a[1]=e=>$.value=e),class:"comment-textarea",placeholder:E.value?.placeholder||"è‡ªç”±ã«ã”æ„Ÿæƒ³ã‚’ãŠèã‹ã›ãã ã•ã„...",rows:"4",maxlength:"500"},null,8,Xe),[[S,$.value]]),m("div",Ye,b($.value.length)+"/500",1)]),m("div",Ke,[a[8]||(a[8]=m("h4",{class:"section-title"},"æ¨å¥¨åº¦",-1)),a[9]||(a[9]=m("p",{class:"section-description"},"ã“ã®ã‚²ãƒ¼ãƒ ã‚’å‹äººã«ãŠã™ã™ã‚ã—ã¾ã™ã‹ï¼Ÿ",-1)),m("div",Qe,[a[7]||(a[7]=m("div",{class:"scale-labels"},[m("span",{class:"scale-label"},"ãŠã™ã™ã‚ã—ãªã„"),m("span",{class:"scale-label"},"ãŠã™ã™ã‚ã™ã‚‹")],-1)),m("div",Ze,[k(m("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>C.value=e),type:"range",min:"0",max:"10",step:"1",class:"scale-slider","aria-label":`æ¨å¥¨åº¦ ${C.value} ç‚¹`},null,8,ea),[[S,C.value]]),m("div",aa,[(p(),d(g,null,h(11,e=>m("div",{key:e-1,class:R(["scale-marker",{active:C.value>=e-1}])},null,2)),64))])]),m("div",ta,b(C.value)+"/10",1)])]),m("div",la,[a[10]||(a[10]=m("h4",{class:"section-title"},"å°è±¡çš„ã ã£ãŸè¦ç´ ",-1)),a[11]||(a[11]=m("p",{class:"section-description"},"å½“ã¦ã¯ã¾ã‚‹ã‚‚ã®ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰",-1)),m("div",sa,[(p(),d(g,null,h(M,e=>m("button",{key:e.id,type:"button",class:R(["tag-button",{selected:U.value.includes(e.id)}]),onClick:a=>(e=>{const a=U.value.indexOf(e);a>-1?U.value.splice(a,1):U.value.push(e)})(e.id)},[m("span",oa,b(e.icon),1),m("span",ca,b(e.label),1)],10,ia)),64))])]),m("div",na,[a[12]||(a[12]=m("h4",{class:"section-title"},"ãƒ—ãƒ¬ã‚¤æ™‚é–“",-1)),m("div",ra,[(p(),d(g,null,h(V,e=>m("button",{key:e.value,type:"button",class:R(["playtime-btn",{selected:B.value===e.value}]),onClick:a=>B.value=e.value},b(e.label),11,ua)),64))])]),m("div",da,[m("button",{type:"button",class:"btn-secondary",onClick:L}," ç°¡æ˜“ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã‚‹ "),m("button",{type:"submit",class:"btn-primary",disabled:!D.value||I.value},[I.value?(p(),d("span",pa,"é€ä¿¡ä¸­...")):(p(),d("span",ma,"ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’é€ä¿¡"))],8,va)])],32)])),T.value?(p(),d("div",ba,[m("div",{class:"success-content"},[a[14]||(a[14]=m("div",{class:"success-icon"},"ğŸ‰",-1)),a[15]||(a[15]=m("h3",{class:"success-title"},"ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼",-1)),a[16]||(a[16]=m("p",{class:"success-message"}," ã‚ãªãŸã®è²´é‡ãªæ„è¦‹ãŒã‚²ãƒ¼ãƒ ã®æ”¹å–„ã«å½¹ç«‹ã¡ã¾ã™ã€‚ ",-1)),m("button",{class:"btn-primary",onClick:G}," é–‰ã˜ã‚‹ ")])])):v("",!0)]))}}),[["__scopeId","data-v-3b012f41"]]),ha=new class{constructor(){a(this,"repoOwner"),a(this,"repoName"),a(this,"issueTemplate"),this.repoOwner="shishihs",this.repoName="insurance_self_game",this.issueTemplate="bug_report"}async createBugReport(e){try{const a=this.formatBugReportForGitHub(e),t=`[BUG] ${e.title}`,l=this.createIssueUrl(t,a,["bug",this.getSeverityLabel(e.severity)]);return"undefined"!=typeof window&&window.open(l,"_blank"),{success:!0,issueUrl:l,issueBody:a}}catch(a){const t=this.formatBugReportForGitHub(e);return{success:!1,fallbackMethod:e.contactInfo?.email?"email":"copy",issueBody:t,errorMessage:a instanceof Error?a.message:"Unknown error"}}}async createFeedback(e){try{const a=this.formatFeedbackForGitHub(e),t=`[FEEDBACK] ${e.title}`,l=this.createIssueUrl(t,a,["feedback","enhancement"]);return"undefined"!=typeof window&&window.open(l,"_blank"),{success:!0,issueUrl:l,issueBody:a}}catch(a){const t=this.formatFeedbackForGitHub(e);return{success:!1,fallbackMethod:e.contactInfo?.email?"email":"copy",issueBody:t,errorMessage:a instanceof Error?a.message:"Unknown error"}}}createIssueUrl(e,a,t){return`https://github.com/${this.repoOwner}/${this.repoName}/issues/new?${new URLSearchParams({title:e,body:a,labels:t.join(","),template:this.issueTemplate}).toString()}`}formatBugReportForGitHub(e){let a=`## ãƒã‚°ã®æ¦‚è¦\n${e.description}\n\n`;return a+=`## é‡è¦åº¦\n**${this.getSeverityLabel(e.severity)}**\n\n`,a+=`## ã‚«ãƒ†ã‚´ãƒªãƒ¼\n${e.category}\n\n`,a+=`## å†ç¾æ‰‹é †\n${e.stepsToReproduce}\n\n`,e.expectedBehavior&&(a+=`## æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ\n${e.expectedBehavior}\n\n`),e.actualBehavior&&(a+=`## å®Ÿéš›ã®å‹•ä½œ\n${e.actualBehavior}\n\n`),a+=`## å†ç¾é »åº¦\n${e.reproductionRate}\n\n`,e.errorMessage&&(a+=`## ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\n\`\`\`\n${e.errorMessage}\n\`\`\`\n\n`),e.systemInfo&&(a+="## ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±\n",a+=`- **ãƒ–ãƒ©ã‚¦ã‚¶**: ${e.systemInfo.browserName||"Unknown"}\n`,a+=`- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: ${e.systemInfo.browserVersion||"Unknown"}\n`,a+=`- **OS**: ${e.systemInfo.os||"Unknown"}\n`,a+=`- **ç”»é¢è§£åƒåº¦**: ${e.systemInfo.screenResolution||"Unknown"}\n`,a+=`- **ã‚²ãƒ¼ãƒ çŠ¶æ…‹**: ${e.systemInfo.gameState||"Unknown"}\n`,a+=`- **å ±å‘Šæ—¥æ™‚**: ${(new Date).toLocaleString("ja-JP")}\n\n`),(e.contactInfo?.email||e.contactInfo?.name)&&(a+="## é€£çµ¡å…ˆæƒ…å ±\n",e.contactInfo.name&&(a+=`- **åå‰**: ${e.contactInfo.name}\n`),e.contactInfo.email&&(a+=`- **ãƒ¡ãƒ¼ãƒ«**: ${e.contactInfo.email}\n`),a+="\n"),a+="---\n",a+="*ã“ã®ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆã¯ [äººç”Ÿå……å®Ÿã‚²ãƒ¼ãƒ ](https://shishihs.github.io/insurance_self_game/) ã‹ã‚‰è‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚*",a}formatFeedbackForGitHub(e){let a=`## ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å†…å®¹\n${e.description}\n\n`;return a+=`## ã‚«ãƒ†ã‚´ãƒªãƒ¼\n${e.category}\n\n`,(e.contactInfo?.email||e.contactInfo?.name)&&(a+="## é€£çµ¡å…ˆæƒ…å ±\n",e.contactInfo.name&&(a+=`- **åå‰**: ${e.contactInfo.name}\n`),e.contactInfo.email&&(a+=`- **ãƒ¡ãƒ¼ãƒ«**: ${e.contactInfo.email}\n`),a+="\n"),a+=`## å ±å‘Šæ—¥æ™‚\n${(new Date).toLocaleString("ja-JP")}\n\n`,a+="---\n",a+="*ã“ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯ [äººç”Ÿå……å®Ÿã‚²ãƒ¼ãƒ ](https://shishihs.github.io/insurance_self_game/) ã‹ã‚‰é€ä¿¡ã•ã‚Œã¾ã—ãŸã€‚*",a}getSeverityLabel(e){return{low:"ğŸŸ¢ è»½å¾®",medium:"ğŸŸ¡ ä¸­ç¨‹åº¦",high:"ğŸŸ  é‡å¤§",critical:"ğŸ”´ è‡´å‘½çš„"}[e]||e}createEmailUrl(e,a,t="feedback@example.com"){return`mailto:${t}?${new URLSearchParams({subject:e,body:a}).toString()}`}async copyToClipboard(e){try{if(navigator.clipboard)return await navigator.clipboard.writeText(e),!0;{const a=document.createElement("textarea");a.value=e,a.style.position="fixed",a.style.opacity="0",document.body.appendChild(a),a.select();const t=document.execCommand("copy");return document.body.removeChild(a),t}}catch(a){return!1}}},ya={class:"bug-reporter"},fa={class:"form-section"},ka={class:"bug-categories"},wa=["aria-describedby","onClick"],xa={class:"category-content"},Ra={class:"category-title"},$a=["id"],Ca={class:"form-section"},Sa={key:0,class:"severity-description"},Ba={class:"form-section"},Ua=["placeholder"],Ea={class:"character-count"},Ia={class:"form-section"},Ta={class:"character-count"},Aa={class:"form-section"},_a={class:"steps-helper"},qa={class:"helper-tabs"},Fa={key:0,class:"manual-input"},Ma={key:1,class:"guided-input"},Va={class:"steps-list"},Da={class:"step-number"},ja=["onUpdate:modelValue","placeholder"],La=["onClick"],Na=["disabled"],Ga={class:"form-section"},Oa={class:"form-section"},Ha={class:"form-section"},Pa={class:"frequency-options"},Wa=["value"],za={class:"frequency-content"},Ja={class:"frequency-label"},Xa={class:"frequency-description"},Ya={class:"form-section"},Ka={class:"form-section"},Qa={class:"screenshot-section"},Za={class:"screenshot-header"},et={class:"screenshot-actions"},at=["disabled"],tt={key:0},lt={key:1},st={key:0,class:"screenshots-preview"},it=["src","alt","onClick"],ot={class:"screenshot-info"},ct={class:"screenshot-name"},nt={class:"screenshot-size"},rt=["onClick"],ut={key:1,class:"no-screenshots"},dt={class:"form-section"},vt={class:"system-info-section"},pt={class:"system-info-toggle"},mt={class:"toggle-label"},bt={key:0,class:"system-info-preview"},gt={class:"info-item"},ht={class:"info-value"},yt={class:"info-item"},ft={class:"info-value"},kt={class:"info-item"},wt={class:"info-value"},xt={class:"form-section"},Rt={class:"contact-toggle"},$t={class:"toggle-label"},Ct={key:0,class:"contact-fields"},St={class:"contact-field"},Bt={class:"contact-field"},Ut={class:"form-actions"},Et=["disabled"],It={key:0},Tt={key:1},At=["src"],_t={key:1,class:"success-overlay"},qt={class:"success-content"},Ft={class:"success-details"},Mt={class:"report-id"},Vt={class:"success-message"},Dt={class:"toast-icon"},jt={class:"toast-content"},Lt={class:"toast-title"},Nt={class:"toast-message"},Gt=T(i({__name:"BugReporter",props:{gameState:{}},emits:["bugReported","close"],setup(e,{emit:a}){const l=e,s=a,i=new t,r=o("manual"),U=o([""]),E=o([]),I=o(!1),T=o(!0),A=o(!1),_=o(!1),q=o(!1),F=o(""),M=o(""),V=o(null),D=o(""),j=o(null),L=c({severity:"",title:"",description:"",stepsToReproduce:"",expectedBehavior:"",actualBehavior:"",reproductionRate:"",errorMessage:"",contactEmail:"",contactName:""}),N=[{id:"ui",title:"UIãƒ»è¡¨ç¤ºã®å•é¡Œ",description:"ãƒœã‚¿ãƒ³ãŒæŠ¼ã›ãªã„ã€è¡¨ç¤ºãŒå´©ã‚Œã‚‹ãªã©",icon:"ğŸ¨",color:"#8B5CF6"},{id:"gameplay",title:"ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ã®å•é¡Œ",description:"ã‚«ãƒ¼ãƒ‰ãŒé¸æŠã§ããªã„ã€ã‚²ãƒ¼ãƒ ãŒé€²ã¾ãªã„ãªã©",icon:"ğŸ®",color:"#3B82F6"},{id:"performance",title:"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œ",description:"å‹•ä½œãŒé‡ã„ã€ãƒ•ãƒªãƒ¼ã‚ºã™ã‚‹ãªã©",icon:"âš¡",color:"#F59E0B"},{id:"audio",title:"éŸ³å£°ã®å•é¡Œ",description:"éŸ³ãŒå‡ºãªã„ã€éŸ³é‡èª¿æ•´ãŒã§ããªã„ãªã©",icon:"ğŸ”Š",color:"#10B981"},{id:"save",title:"ã‚»ãƒ¼ãƒ–ãƒ»ãƒ­ãƒ¼ãƒ‰ã®å•é¡Œ",description:"é€²è¡ŒçŠ¶æ³ãŒä¿å­˜ã•ã‚Œãªã„ã€èª­ã¿è¾¼ã‚ãªã„ãªã©",icon:"ğŸ’¾",color:"#EF4444"},{id:"other",title:"ãã®ä»–",description:"ä¸Šè¨˜ã«å½“ã¦ã¯ã¾ã‚‰ãªã„å•é¡Œ",icon:"â“",color:"#6B7280"}],G=[{value:"always",label:"æ¯å›ç™ºç”Ÿ",description:"åŒã˜æ“ä½œã‚’ã™ã‚‹ã¨å¿…ãšç™ºç”Ÿã™ã‚‹"},{value:"often",label:"é »ç¹ã«ç™ºç”Ÿ",description:"åŠåˆ†ä»¥ä¸Šã®ç¢ºç‡ã§ç™ºç”Ÿã™ã‚‹"},{value:"sometimes",label:"æ™‚ã€…ç™ºç”Ÿ",description:"ãŸã¾ã«ç™ºç”Ÿã™ã‚‹"},{value:"rarely",label:"ç¨€ã«ç™ºç”Ÿ",description:"ä¸€åº¦ã ã‘ã€ã¾ãŸã¯éå¸¸ã«ç¨€ã«ç™ºç”Ÿ"}],O=n(()=>L.severity&&L.title.trim()&&L.description.trim()&&L.stepsToReproduce.trim()&&L.reproductionRate),H=()=>{D.value={low:"æ©Ÿèƒ½ã¯ä½¿ãˆã‚‹ãŒã€æ”¹å–„ã®ä½™åœ°ãŒã‚ã‚‹è»½å¾®ãªå•é¡Œ",medium:"ã„ãã¤ã‹ã®æ©Ÿèƒ½ã«å½±éŸ¿ã™ã‚‹ãŒã€å›é¿æ–¹æ³•ãŒã‚ã‚‹å•é¡Œ",high:"ã‚²ãƒ¼ãƒ ã®ä¸»è¦æ©Ÿèƒ½ã«å¤§ããå½±éŸ¿ã™ã‚‹å•é¡Œ",critical:"ã‚²ãƒ¼ãƒ ãŒå…¨ãä½¿ç”¨ã§ããªã„ã€ã¾ãŸã¯ãƒ‡ãƒ¼ã‚¿æå¤±ã®å¯èƒ½æ€§ãŒã‚ã‚‹å•é¡Œ"}[L.severity]||""},P=()=>{U.value.length<10&&U.value.push("")},W=()=>{L.stepsToReproduce=U.value.filter(e=>e.trim()).map((e,a)=>`${a+1}. ${e}`).join("\n")},z=async()=>{I.value=!0;try{const e=document.createElement("canvas"),a=e.getContext("2d");if(!a)throw new Error("Canvas context not available");e.width=window.innerWidth,e.height=window.innerHeight,a.fillStyle="#1a1a1a",a.fillRect(0,0,e.width,e.height),a.fillStyle="#ffffff",a.font="16px Arial",a.fillText(`Screenshot captured at ${(new Date).toLocaleString()}`,10,30),a.fillText(`Browser: ${navigator.userAgent.split(" ").slice(-1)[0]}`,10,60),a.fillText(`Screen: ${e.width}x${e.height}`,10,90),l.gameState&&(a.fillText(`Game Stage: ${l.gameState.stage}`,10,120),a.fillText(`Turn: ${l.gameState.turn}`,10,150),a.fillText(`Vitality: ${l.gameState.vitality}`,10,180));const t=e.toDataURL("image/png"),s=Math.round(3*t.length/4);E.value.push({name:`screenshot_${Date.now()}.png`,data:t,size:s})}catch(e){alert("ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã®æ’®å½±ã«å¤±æ•—ã—ã¾ã—ãŸã€‚")}finally{I.value=!1}},J=e=>{const a=e.target,t=a.files;t&&(Array.from(t).forEach(e=>{if(e.type.startsWith("image/")){const a=new FileReader;a.onload=a=>{const t=a.target?.result;t&&E.value.push({name:e.name,data:t,size:e.size})},a.readAsDataURL(e)}}),a.value="")},X=()=>{M.value=""},Y=e=>{if(0===e)return"0 Bytes";const a=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/1024**a).toFixed(2))} ${["Bytes","KB","MB","GB"][a]}`},K=()=>{const e=navigator.userAgent;return e.includes("Chrome")?"Chrome":e.includes("Firefox")?"Firefox":e.includes("Safari")?"Safari":e.includes("Edge")?"Edge":"Unknown"},Q=async()=>{if(O.value&&!_.value){_.value=!0;try{const e={browserName:K(),browserVersion:navigator.userAgent,os:navigator.platform,screenResolution:`${screen.width}x${screen.height}`,viewport:`${window.innerWidth}x${window.innerHeight}`,gameVersion:"0.2.7",timestamp:new Date,gameState:l.gameState?`${l.gameState.stage} - Turn ${l.gameState.turn} - Vitality ${l.gameState.vitality}`:"Unknown"},a={title:L.title.trim(),description:L.description.trim(),severity:L.severity,category:V.value?.title||"ãã®ä»–",stepsToReproduce:L.stepsToReproduce,expectedBehavior:L.expectedBehavior||void 0,actualBehavior:L.actualBehavior||void 0,reproductionRate:le(L.reproductionRate),errorMessage:L.errorMessage||void 0,systemInfo:T.value?e:void 0,contactInfo:A.value?{name:L.contactName||void 0,email:L.contactEmail||void 0}:void 0,screenshots:E.value.map(e=>e.data)},t=await ha.createBugReport(a),o={stepsToReproduce:L.stepsToReproduce.split("\n").filter(e=>e.trim()),expectedBehavior:L.expectedBehavior,actualBehavior:L.actualBehavior,errorMessage:L.errorMessage||void 0,severity:L.severity,reproductionRate:L.reproductionRate,screenshot:E.value.length>0?E.value[0].data:void 0},c={name:A.value&&L.contactName||void 0,email:A.value&&L.contactEmail||void 0,isAnonymous:!A.value,userAgent:navigator.userAgent,sessionId:te()},n=["bug-report",V.value?.id||"uncategorized",`severity-${L.severity}`,`frequency-${L.reproductionRate}`,E.value.length>0?"with-screenshot":"no-screenshot"],r=i.createBugReport({title:L.title.trim(),description:L.description.trim(),submitter:c,systemInfo:T.value?e:{userAgent:"Not provided",screenResolution:"Not provided",viewport:"Not provided",gameVersion:"0.2.7",timestamp:new Date},bugReportData:o,tags:n});if(F.value=r.id,t.success)ne("GitHub Issuesã«é€ä¿¡ã•ã‚Œã¾ã—ãŸ","ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆãŒæ­£å¸¸ã«é€ä¿¡ã•ã‚Œã¾ã—ãŸ");else if("email"===t.fallbackMethod){const e=`[ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆ] ${L.title}`,a=ha.createEmailUrl(e,t.issueBody||"","feedback@example.com");window.open(a,"_self"),ne("ãƒ¡ãƒ¼ãƒ©ãƒ¼ã‚’èµ·å‹•ã—ã¾ã—ãŸ","ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆã‚’ãƒ¡ãƒ¼ãƒ«ã§é€ä¿¡ã—ã¦ãã ã•ã„")}else"copy"===t.fallbackMethod&&(await ha.copyToClipboard(t.issueBody||"")?ne("ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ","GitHub Issuesã«æ‰‹å‹•ã§è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„"):re("é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ","ãƒ­ãƒ¼ã‚«ãƒ«ã«ã®ã¿ä¿å­˜ã•ã‚Œã¾ã—ãŸ"));q.value=!0,s("bugReported",r.id)}catch(e){re("ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ","ã—ã°ã‚‰ãå¾Œã«ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„")}finally{_.value=!1}}},Z=()=>{Object.assign(L,{severity:"",title:"",description:"",stepsToReproduce:"",expectedBehavior:"",actualBehavior:"",reproductionRate:"",errorMessage:"",contactEmail:"",contactName:""}),V.value=null,D.value="",E.value=[],U.value=[""],r.value="manual",T.value=!0,A.value=!1},ee=()=>{q.value=!1,Z()},ae=()=>{s("close")},te=()=>`bugreport_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,le=e=>({always:"æ¯å›ç™ºç”Ÿ (100%)",often:"é »ç¹ã«ç™ºç”Ÿ (50%ä»¥ä¸Š)",sometimes:"æ™‚ã€…ç™ºç”Ÿ (50%æœªæº€)",rarely:"ç¨€ã«ç™ºç”Ÿ (ä¸€åº¦ã®ã¿ã¾ãŸã¯éå¸¸ã«ç¨€)"}[e]||e),se=o(!1),ie=o("success"),oe=o(""),ce=o(""),ne=(e,a)=>{ie.value="success",oe.value=e,ce.value=a,se.value=!0,setTimeout(()=>{se.value=!1},5e3)},re=(e,a)=>{ie.value="error",oe.value=e,ce.value=a,se.value=!0,setTimeout(()=>{se.value=!1},7e3)};return u(()=>{j.value={userAgent:navigator.userAgent,screenResolution:`${screen.width}x${screen.height}`,viewport:`${window.innerWidth}x${window.innerHeight}`,timestamp:new Date}}),(e,a)=>(p(),d("div",ya,[a[45]||(a[45]=x('<div class="bug-reporter-header" data-v-6d8b98e6><div class="header-icon" data-v-6d8b98e6>ğŸ›</div><div class="header-content" data-v-6d8b98e6><h3 class="header-title" data-v-6d8b98e6>ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆ</h3><p class="header-subtitle" data-v-6d8b98e6> å•é¡Œã®è©³ç´°ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚„è©³ç´°ãªæ‰‹é †ãŒã‚ã‚‹ã¨è§£æ±ºãŒæ—©ããªã‚Šã¾ã™ã€‚ </p></div></div>',1)),m("form",{class:"bug-report-form",onSubmit:f(Q,["prevent"])},[m("div",fa,[a[17]||(a[17]=m("h4",{class:"section-title"},"å•é¡Œã®ç¨®é¡",-1)),m("div",ka,[(p(),d(g,null,h(N,e=>m("button",{key:e.id,type:"button",class:R(["category-btn",{selected:V.value?.id===e.id}]),"aria-describedby":`category-${e.id}-desc`,onClick:a=>(e=>{V.value=V.value?.id===e.id?null:e})(e)},[m("div",{class:"category-icon",style:y({backgroundColor:e.color})},b(e.icon),5),m("div",xa,[m("div",Ra,b(e.title),1),m("div",{id:`category-${e.id}-desc`,class:"category-description"},b(e.description),9,$a)])],10,wa)),64))])]),m("div",Ca,[a[19]||(a[19]=m("label",{for:"severity",class:"form-label"},[$(" é‡è¦åº¦ "),m("span",{class:"required"},"*")],-1)),k(m("select",{id:"severity","onUpdate:modelValue":a[0]||(a[0]=e=>L.severity=e),class:"form-select",required:"",onChange:H},a[18]||(a[18]=[x('<option value="" data-v-6d8b98e6>é¸æŠã—ã¦ãã ã•ã„</option><option value="low" data-v-6d8b98e6>è»½å¾® - æ“ä½œã«æ”¯éšœãªã—</option><option value="medium" data-v-6d8b98e6>ä¸­ç¨‹åº¦ - ä¸€éƒ¨æ“ä½œã«å½±éŸ¿</option><option value="high" data-v-6d8b98e6>é‡å¤§ - ã‚²ãƒ¼ãƒ é€²è¡Œã«æ”¯éšœ</option><option value="critical" data-v-6d8b98e6>è‡´å‘½çš„ - ã‚²ãƒ¼ãƒ ãŒåœæ­¢</option>',5)]),544),[[w,L.severity]]),D.value?(p(),d("div",Sa,b(D.value),1)):v("",!0)]),m("div",Ba,[a[20]||(a[20]=m("label",{for:"bug-title",class:"form-label"},[$(" å•é¡Œã®ã‚¿ã‚¤ãƒˆãƒ« "),m("span",{class:"required"},"*")],-1)),k(m("input",{id:"bug-title","onUpdate:modelValue":a[1]||(a[1]=e=>L.title=e),type:"text",class:"form-input",placeholder:V.value&&{ui:"ä¾‹: â—‹â—‹ãƒœã‚¿ãƒ³ãŒæŠ¼ã›ãªã„",gameplay:"ä¾‹: ã‚«ãƒ¼ãƒ‰é¸æŠå¾Œã«ã‚²ãƒ¼ãƒ ãŒé€²ã¾ãªã„",performance:"ä¾‹: ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚ã«é•·æ™‚é–“ãƒ•ãƒªãƒ¼ã‚ºã™ã‚‹",audio:"ä¾‹: åŠ¹æœéŸ³ãŒå†ç”Ÿã•ã‚Œãªã„",save:"ä¾‹: ã‚²ãƒ¼ãƒ çµ‚äº†å¾Œã«ã‚¹ã‚³ã‚¢ãŒä¿å­˜ã•ã‚Œãªã„",other:"ä¾‹: å…·ä½“çš„ãªå•é¡Œã‚’ç°¡æ½”ã«"}[V.value.id]||"å•é¡Œã‚’ç°¡æ½”ã«èª¬æ˜ã—ã¦ãã ã•ã„",required:"",maxlength:"100"},null,8,Ua),[[S,L.title]]),m("div",Ea,b(L.title.length)+"/100",1)]),m("div",Ia,[a[21]||(a[21]=m("label",{for:"bug-description",class:"form-label"},[$(" å•é¡Œã®è©³ç´° "),m("span",{class:"required"},"*")],-1)),k(m("textarea",{id:"bug-description","onUpdate:modelValue":a[2]||(a[2]=e=>L.description=e),class:"form-textarea",placeholder:"ã©ã®ã‚ˆã†ãªå•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã‹ï¼Ÿã§ãã‚‹ã ã‘è©³ã—ãèª¬æ˜ã—ã¦ãã ã•ã„ã€‚",required:"",rows:"4",maxlength:"1000"},null,512),[[S,L.description]]),m("div",Ta,b(L.description.length)+"/1000",1)]),m("div",Aa,[a[22]||(a[22]=m("label",{for:"reproduction-steps",class:"form-label"},[$(" å†ç¾æ‰‹é † "),m("span",{class:"required"},"*")],-1)),m("div",_a,[m("div",qa,[m("button",{type:"button",class:R(["helper-tab",{active:"manual"===r.value}]),onClick:a[3]||(a[3]=e=>r.value="manual")}," æ‰‹å‹•å…¥åŠ› ",2),m("button",{type:"button",class:R(["helper-tab",{active:"guided"===r.value}]),onClick:a[4]||(a[4]=e=>r.value="guided")}," ã‚¹ãƒ†ãƒƒãƒ—å½¢å¼ ",2)]),"manual"===r.value?(p(),d("div",Fa,[k(m("textarea",{id:"reproduction-steps","onUpdate:modelValue":a[5]||(a[5]=e=>L.stepsToReproduce=e),class:"form-textarea",placeholder:"1. â—‹â—‹ã‚’ã‚¯ãƒªãƒƒã‚¯\n2. â–³â–³ã‚’é¸æŠ\n3. â–¡â–¡ãŒç™ºç”Ÿ",required:"",rows:"5"},null,512),[[S,L.stepsToReproduce]])])):(p(),d("div",Ma,[m("div",Va,[(p(!0),d(g,null,h(U.value,(e,a)=>(p(),d("div",{key:a,class:"step-item"},[m("div",Da,b(a+1),1),k(m("input",{"onUpdate:modelValue":e=>U.value[a]=e,type:"text",class:"step-input",placeholder:`ã‚¹ãƒ†ãƒƒãƒ— ${a+1} ã®æ“ä½œå†…å®¹`,onInput:W},null,40,ja),[[S,U.value[a]]]),U.value.length>1?(p(),d("button",{key:0,type:"button",class:"remove-step-btn","aria-label":"ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å‰Šé™¤",onClick:e=>(e=>{U.value.length>1&&(U.value.splice(e,1),W())})(a)}," Ã— ",8,La)):v("",!0)]))),128))]),m("button",{type:"button",class:"add-step-btn",disabled:U.value.length>=10,onClick:P}," + ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¿½åŠ  ",8,Na)]))])]),m("div",Ga,[a[23]||(a[23]=m("label",{for:"expected-behavior",class:"form-label"},"æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ",-1)),k(m("textarea",{id:"expected-behavior","onUpdate:modelValue":a[6]||(a[6]=e=>L.expectedBehavior=e),class:"form-textarea",placeholder:"æœ¬æ¥ã¯ã©ã®ã‚ˆã†ãªå‹•ä½œã‚’æœŸå¾…ã—ã¦ã„ã¾ã—ãŸã‹ï¼Ÿ",rows:"3"},null,512),[[S,L.expectedBehavior]])]),m("div",Oa,[a[24]||(a[24]=m("label",{for:"actual-behavior",class:"form-label"},"å®Ÿéš›ã®å‹•ä½œ",-1)),k(m("textarea",{id:"actual-behavior","onUpdate:modelValue":a[7]||(a[7]=e=>L.actualBehavior=e),class:"form-textarea",placeholder:"å®Ÿéš›ã«ã¯ã©ã®ã‚ˆã†ãªå‹•ä½œãŒç™ºç”Ÿã—ã¾ã—ãŸã‹ï¼Ÿ",rows:"3"},null,512),[[S,L.actualBehavior]])]),m("div",Ha,[a[25]||(a[25]=m("label",{for:"reproduction-rate",class:"form-label"},[$(" å†ç¾é »åº¦ "),m("span",{class:"required"},"*")],-1)),m("div",Pa,[(p(),d(g,null,h(G,e=>m("label",{key:e.value,class:"frequency-option"},[k(m("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>L.reproductionRate=e),type:"radio",value:e.value,class:"frequency-radio",required:""},null,8,Wa),[[B,L.reproductionRate]]),m("div",za,[m("div",Ja,b(e.label),1),m("div",Xa,b(e.description),1)])])),64))])]),m("div",Ya,[a[26]||(a[26]=m("label",{for:"error-message",class:"form-label"},"ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆã‚‚ã—ã‚ã‚Œã°ï¼‰",-1)),k(m("textarea",{id:"error-message","onUpdate:modelValue":a[9]||(a[9]=e=>L.errorMessage=e),class:"form-textarea mono-font",placeholder:"è¡¨ç¤ºã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãã®ã¾ã¾ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ãã ã•ã„",rows:"3"},null,512),[[S,L.errorMessage]])]),m("div",Ka,[m("div",Qa,[m("div",Za,[a[27]||(a[27]=m("label",{class:"form-label"},"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ",-1)),m("div",et,[m("button",{type:"button",class:"capture-btn",disabled:I.value,onClick:z},[I.value?(p(),d("span",tt,"æ’®å½±ä¸­...")):(p(),d("span",lt,"ğŸ“¸ ç”»é¢ã‚’æ’®å½±"))],8,at),m("input",{ref:"fileInput",type:"file",accept:"image/*",class:"file-input",style:{display:"none"},onChange:J},null,544),m("button",{type:"button",class:"upload-btn",onClick:a[10]||(a[10]=a=>e.$refs.fileInput?.click())}," ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ ")])]),E.value.length>0?(p(),d("div",st,[(p(!0),d(g,null,h(E.value,(e,a)=>(p(),d("div",{key:a,class:"screenshot-item"},[m("img",{src:e.data,alt:`ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ ${a+1}`,class:"screenshot-image",onClick:a=>{return t=e.data,void(M.value=t);var t}},null,8,it),m("div",ot,[m("div",ct,b(e.name),1),m("div",nt,b(Y(e.size)),1)]),m("button",{type:"button",class:"remove-screenshot-btn","aria-label":"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’å‰Šé™¤",onClick:e=>(e=>{E.value.splice(e,1)})(a)}," Ã— ",8,rt)]))),128))])):(p(),d("div",ut,a[28]||(a[28]=[m("div",{class:"no-screenshots-icon"},"ğŸ“·",-1),m("p",{class:"no-screenshots-text"}," ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãŒã‚ã‚‹ã¨å•é¡Œã®ç‰¹å®šãŒæ—©ããªã‚Šã¾ã™ ",-1)])))])]),m("div",dt,[m("div",vt,[a[35]||(a[35]=m("h4",{class:"section-title"},"ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±",-1)),m("div",pt,[m("label",mt,[k(m("input",{"onUpdate:modelValue":a[11]||(a[11]=e=>T.value=e),type:"checkbox",class:"toggle-checkbox"},null,512),[[C,T.value]]),a[29]||(a[29]=m("span",{class:"toggle-slider"},null,-1)),a[30]||(a[30]=$(" ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ã‚’å«ã‚ã‚‹ï¼ˆæ¨å¥¨ï¼‰ ",-1))]),a[31]||(a[31]=m("p",{class:"toggle-description"}," ãƒ–ãƒ©ã‚¦ã‚¶æƒ…å ±ã€ç”»é¢ã‚µã‚¤ã‚ºã€ã‚²ãƒ¼ãƒ çŠ¶æ…‹ãªã©ã‚’è‡ªå‹•ã§åé›†ã—ã¾ã™ ",-1))]),T.value&&j.value?(p(),d("div",bt,[m("div",gt,[a[32]||(a[32]=m("span",{class:"info-label"},"ãƒ–ãƒ©ã‚¦ã‚¶:",-1)),m("span",ht,b(K()),1)]),m("div",yt,[a[33]||(a[33]=m("span",{class:"info-label"},"ç”»é¢ã‚µã‚¤ã‚º:",-1)),m("span",ft,b(j.value.screenResolution),1)]),m("div",kt,[a[34]||(a[34]=m("span",{class:"info-label"},"ã‚²ãƒ¼ãƒ çŠ¶æ…‹:",-1)),m("span",wt,b(l.gameState?`${l.gameState.stage} - Turn ${l.gameState.turn}`:"Unknown"),1)])])):v("",!0)])]),m("div",xt,[a[41]||(a[41]=m("h4",{class:"section-title"},"é€£çµ¡å…ˆï¼ˆä»»æ„ï¼‰",-1)),m("div",Rt,[m("label",$t,[k(m("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>A.value=e),type:"checkbox",class:"toggle-checkbox"},null,512),[[C,A.value]]),a[36]||(a[36]=m("span",{class:"toggle-slider"},null,-1)),a[37]||(a[37]=$(" é€£çµ¡å…ˆã‚’æä¾›ã™ã‚‹ ",-1))]),a[38]||(a[38]=m("p",{class:"toggle-description"}," é€²æ—ã®é€šçŸ¥ã‚„è¿½åŠ æƒ…å ±ã®ç¢ºèªãŒå¿…è¦ãªå ´åˆã«ã”é€£çµ¡ã—ã¾ã™ ",-1))]),A.value?(p(),d("div",Ct,[m("div",St,[a[39]||(a[39]=m("label",{for:"contact-email",class:"form-label"},"ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹",-1)),k(m("input",{id:"contact-email","onUpdate:modelValue":a[13]||(a[13]=e=>L.contactEmail=e),type:"email",class:"form-input",placeholder:"example@example.com"},null,512),[[S,L.contactEmail]])]),m("div",Bt,[a[40]||(a[40]=m("label",{for:"contact-name",class:"form-label"},"ãŠåå‰",-1)),k(m("input",{id:"contact-name","onUpdate:modelValue":a[14]||(a[14]=e=>L.contactName=e),type:"text",class:"form-input",placeholder:"ç”°ä¸­å¤ªéƒ",maxlength:"50"},null,512),[[S,L.contactName]])])])):v("",!0)]),m("div",Ut,[m("button",{type:"button",class:"btn-secondary",onClick:Z}," ãƒªã‚»ãƒƒãƒˆ "),m("button",{type:"submit",class:"btn-primary",disabled:!O.value||_.value},[_.value?(p(),d("span",It,"é€ä¿¡ä¸­...")):(p(),d("span",Tt,"ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆã‚’é€ä¿¡"))],8,Et)])],32),M.value?(p(),d("div",{key:0,class:"image-preview-modal",onClick:X},[m("div",{class:"preview-content",onClick:a[15]||(a[15]=f(()=>{},["stop"]))},[m("img",{src:M.value,alt:"ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒ",class:"preview-image"},null,8,At),m("button",{class:"close-preview-btn",onClick:X},"Ã—")])])):v("",!0),q.value?(p(),d("div",_t,[m("div",qt,[a[43]||(a[43]=m("div",{class:"success-icon"},"âœ…",-1)),a[44]||(a[44]=m("h3",{class:"success-title"},"ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆã‚’é€ä¿¡ã—ã¾ã—ãŸ",-1)),m("div",Ft,[m("p",Mt,[a[42]||(a[42]=$("ãƒ¬ãƒãƒ¼ãƒˆID: ",-1)),m("code",null,b(F.value),1)]),m("p",Vt,b(A.value?"ã”é€£çµ¡å…ˆã‚’ã„ãŸã ã„ã¦ã„ã‚‹ãŸã‚ã€é€²æ—ãŒã‚ã‚Œã°ãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚":"ãƒã‚°ã®ä¿®æ­£çŠ¶æ³ã¯ä»Šå¾Œã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæƒ…å ±ã§ã”ç¢ºèªãã ã•ã„ã€‚"),1)]),m("div",{class:"success-actions"},[m("button",{class:"btn-secondary",onClick:ee}," åˆ¥ã®ãƒã‚°ã‚’å ±å‘Š "),m("button",{class:"btn-primary",onClick:ae}," é–‰ã˜ã‚‹ ")])])])):v("",!0),se.value?(p(),d("div",{key:2,class:R(["toast-notification",`toast-${ie.value}`])},[m("div",Dt,b("success"===ie.value?"âœ…":"âŒ"),1),m("div",jt,[m("div",Lt,b(oe.value),1),m("div",Nt,b(ce.value),1)]),m("button",{class:"toast-close",onClick:a[16]||(a[16]=e=>se.value=!1)},"Ã—")],2)):v("",!0)]))}}),[["__scopeId","data-v-6d8b98e6"]]),Ot={class:"feedback-button-container"},Ht={key:0,class:"notification-badge"},Pt={class:"menu-content"},Wt={class:"quick-actions"},zt=["onClick"],Jt={class:"action-content"},Xt={class:"action-title"},Yt={class:"action-subtitle"},Kt={key:0,class:"context-info"},Qt={class:"context-details"},Zt={class:"context-item"},el={class:"context-value"},al={class:"context-item"},tl={class:"context-value"},ll={class:"context-item"},sl={class:"context-value"},il={key:1,class:"recent-feedback"},ol={class:"recent-list"},cl={class:"recent-icon"},nl={class:"recent-content"},rl={class:"recent-title-text"},ul={class:"recent-meta"},dl={key:2,class:"feedback-stats"},vl={class:"stats-grid"},pl={class:"stat-item"},ml={class:"stat-value"},bl={class:"stat-item"},gl={class:"stat-value"},hl={class:"stat-item"},yl={class:"stat-value"},fl={key:4,class:"bug-reporter-modal"},kl={class:"toast-icon"},wl={class:"toast-content"},xl={class:"toast-title"},Rl={class:"toast-message"},$l=T(i({__name:"FeedbackButton",props:{gameState:{},position:{default:"bottom-right"},showStats:{type:Boolean,default:!1},autoSurvey:{type:Boolean,default:!0}},emits:["feedbackSubmitted"],setup(e,{expose:a,emit:i}){const c=e,r=i,k=new t,w=o(!1),x=o(!1),$=o(!1),C=o(!1),S=o("quick"),B=o([]),T=o(null),A=o(c.gameState),_=o(!1),q=o("success"),F=o(""),M=o("");let V=null;const D=[{id:"review",title:"è©•ä¾¡ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼",subtitle:"ã‚²ãƒ¼ãƒ ã®æ„Ÿæƒ³ã‚’æ•™ãˆã¦ãã ã•ã„",icon:"â­",color:"#F59E0B",priority:"normal"},{id:"bug",title:"ãƒã‚°å ±å‘Š",subtitle:"å•é¡Œã‚„ä¸å…·åˆã‚’å ±å‘Š",icon:"ğŸ›",color:"#EF4444",priority:"high"},{id:"feature",title:"æ©Ÿèƒ½è¦æœ›",subtitle:"æ–°æ©Ÿèƒ½ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ææ¡ˆ",icon:"ğŸ’¡",color:"#3B82F6",priority:"normal"},{id:"general",title:"ãã®ä»–",subtitle:"ã”è³ªå•ãƒ»ã”æ„è¦‹ãªã©",icon:"ğŸ’¬",color:"#8B5CF6",priority:"normal"}],j=n(()=>!1),L=n(()=>0),N=()=>{w.value=!0,W(),c.showStats&&z()},G=()=>{w.value=!1},O=e=>{x.value=!1,X("ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’é€ä¿¡ã—ã¾ã—ãŸ","ã”æ„è¦‹ã‚’ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™"),r("feedbackSubmitted",e,"general"),W()},H=e=>{$.value=!1,X("ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’é€ä¿¡ã—ã¾ã—ãŸ","ã”è©•ä¾¡ã‚’ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™"),r("feedbackSubmitted",e,"review"),W()},P=e=>{C.value=!1,X("ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆã‚’é€ä¿¡ã—ã¾ã—ãŸ",`ãƒ¬ãƒãƒ¼ãƒˆID: ${e.substring(0,8)}`),r("feedbackSubmitted",e,"bug"),W()},W=()=>{try{const e=k.searchFeedbacks({dateRange:{start:new Date(Date.now()-6048e5),end:new Date}});B.value=e.slice(0,5)}catch(e){}},z=()=>{try{T.value=k.getStatistics()}catch(e){}},J=e=>{const a=(new Date).getTime()-e.getTime(),t=Math.floor(a/6e4),l=Math.floor(a/36e5),s=Math.floor(a/864e5);return t<1?"ãŸã£ãŸä»Š":t<60?`${t}åˆ†å‰`:l<24?`${l}æ™‚é–“å‰`:s<7?`${s}æ—¥å‰`:e.toLocaleDateString("ja-JP")},X=(e,a)=>{_.value=!0,q.value="success",F.value=e,M.value=a,V&&clearTimeout(V),V=window.setTimeout(()=>{Y()},5e3)},Y=()=>{_.value=!1,V&&(clearTimeout(V),V=null)},K=()=>{c.autoSurvey&&A.value&&A.value.turn>10&&A.value.turn%20==0&&Math.random()<.3&&setTimeout(()=>{S.value="quick",$.value=!0},2e3)};return u(()=>{c.gameState&&(A.value=c.gameState),W(),K();const e=e=>{"Escape"===e.key&&w.value&&G()};document.addEventListener("keydown",e),U(()=>{document.removeEventListener("keydown",e),V&&clearTimeout(V)})}),a({expand:N,collapse:G,showReview:()=>{$.value=!0},showBugReport:()=>{C.value=!0},showFeedback:()=>{x.value=!0},updateGameContext:e=>{A.value=e,K()}}),(e,a)=>{return p(),d("div",Ot,[w.value?(p(),d("div",{key:1,class:"feedback-menu",onClick:a[0]||(a[0]=f(()=>{},["stop"]))},[m("div",{class:"menu-header"},[a[7]||(a[7]=m("h3",{class:"menu-title"},"ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯",-1)),m("button",{class:"menu-close-btn","aria-label":"ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹",onClick:G}," Ã— ")]),m("div",Pt,[m("div",Wt,[(p(),d(g,null,h(D,e=>m("button",{key:e.id,class:R(["quick-action-btn",{"high-priority":"high"===e.priority}]),onClick:a=>(e=>{switch(G(),e.id){case"review":$.value=!0;break;case"bug":C.value=!0;break;default:x.value=!0}})(e)},[m("div",{class:"action-icon",style:y({color:e.color})},b(e.icon),5),m("div",Jt,[m("div",Xt,b(e.title),1),m("div",Yt,b(e.subtitle),1)])],10,zt)),64))]),A.value?(p(),d("div",Kt,[a[11]||(a[11]=m("h4",{class:"context-title"},"ç¾åœ¨ã®çŠ¶æ³",-1)),m("div",Qt,[m("div",Zt,[a[8]||(a[8]=m("span",{class:"context-label"},"ã‚¹ãƒ†ãƒ¼ã‚¸:",-1)),m("span",el,b((i=A.value.stage,{youth:"é’å¹´æœŸ",middle:"ä¸­å¹´æœŸ",senior:"å……å®ŸæœŸ"}[i]||i)),1)]),m("div",al,[a[9]||(a[9]=m("span",{class:"context-label"},"ã‚¿ãƒ¼ãƒ³:",-1)),m("span",tl,b(A.value.turn),1)]),m("div",ll,[a[10]||(a[10]=m("span",{class:"context-label"},"æ´»åŠ›:",-1)),m("span",sl,b(A.value.vitality),1)])])])):v("",!0),B.value.length>0?(p(),d("div",il,[a[12]||(a[12]=m("h4",{class:"recent-title"},"æœ€è¿‘ã®é€ä¿¡å±¥æ­´",-1)),m("div",ol,[(p(!0),d(g,null,h(B.value.slice(0,3),e=>{return p(),d("div",{key:e.id,class:"recent-item"},[m("div",cl,b((t=e.category,{[l.BUG_REPORT]:"ğŸ›",[l.FEATURE_REQUEST]:"ğŸ’¡",[l.UI_UX]:"ğŸ¨",[l.GAMEPLAY]:"ğŸ®",[l.PERFORMANCE]:"âš¡",[l.ACCESSIBILITY]:"â™¿",[l.GENERAL]:"ğŸ’¬"}[t]||"ğŸ“")),1),m("div",nl,[m("div",rl,b(e.title),1),m("div",ul,b(J(e.createdAt))+" â€¢ "+b((a=e.status,{[s.SUBMITTED]:"æå‡ºæ¸ˆã¿",[s.UNDER_REVIEW]:"ç¢ºèªä¸­",[s.IN_PROGRESS]:"å¯¾å¿œä¸­",[s.RESOLVED]:"è§£æ±ºæ¸ˆã¿",[s.CLOSED]:"å®Œäº†"}[a]||a)),1)])]);var a,t}),128))])])):v("",!0),e.showStats&&T.value?(p(),d("div",dl,[a[16]||(a[16]=m("h4",{class:"stats-title"},"ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯çµ±è¨ˆ",-1)),m("div",vl,[m("div",pl,[m("div",ml,b(T.value.total),1),a[13]||(a[13]=m("div",{class:"stat-label"},"ç·æ•°",-1))]),m("div",bl,[m("div",gl,b(T.value.resolvedCount),1),a[14]||(a[14]=m("div",{class:"stat-label"},"è§£æ±ºæ¸ˆã¿",-1))]),m("div",hl,[m("div",yl,b(T.value.averageSatisfactionRating?.toFixed(1)||"N/A"),1),a[15]||(a[15]=m("div",{class:"stat-label"},"æº€è¶³åº¦",-1))])])])):v("",!0)])])):(p(),d("button",{key:0,class:R(["feedback-fab",{"has-notifications":j.value}]),"aria-label":"ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’é€ä¿¡",title:"ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ãƒã‚°å ±å‘Š",onClick:N},[a[6]||(a[6]=m("div",{class:"fab-icon"},"ğŸ’¬",-1)),j.value?(p(),d("div",Ht,b(L.value),1)):v("",!0)],2)),w.value?(p(),d("div",{key:2,class:"feedback-overlay",onClick:G})):v("",!0),E(xe,{"is-open":x.value,"game-state":A.value,onClose:a[1]||(a[1]=e=>x.value=!1),onFeedbackSubmitted:O},null,8,["is-open","game-state"]),$.value?(p(),I(ga,{key:3,mode:S.value,"game-state":A.value,class:"review-modal",onReviewSubmitted:H,onModeChanged:a[2]||(a[2]=e=>S.value=e)},null,8,["mode","game-state"])):v("",!0),C.value?(p(),d("div",fl,[m("div",{class:"modal-overlay",onClick:a[5]||(a[5]=e=>C.value=!1)},[m("div",{class:"modal-content",onClick:a[4]||(a[4]=f(()=>{},["stop"]))},[E(Gt,{"game-state":A.value,onBugReported:P,onClose:a[3]||(a[3]=e=>C.value=!1)},null,8,["game-state"])])])])):v("",!0),_.value?(p(),d("div",{key:5,class:R(["feedback-toast",`toast-${q.value}`])},[m("div",kl,b((t=q.value,{success:"âœ…",info:"â„¹ï¸",warning:"âš ï¸",error:"âŒ"}[t]||"â„¹ï¸")),1),m("div",wl,[m("div",xl,b(F.value),1),m("div",Rl,b(M.value),1)]),m("button",{class:"toast-close",onClick:Y},"Ã—")],2)):v("",!0)]);var t,i}}}),[["__scopeId","data-v-d2eeb109"]]);export{$l as default};
//# sourceMappingURL=feedback-Rjo5i6iIee7n.js.map
