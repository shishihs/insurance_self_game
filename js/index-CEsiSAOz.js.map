{"version":3,"mappings":"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","names":["props","__props","transitionType","computed","type","direction","intensity","onBeforeEnter","el","element","style","transitionDuration","duration","transitionTimingFunction","easing","onEnter","done","setTimeout","onLeave","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_Transition","name","value","mode","_renderSlot","_ctx","$slots","ScreenReaderManager","constructor","__publicField","this","Map","createLiveRegions","createGameStatusElements","setupAriaDescriptions","announce","message","options","priority","interrupt","clearQueue","announcementQueue","push","processQueue","announceGameState","announcement","context","updateGameStatus","getPriorityForGameState","persist","announceCardDetails","card","description","createCardDescription","cardDetailsElement","textContent","announceError","announceSuccess","announceProgress","current","total","Math","round","announceOptions","currentIndex","length","announceTimer","remainingTime","unit","unitText","announceScreenChange","screenName","announceKeyboardHelp","join","announceGameStats","stats","Object","entries","map","key","translateStatKey","announceRegionStatus","regionName","items","itemCount","itemType","getItemType","announceDragDrop","phase","details","itemName","targetName","success","reason","politeRegion","document","createElement","setAttribute","className","id","body","appendChild","liveRegions","set","assertiveRegion","gameStatusElement","head","isProcessingQueue","shift","delay","performAnnouncement","region","get","messageElement","parentNode","removeChild","statusInfo","timestamp","Date","toISOString","JSON","stringify","parts","translateCardType","power","cost","includes","vitality","turn","cardsInHand","challengesCompleted","insuranceCards","life","insurance","challenge","dream","firstItem","forEach","ms","Promise","resolve","destroy","emit","__emit","defaultSettings","colorScheme","highContrast","fontSize","reduceMotion","animationSpeed","screenReaderEnabled","audioDescriptions","soundEffectsVolume","stickyKeys","keyRepeatDelay","touchTargetSize","settings","ref","screenReaderManager","colorFilters","default","protanopia","deuteranopia","tritanopia","achromatopsia","saveSettings","localStorage","setItem","applySettings","root","documentElement","filter","classList","toggle","setProperty","small","medium","large","String","resetSettings","onMounted","saved","getItem","parse","e","console","error","loadSettings","cleanup","handleKeyDown","isOpen","ctrlKey","altKey","schemes","indexOf","window","addEventListener","removeEventListener","setupKeyboardShortcuts","watch","deep","_createBlock","class","onClick","_createElementVNode","_hoisted_2","innerHTML","values","_hoisted_4","_cache","_hoisted_5","_hoisted_6","_hoisted_7","for","$event","onChange","_vModelSelect","setting","originalValue","previewSettings","_hoisted_8","_hoisted_9","_vModelCheckbox","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","min","max","step","number","_hoisted_15","_toDisplayString","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","FocusIndicatorManager","color","width","offset","borderRadius","indicator","createIndicator","setupEventListeners","cssText","handleFocusIn","bind","handleFocusOut","updatePosition","MutationObserver","focusedElement","observe","attributes","childList","subtree","attributeFilter","event","target","isFocusableElement","showIndicator","hideIndicator","some","matches","selector","closest","rect","getBoundingClientRect","left","top","height","opacity","getComputedStyle","activeElement","setOptions","assign","border","remove","isEnabled","enabled","currentOptions","focusIndicatorManager","showHints","hintTimer","indicatorStyle","keyboardShortcuts","initializeFocusIndicator","destroyFocusIndicator","updateOptions","showKeyboardHints","clearTimeout","hideKeyboardHints","handleKeydown","updateSettings","newOptions","toggleEnabled","matchMedia","onUnmounted","__expose","reducedMotion","_Fragment","_renderList","shortcut","_hoisted_3","_unref","onInput","parseInt","hasError","errorInfo","errorCount","isRecovering","errorSeverity","toLowerCase","userFriendlyMessage","onErrorCaptured","err","instance","info","onError","tryRecover","async","reloadPage","location","reload","copyErrorDetails","stack","navigator","userAgent","trim","clipboard","writeText","alert","sendErrorReport","CustomEvent","detail","component","dispatchEvent","fallback","canRecover","disabled","_createTextVNode","retry","userFriendlyMessages","initializeDefaultPatterns","initializeFallbackMessages","patterns","pattern","title","actionLabel","actionType","icon","severity","helpUrl","conditions","category","actionData","url","showDetails","fallbackMessages","generateUserMessage","matchesPattern","enrichMessage","RegExp","test","toLocaleTimeString","deviceInfo","isMobile","errorId","fingerprint","addPattern","p","warn","unshift","removePattern","index","findIndex","splice","getPatterns","previewMessage","errorMessage","mockError","now","getStats","patternsCount","categoriesCount","size","hasConditions","Boolean","notifications","addNotification","notification","random","newNotification","autoHide","userMessage","hideDelay","isExpanded","slice","removeNotification","n","handleError","originalError","getDefaultIcon","getColorClass","executeAction","retryEvent","href","contactEvent","toggleDetails","find","visibleNotifications","clearAll","_Teleport","to","_TransitionGroup","tag","_normalizeClass","expanded","_normalizeStyle","transform","role","openHelp","open","route","toLocaleString","viewBox","fill","stroke","x1","y1","x2","y2","animationDuration","sanitizeInput","input","Error","replace","match","KeyboardManager","setupFocusVisible","registerFocusableElement","focusableElement","group","onFocus","onBlur","onActivate","existingIndex","focusableElements","sort","a","b","setupElementAccessibility","unregisterFocusableElement","currentFocusIndex","registerShortcut","createShortcutKey","modifiers","shortcuts","unregisterShortcut","shortcutKey","delete","focusNext","setFocus","focusPrevious","focusGroup","groupName","groupElements","focusElement","getCurrentFocusedElement","startFocusTrap","container","focusableInContainer","contains","endFocusTrap","removeAttribute","toggleHelp","helpPanel","createHelpPanel","closeHelp","closeButton","querySelector","focus","createSkipLinks","skipLinks","skipToMain","createSkipLink","skipToNav","skipToFooter","setActive","active","isActive","currentElement","blur","setFocusVisible","focusVisibleEnabled","getActiveModifiers","preventDefault","action","shiftKey","focusableEl","click","add","offsetParent","scrollIntoView","behavior","block","inline","hasAttribute","tagName","metaKey","text","link","panel","Array","from","helpContent","shortcutsList","basicGroup","basicTitle","basicDl","desc","dt","dd","gameGroup","gameTitle","gameDl","formatShortcut","onclick","m","charAt","toUpperCase","clear","gameButtonRef","tutorialButtonRef","$emit","useGameStore","defineStore","game","shallowRef","isInitialized","lastUpdate","handState","vitalityState","maxVitalityState","currentStageState","currentTurnState","currentPhaseState","currentStatusState","currentChallengeState","activeInsurancesState","insuranceMarketState","scoreState","cardChoicesState","isTutorialMode","maxVitality","hand","currentStage","currentTurn","currentPhase","currentStatus","currentChallenge","insuranceTypeChoices","activeInsurances","insuranceMarket","score","cardChoices","lastMessage","triggerUpdate","stage","status","log","_gameStore","initializeGame","config","Game","startGame","start","drawCards","count","startChallenge","drawChallenge","challengeDeck","challengeCard","drawChallengeCard","advanceStage","refillChallengeDeck","resolveChallenge","result","selectInsurance","insuranceType","endTurn","nextTurn","insuranceExpirations","toggleCardSelection","startChallengePhase","selectChallengeChoice","selectDream","buyInsurance","cardManager","applyDamage","toggleTutorialMode","cardClasses","isSelected","isPlayable","typeLabel","coverage","store","h","onCardClick","selectedCards","CardComponent","choices","select","marketCards","buy","isVictory","titleClass","restart","visible","currentTopic","explainedTopics","Set","explanations","dream_selection","content","draw","challenge_phase","challenge_resolution","insurance_phase","dismiss","disableTutorial","newPhase","topic","has","immediate","xmlns","d","phaseDisplayName","challenge_choice","resolution","market","end","insurance_type_selection","onDraw","onEndTurn","onChallenge","__GAME_CONFIG__","_hoisted_28","_hoisted_29","choice","_hoisted_31","_hoisted_32","DreamSelector","ChallengeSelector","GameResult","_hoisted_33","InsuranceMarket","Hand","TutorialOverlay","app","createApp","showGame","showAccessibilitySettings","MobileErrorHandler","defineAsyncComponent","loader","__vitePreload","import","__VITE_PRELOAD__","errorComponent","render","timeout","navigationRef","keyboardManager","startTutorial","backToHome","handleAccessibilitySettingsChanged","getErrorType","handleHomeError","_instance","reportError","gameButton","tutorialButton","backButton","errorNotification","transitionAnimations","errorBoundary","GameCanvas","onBackToHome","onRetry","onGoHome","onReportError","appHeader","navigationActions","onStartGame","onStartTutorial","accessibilitySettings","onClose","onSettingsChanged","visualIndicators","pinia","createPinia","use","registrations","serviceWorker","getRegistrations","unregistered","registration","unregister","sessionStorage","mount","initializeApp"],"ignoreList":[],"sources":["../../src/components/animations/TransitionAnimations.vue","../../src/components/accessibility/ScreenReaderManager.ts","../../src/components/accessibility/AccessibilitySettings.vue","../../src/utils/focus-indicator.ts","../../src/components/accessibility/VisualIndicators.vue","../../src/components/error/ErrorBoundary.vue","../../src/utils/error-handling/UserFriendlyMessages.ts","../../src/components/error/ErrorNotification.vue","../../src/utils/security.ts","../../src/components/accessibility/KeyboardManager.ts","../../src/components/layout/AppHeader.vue","../../src/components/layout/NavigationActions.vue","../../src/stores/gameStore.ts","../../src/components/game/Card.vue","../../src/components/game/Hand.vue","../../src/components/game/DreamSelector.vue","../../src/components/game/ChallengeSelector.vue","../../src/components/game/InsuranceMarket.vue","../../src/components/game/GameResult.vue","../../src/components/game/TutorialOverlay.vue","../../src/components/game/GameBoard.vue","../../src/main.ts","../../src/App.vue"],"sourcesContent":["<template>\n  <div class=\"transition-animations\">\n    <!--  -->\n    <Transition\n      :name=\"transitionType\"\n      mode=\"out-in\"\n      @before-enter=\"onBeforeEnter\"\n      @enter=\"onEnter\"\n      @leave=\"onLeave\"\n    >\n      <slot />\n    </Transition>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from 'vue'\n\ninterface Props {\n  type?: 'slide' | 'fade' | 'zoom' | 'flip' | 'elastic' | 'game-phase' | 'card-stack' | 'score-change'\n  direction?: 'left' | 'right' | 'up' | 'down'\n  duration?: number\n  easing?: string\n  intensity?: 'subtle' | 'normal' | 'dramatic'\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  type: 'fade',\n  direction: 'right',\n  duration: 300,\n  easing: 'cubic-bezier(0.4, 0, 0.2, 1)',\n  intensity: 'normal'\n})\n\nconst transitionType = computed(() => {\n  return `${props.type}-${props.direction}-${props.intensity}`\n})\n\nconst onBeforeEnter = (el: Element) => {\n  const element = el as HTMLElement\n  element.style.transitionDuration = `${props.duration}ms`\n  element.style.transitionTimingFunction = props.easing\n}\n\nconst onEnter = (el: Element, done: () => void) => {\n  // \n  setTimeout(done, props.duration)\n}\n\nconst onLeave = (el: Element, done: () => void) => {\n  // \n  setTimeout(done, props.duration)\n}\n</script>\n\n<style scoped>\n/* =================================\n   \n   ================================= */\n.transition-animations {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\n/* =================================\n   \n   ================================= */\n.fade-left-enter-active,\n.fade-right-enter-active,\n.fade-up-enter-active,\n.fade-down-enter-active,\n.fade-left-leave-active,\n.fade-right-leave-active,\n.fade-up-leave-active,\n.fade-down-leave-active {\n  transition: all var(--transition-duration, 300ms) var(--transition-easing, cubic-bezier(0.4, 0, 0.2, 1));\n}\n\n.fade-left-enter-from,\n.fade-right-enter-from,\n.fade-up-enter-from,\n.fade-down-enter-from {\n  opacity: 0;\n}\n\n.fade-left-leave-to,\n.fade-right-leave-to,\n.fade-up-leave-to,\n.fade-down-leave-to {\n  opacity: 0;\n}\n\n/* =================================\n   \n   ================================= */\n.slide-left-enter-active,\n.slide-left-leave-active {\n  transition: all var(--transition-duration, 300ms) var(--transition-easing, cubic-bezier(0.4, 0, 0.2, 1));\n}\n\n.slide-left-enter-from {\n  transform: translateX(-100%);\n  opacity: 0;\n}\n\n.slide-left-leave-to {\n  transform: translateX(100%);\n  opacity: 0;\n}\n\n.slide-right-enter-active,\n.slide-right-leave-active {\n  transition: all var(--transition-duration, 300ms) var(--transition-easing, cubic-bezier(0.4, 0, 0.2, 1));\n}\n\n.slide-right-enter-from {\n  transform: translateX(100%);\n  opacity: 0;\n}\n\n.slide-right-leave-to {\n  transform: translateX(-100%);\n  opacity: 0;\n}\n\n.slide-up-enter-active,\n.slide-up-leave-active {\n  transition: all var(--transition-duration, 300ms) var(--transition-easing, cubic-bezier(0.4, 0, 0.2, 1));\n}\n\n.slide-up-enter-from {\n  transform: translateY(100%);\n  opacity: 0;\n}\n\n.slide-up-leave-to {\n  transform: translateY(-100%);\n  opacity: 0;\n}\n\n.slide-down-enter-active,\n.slide-down-leave-active {\n  transition: all var(--transition-duration, 300ms) var(--transition-easing, cubic-bezier(0.4, 0, 0.2, 1));\n}\n\n.slide-down-enter-from {\n  transform: translateY(-100%);\n  opacity: 0;\n}\n\n.slide-down-leave-to {\n  transform: translateY(100%);\n  opacity: 0;\n}\n\n/* =================================\n   \n   ================================= */\n.zoom-left-enter-active,\n.zoom-right-enter-active,\n.zoom-up-enter-active,\n.zoom-down-enter-active,\n.zoom-left-leave-active,\n.zoom-right-leave-active,\n.zoom-up-leave-active,\n.zoom-down-leave-active {\n  transition: all var(--transition-duration, 300ms) var(--transition-easing, cubic-bezier(0.4, 0, 0.2, 1));\n}\n\n.zoom-left-enter-from,\n.zoom-right-enter-from,\n.zoom-up-enter-from,\n.zoom-down-enter-from {\n  transform: scale(0.8);\n  opacity: 0;\n}\n\n.zoom-left-leave-to,\n.zoom-right-leave-to,\n.zoom-up-leave-to,\n.zoom-down-leave-to {\n  transform: scale(1.2);\n  opacity: 0;\n}\n\n/* =================================\n   \n   ================================= */\n.flip-left-enter-active,\n.flip-left-leave-active {\n  transition: all var(--transition-duration, 300ms) var(--transition-easing, cubic-bezier(0.4, 0, 0.2, 1));\n  transform-style: preserve-3d;\n  backface-visibility: hidden;\n}\n\n.flip-left-enter-from {\n  transform: rotateY(-90deg);\n  opacity: 0;\n}\n\n.flip-left-leave-to {\n  transform: rotateY(90deg);\n  opacity: 0;\n}\n\n.flip-right-enter-active,\n.flip-right-leave-active {\n  transition: all var(--transition-duration, 300ms) var(--transition-easing, cubic-bezier(0.4, 0, 0.2, 1));\n  transform-style: preserve-3d;\n  backface-visibility: hidden;\n}\n\n.flip-right-enter-from {\n  transform: rotateY(90deg);\n  opacity: 0;\n}\n\n.flip-right-leave-to {\n  transform: rotateY(-90deg);\n  opacity: 0;\n}\n\n/* =================================\n   \n   ================================= */\n.elastic-left-enter-active,\n.elastic-right-enter-active,\n.elastic-up-enter-active,\n.elastic-down-enter-active {\n  transition: all var(--transition-duration, 600ms) cubic-bezier(0.68, -0.55, 0.265, 1.55);\n}\n\n.elastic-left-leave-active,\n.elastic-right-leave-active,\n.elastic-up-leave-active,\n.elastic-down-leave-active {\n  transition: all var(--transition-duration, 300ms) var(--transition-easing, cubic-bezier(0.4, 0, 0.2, 1));\n}\n\n.elastic-left-enter-from,\n.elastic-right-enter-from,\n.elastic-up-enter-from,\n.elastic-down-enter-from {\n  transform: scale(0.5);\n  opacity: 0;\n}\n\n.elastic-left-leave-to,\n.elastic-right-leave-to,\n.elastic-up-leave-to,\n.elastic-down-leave-to {\n  transform: scale(0.8);\n  opacity: 0;\n}\n\n/* =================================\n   \n   ================================= */\n@media (max-width: 768px) {\n  .slide-left-enter-from,\n  .slide-right-enter-from,\n  .slide-up-enter-from,\n  .slide-down-enter-from {\n    /*  */\n    transform: translateX(0) scale(0.95);\n  }\n}\n\n/* =================================\n   \n   ================================= */\n\n/*  */\n.game-phase-up-normal-enter-active,\n.game-phase-up-normal-leave-active {\n  transition: all 600ms cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n\n.game-phase-up-subtle-enter-active,\n.game-phase-up-subtle-leave-active {\n  transition: all 400ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.game-phase-up-dramatic-enter-active,\n.game-phase-up-dramatic-leave-active {\n  transition: all 800ms cubic-bezier(0.68, -0.55, 0.265, 1.55);\n}\n\n.game-phase-up-normal-enter-from,\n.game-phase-up-subtle-enter-from,\n.game-phase-up-dramatic-enter-from {\n  opacity: 0;\n  transform: translateY(30px) scale(0.95);\n}\n\n.game-phase-up-normal-leave-to,\n.game-phase-up-subtle-leave-to,\n.game-phase-up-dramatic-leave-to {\n  opacity: 0;\n  transform: translateY(-30px) scale(1.05);\n}\n\n/*  */\n.card-stack-up-normal-enter-active,\n.card-stack-up-normal-leave-active {\n  transition: all 500ms cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n\n.card-stack-up-normal-enter-from {\n  opacity: 0;\n  transform: translateY(20px) scale(0.9) rotateX(15deg);\n}\n\n.card-stack-up-normal-leave-to {\n  opacity: 0;\n  transform: translateY(-20px) scale(1.1) rotateX(-15deg);\n}\n\n/*  */\n.score-change-up-normal-enter-active {\n  transition: all 400ms cubic-bezier(0.68, -0.55, 0.265, 1.55);\n}\n\n.score-change-up-normal-leave-active {\n  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.score-change-up-normal-enter-from {\n  opacity: 0;\n  transform: scale(0.8);\n}\n\n.score-change-up-normal-leave-to {\n  opacity: 0;\n  transform: scale(1.2);\n}\n\n.score-change-up-dramatic-enter-active {\n  animation: score-pop-in 600ms cubic-bezier(0.68, -0.55, 0.265, 1.55);\n}\n\n@keyframes score-pop-in {\n  0% {\n    opacity: 0;\n    transform: scale(0.5) rotate(-5deg);\n  }\n  60% {\n    opacity: 1;\n    transform: scale(1.15) rotate(2deg);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) rotate(0deg);\n  }\n}\n\n/* =================================\n   \n   ================================= */\n@media (max-width: 768px) {\n  .game-phase-up-normal-enter-from,\n  .game-phase-up-subtle-enter-from,\n  .game-phase-up-dramatic-enter-from,\n  .card-stack-up-normal-enter-from {\n    /*  */\n    transform: translateY(15px) scale(0.98);\n  }\n  \n  .game-phase-up-normal-leave-to,\n  .game-phase-up-subtle-leave-to,\n  .game-phase-up-dramatic-leave-to,\n  .card-stack-up-normal-leave-to {\n    transform: translateY(-15px) scale(1.02);\n  }\n}\n\n/* =================================\n   \n   ================================= */\n@media (prefers-reduced-motion: reduce) {\n  .fade-left-enter-active,\n  .fade-right-enter-active,\n  .fade-up-enter-active,\n  .fade-down-enter-active,\n  .fade-left-leave-active,\n  .fade-right-leave-active,\n  .fade-up-leave-active,\n  .fade-down-leave-active,\n  .slide-left-enter-active,\n  .slide-left-leave-active,\n  .slide-right-enter-active,\n  .slide-right-leave-active,\n  .slide-up-enter-active,\n  .slide-up-leave-active,\n  .slide-down-enter-active,\n  .slide-down-leave-active,\n  .zoom-left-enter-active,\n  .zoom-right-enter-active,\n  .zoom-up-enter-active,\n  .zoom-down-enter-active,\n  .zoom-left-leave-active,\n  .zoom-right-leave-active,\n  .zoom-up-leave-active,\n  .zoom-down-leave-active,\n  .flip-left-enter-active,\n  .flip-left-leave-active,\n  .flip-right-enter-active,\n  .flip-right-leave-active,\n  .elastic-left-enter-active,\n  .elastic-right-enter-active,\n  .elastic-up-enter-active,\n  .elastic-down-enter-active,\n  .elastic-left-leave-active,\n  .elastic-right-leave-active,\n  .elastic-up-leave-active,\n  .elastic-down-leave-active,\n  .game-phase-up-normal-enter-active,\n  .game-phase-up-subtle-enter-active,\n  .game-phase-up-dramatic-enter-active,\n  .game-phase-up-normal-leave-active,\n  .game-phase-up-subtle-leave-active,\n  .game-phase-up-dramatic-leave-active,\n  .card-stack-up-normal-enter-active,\n  .card-stack-up-normal-leave-active,\n  .score-change-up-normal-enter-active,\n  .score-change-up-normal-leave-active,\n  .score-change-up-dramatic-enter-active {\n    transition: opacity 200ms ease !important;\n    transform: none !important;\n    animation: none !important;\n  }\n\n  .slide-left-enter-from,\n  .slide-right-enter-from,\n  .slide-up-enter-from,\n  .slide-down-enter-from,\n  .slide-left-leave-to,\n  .slide-right-leave-to,\n  .slide-up-leave-to,\n  .slide-down-leave-to,\n  .zoom-left-enter-from,\n  .zoom-right-enter-from,\n  .zoom-up-enter-from,\n  .zoom-down-enter-from,\n  .zoom-left-leave-to,\n  .zoom-right-leave-to,\n  .zoom-up-leave-to,\n  .zoom-down-leave-to,\n  .flip-left-enter-from,\n  .flip-right-enter-from,\n  .flip-left-leave-to,\n  .flip-right-leave-to,\n  .elastic-left-enter-from,\n  .elastic-right-enter-from,\n  .elastic-up-enter-from,\n  .elastic-down-enter-from,\n  .elastic-left-leave-to,\n  .elastic-right-leave-to,\n  .elastic-up-leave-to,\n  .elastic-down-leave-to,\n  .game-phase-up-normal-enter-from,\n  .game-phase-up-subtle-enter-from,\n  .game-phase-up-dramatic-enter-from,\n  .game-phase-up-normal-leave-to,\n  .game-phase-up-subtle-leave-to,\n  .game-phase-up-dramatic-leave-to,\n  .card-stack-up-normal-enter-from,\n  .card-stack-up-normal-leave-to,\n  .score-change-up-normal-enter-from,\n  .score-change-up-normal-leave-to {\n    transform: none !important;\n  }\n}\n</style>","/**\n * \n * ARIA Live Regions\n * \n */\n\nexport interface AnnouncementOptions {\n  priority: 'polite' | 'assertive'\n  persist?: boolean\n  delay?: number\n  interrupt?: boolean\n}\n\nexport interface GameStateAnnouncement {\n  type: 'game_start' | 'turn_change' | 'card_draw' | 'challenge_start' | 'challenge_result' | 'game_end'\n  message: string\n  context?: Record<string, any>\n}\n\nexport class ScreenReaderManager {\n  private readonly liveRegions: Map<string, HTMLElement> = new Map()\n  private gameStatusElement: HTMLElement\n  private cardDetailsElement: HTMLElement\n  private announcementQueue: Array<{ message: string; options: AnnouncementOptions }> = []\n  private isProcessingQueue: boolean = false\n\n  constructor() {\n    this.createLiveRegions()\n    this.createGameStatusElements()\n    this.setupAriaDescriptions()\n  }\n\n  /**\n   * \n   */\n  announce(message: string, options: AnnouncementOptions = { priority: 'polite' }): void {\n    if (options.interrupt) {\n      this.clearQueue()\n    }\n\n    this.announcementQueue.push({ message, options })\n    this.processQueue()\n  }\n\n  /**\n   * \n   */\n  announceGameState(announcement: GameStateAnnouncement): void {\n    const { type, message, context } = announcement\n    \n    // \n    this.updateGameStatus(type, message, context)\n    \n    // \n    const priority = this.getPriorityForGameState(type)\n    this.announce(message, { priority, persist: true })\n  }\n\n  /**\n   * \n   */\n  announceCardDetails(card: any): void {\n    const description = this.createCardDescription(card)\n    this.cardDetailsElement.textContent = description\n    this.announce(`: ${description}`, { priority: 'polite' })\n  }\n\n  /**\n   * \n   */\n  announceError(message: string): void {\n    this.announce(`: ${message}`, { priority: 'assertive', interrupt: true })\n  }\n\n  /**\n   * \n   */\n  announceSuccess(message: string): void {\n    this.announce(`: ${message}`, { priority: 'polite' })\n  }\n\n  /**\n   * \n   */\n  announceProgress(current: number, total: number, description: string): void {\n    const percentage = Math.round((current / total) * 100)\n    const message = `${description}: ${current}/${total} (${percentage}%)`\n    this.announce(message, { priority: 'polite' })\n  }\n\n  /**\n   * \n   */\n  announceOptions(options: string[], currentIndex: number): void {\n    const totalOptions = options.length\n    const currentOption = options[currentIndex]\n    const message = ` ${currentIndex + 1}/${totalOptions}: ${currentOption}`\n    this.announce(message, { priority: 'polite' })\n  }\n\n  /**\n   * \n   */\n  announceTimer(remainingTime: number, unit: 'seconds' | 'minutes' = 'seconds'): void {\n    const unitText = unit === 'seconds' ? '' : ''\n    let message: string\n\n    if (remainingTime <= 0) {\n      message = ''\n    } else if (remainingTime <= 10 && unit === 'seconds') {\n      message = `${remainingTime}${unitText}`\n    } else if (remainingTime <= 60 && unit === 'seconds') {\n      message = `${remainingTime}${unitText}`\n    } else {\n      message = `: ${remainingTime}${unitText}`\n    }\n\n    const priority = remainingTime <= 10 ? 'assertive' : 'polite'\n    this.announce(message, { priority })\n  }\n\n  /**\n   * \n   */\n  announceScreenChange(screenName: string, description?: string): void {\n    let message = `: ${screenName}`\n    if (description) {\n      message += `. ${description}`\n    }\n    this.announce(message, { priority: 'assertive', persist: true })\n  }\n\n  /**\n   * \n   */\n  announceKeyboardHelp(): void {\n    const shortcuts = [\n      'Tab',\n      'Shift+Tab',\n      'Enter',\n      'F1'\n    ]\n    \n    const message = `: ${shortcuts.join(', ')}`\n    this.announce(message, { priority: 'polite', persist: true })\n  }\n\n  /**\n   * \n   */\n  announceGameStats(stats: Record<string, number | string>): void {\n    const statMessages = Object.entries(stats).map(([key, value]) => {\n      return `${this.translateStatKey(key)}: ${value}`\n    })\n    \n    const message = `. ${statMessages.join(', ')}`\n    this.announce(message, { priority: 'polite', persist: true })\n  }\n\n  /**\n   * \n   */\n  announceRegionStatus(regionName: string, items: any[]): void {\n    const itemCount = items.length\n    const itemType = this.getItemType(items)\n    \n    let message: string\n    if (itemCount === 0) {\n      message = `${regionName}`\n    } else if (itemCount === 1) {\n      message = `${regionName}${itemType}1`\n    } else {\n      message = `${regionName}${itemType}${itemCount}`\n    }\n    \n    this.announce(message, { priority: 'polite' })\n  }\n\n  /**\n   * &\n   */\n  announceDragDrop(phase: 'start' | 'move' | 'drop' | 'cancel', details: any): void {\n    let message: string\n    \n    switch (phase) {\n      case 'start':\n        message = `${details.itemName}`\n        break\n      case 'move':\n        message = `${details.targetName}`\n        break\n      case 'drop':\n        message = details.success \n          ? `${details.targetName}${details.itemName}`\n          : `: ${details.reason}`\n        break\n      case 'cancel':\n        message = ''\n        break\n    }\n    \n    const priority = phase === 'drop' && !details.success ? 'assertive' : 'polite'\n    this.announce(message, { priority })\n  }\n\n  private createLiveRegions(): void {\n    // Polite live region\n    const politeRegion = document.createElement('div')\n    politeRegion.setAttribute('aria-live', 'polite')\n    politeRegion.setAttribute('aria-relevant', 'additions text')\n    politeRegion.setAttribute('aria-atomic', 'false')\n    politeRegion.className = 'sr-only'\n    politeRegion.id = 'live-region-polite'\n    document.body.appendChild(politeRegion)\n    this.liveRegions.set('polite', politeRegion)\n\n    // Assertive live region\n    const assertiveRegion = document.createElement('div')\n    assertiveRegion.setAttribute('aria-live', 'assertive')\n    assertiveRegion.setAttribute('aria-relevant', 'additions text')\n    assertiveRegion.setAttribute('aria-atomic', 'true')\n    assertiveRegion.className = 'sr-only'\n    assertiveRegion.id = 'live-region-assertive'\n    document.body.appendChild(assertiveRegion)\n    this.liveRegions.set('assertive', assertiveRegion)\n  }\n\n  private createGameStatusElements(): void {\n    // \n    this.gameStatusElement = document.createElement('div')\n    this.gameStatusElement.id = 'game-status'\n    this.gameStatusElement.className = 'sr-only'\n    this.gameStatusElement.setAttribute('aria-label', '')\n    document.body.appendChild(this.gameStatusElement)\n\n    // \n    this.cardDetailsElement = document.createElement('div')\n    this.cardDetailsElement.id = 'card-details'\n    this.cardDetailsElement.className = 'sr-only'\n    this.cardDetailsElement.setAttribute('aria-label', '')\n    document.body.appendChild(this.cardDetailsElement)\n  }\n\n  private setupAriaDescriptions(): void {\n    // Screen Reader OnlyCSS\n    const style = document.createElement('style')\n    style.textContent = `\n      .sr-only {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        white-space: nowrap;\n        border: 0;\n      }\n      \n      .sr-only-focusable:focus {\n        position: static;\n        width: auto;\n        height: auto;\n        padding: inherit;\n        margin: inherit;\n        overflow: visible;\n        clip: auto;\n        white-space: normal;\n      }\n    `\n    document.head.appendChild(style)\n  }\n\n  private async processQueue(): Promise<void> {\n    if (this.isProcessingQueue || this.announcementQueue.length === 0) return\n\n    this.isProcessingQueue = true\n\n    while (this.announcementQueue.length > 0) {\n      const { message, options } = this.announcementQueue.shift()!\n      \n      if (options.delay) {\n        await this.delay(options.delay)\n      }\n\n      await this.performAnnouncement(message, options)\n      \n      // \n      await this.delay(100)\n    }\n\n    this.isProcessingQueue = false\n  }\n\n  private async performAnnouncement(message: string, options: AnnouncementOptions): Promise<void> {\n    const region = this.liveRegions.get(options.priority)\n    if (!region) return\n\n    // \n    if (!options.persist) {\n      region.textContent = ''\n      await this.delay(10) // DOM\n    }\n\n    // \n    if (options.persist) {\n      const messageElement = document.createElement('div')\n      messageElement.textContent = message\n      region.appendChild(messageElement)\n      \n      // \n      setTimeout(() => {\n        if (messageElement.parentNode) {\n          messageElement.parentNode.removeChild(messageElement)\n        }\n      }, 5000)\n    } else {\n      region.textContent = message\n    }\n  }\n\n  private updateGameStatus(type: string, message: string, context?: Record<string, any>): void {\n    const statusInfo = {\n      type,\n      message,\n      timestamp: new Date().toISOString(),\n      ...context\n    }\n\n    this.gameStatusElement.setAttribute('data-game-state', JSON.stringify(statusInfo))\n    this.gameStatusElement.textContent = message\n  }\n\n  private createCardDescription(card: any): string {\n    const parts = [card.name]\n    \n    if (card.type) {\n      parts.push(`: ${this.translateCardType(card.type)}`)\n    }\n    \n    if (card.power !== undefined) {\n      parts.push(`: ${card.power}`)\n    }\n    \n    if (card.cost !== undefined) {\n      parts.push(`: ${card.cost}`)\n    }\n    \n    if (card.description) {\n      parts.push(`: ${card.description}`)\n    }\n\n    return parts.join(', ')\n  }\n\n  private getPriorityForGameState(type: string): 'polite' | 'assertive' {\n    const assertiveStates = ['challenge_result', 'game_end', 'error']\n    return assertiveStates.includes(type) ? 'assertive' : 'polite'\n  }\n\n  private translateStatKey(key: string): string {\n    const translations: Record<string, string> = {\n      'vitality': '',\n      'turn': '',\n      'cardsInHand': '',\n      'challengesCompleted': '',\n      'insuranceCards': ''\n    }\n    return translations[key] || key\n  }\n\n  private translateCardType(type: string): string {\n    const translations: Record<string, string> = {\n      'life': '',\n      'insurance': '',\n      'challenge': '',\n      'dream': ''\n    }\n    return translations[type] || type\n  }\n\n  private getItemType(items: any[]): string {\n    if (items.length === 0) return ''\n    \n    const firstItem = items[0]\n    if (firstItem.type) {\n      return this.translateCardType(firstItem.type)\n    }\n    \n    return ''\n  }\n\n  private clearQueue(): void {\n    this.announcementQueue = []\n    this.liveRegions.forEach(region => {\n      region.textContent = ''\n    })\n  }\n\n  private async delay(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms))\n  }\n\n  /**\n   * \n   */\n  destroy(): void {\n    this.liveRegions.forEach(region => {\n      if (region.parentNode) {\n        region.parentNode.removeChild(region)\n      }\n    })\n    \n    if (this.gameStatusElement?.parentNode) {\n      this.gameStatusElement.parentNode.removeChild(this.gameStatusElement)\n    }\n    \n    if (this.cardDetailsElement?.parentNode) {\n      this.cardDetailsElement.parentNode.removeChild(this.cardDetailsElement)\n    }\n    \n    this.clearQueue()\n  }\n}","<script setup lang=\"ts\">\nimport { computed, onMounted, ref, watch } from 'vue'\nimport { ScreenReaderManager } from './ScreenReaderManager'\n\n// \ninterface AccessibilitySettings {\n  // \n  colorScheme: 'default' | 'protanopia' | 'deuteranopia' | 'tritanopia' | 'achromatopsia'\n  highContrast: boolean\n  fontSize: 'small' | 'medium' | 'large' | 'extra-large'\n  \n  // \n  reduceMotion: boolean\n  animationSpeed: number // 0.0 - 2.0\n  \n  // \n  screenReaderEnabled: boolean\n  audioDescriptions: boolean\n  soundEffectsVolume: number // 0 - 100\n  \n  // \n  stickyKeys: boolean\n  keyRepeatDelay: number // \n  touchTargetSize: 'default' | 'large' | 'extra-large'\n}\n\nconst props = defineProps<{\n  isOpen: boolean\n}>()\n\nconst emit = defineEmits<{\n  close: []\n  settingsChanged: [settings: AccessibilitySettings]\n}>()\n\n// \nconst defaultSettings: AccessibilitySettings = {\n  colorScheme: 'default',\n  highContrast: false,\n  fontSize: 'medium',\n  reduceMotion: false,\n  animationSpeed: 1.0,\n  screenReaderEnabled: false,\n  audioDescriptions: false,\n  soundEffectsVolume: 70,\n  stickyKeys: false,\n  keyRepeatDelay: 500,\n  touchTargetSize: 'default'\n}\n\nconst settings = ref<AccessibilitySettings>({ ...defaultSettings })\nconst screenReaderManager = ref<ScreenReaderManager | null>(null)\n\n// \nconst colorFilters = {\n  default: '',\n  protanopia: `\n    <filter id=\"protanopia\">\n      <feColorMatrix type=\"matrix\" values=\"\n        0.567, 0.433, 0,     0, 0\n        0.558, 0.442, 0,     0, 0\n        0,     0.242, 0.758, 0, 0\n        0,     0,     0,     1, 0\n      \"/>\n    </filter>\n  `,\n  deuteranopia: `\n    <filter id=\"deuteranopia\">\n      <feColorMatrix type=\"matrix\" values=\"\n        0.625, 0.375, 0,   0, 0\n        0.7,   0.3,   0,   0, 0\n        0,     0.3,   0.7, 0, 0\n        0,     0,     0,   1, 0\n      \"/>\n    </filter>\n  `,\n  tritanopia: `\n    <filter id=\"tritanopia\">\n      <feColorMatrix type=\"matrix\" values=\"\n        0.95, 0.05,  0,     0, 0\n        0,    0.433, 0.567, 0, 0\n        0,    0.475, 0.525, 0, 0\n        0,    0,     0,     1, 0\n      \"/>\n    </filter>\n  `,\n  achromatopsia: `\n    <filter id=\"achromatopsia\">\n      <feColorMatrix type=\"matrix\" values=\"\n        0.299, 0.587, 0.114, 0, 0\n        0.299, 0.587, 0.114, 0, 0\n        0.299, 0.587, 0.114, 0, 0\n        0,     0,     0,     1, 0\n      \"/>\n    </filter>\n  `\n}\n\n// \nconst saveSettings = () => {\n  localStorage.setItem('accessibility-settings', JSON.stringify(settings.value))\n  emit('settingsChanged', settings.value)\n  applySettings()\n}\n\nconst loadSettings = () => {\n  const saved = localStorage.getItem('accessibility-settings')\n  if (saved) {\n    try {\n      settings.value = { ...defaultSettings, ...JSON.parse(saved) }\n    } catch (e) {\n      console.error('Failed to load accessibility settings:', e)\n    }\n  }\n}\n\n// \nconst applySettings = () => {\n  const root = document.documentElement\n  \n  // \n  if (settings.value.colorScheme !== 'default') {\n    root.style.filter = `url(#${settings.value.colorScheme})`\n  } else {\n    root.style.filter = ''\n  }\n  \n  // \n  root.classList.toggle('high-contrast', settings.value.highContrast)\n  \n  // \n  const fontSizeMap = {\n    'small': '14px',\n    'medium': '16px',\n    'large': '20px',\n    'extra-large': '24px'\n  }\n  root.style.setProperty('--base-font-size', fontSizeMap[settings.value.fontSize])\n  \n  // \n  root.classList.toggle('reduce-motion', settings.value.reduceMotion)\n  root.style.setProperty('--animation-speed-multiplier', String(settings.value.animationSpeed))\n  \n  // \n  const touchSizeMap = {\n    'default': '44px',\n    'large': '56px',\n    'extra-large': '72px'\n  }\n  root.style.setProperty('--touch-target-size', touchSizeMap[settings.value.touchTargetSize])\n  \n  // \n  if (screenReaderManager.value) {\n    screenReaderManager.value.announce('', { priority: 'polite' })\n  }\n}\n\n// \nconst previewSettings = (setting: keyof AccessibilitySettings, value: any) => {\n  const originalValue = settings.value[setting]\n  settings.value[setting] = value\n  applySettings()\n  \n  // 3\n  setTimeout(() => {\n    if (settings.value[setting] === value) {\n      settings.value[setting] = originalValue\n      applySettings()\n    }\n  }, 3000)\n}\n\n// \nconst resetSettings = () => {\n  settings.value = { ...defaultSettings }\n  saveSettings()\n  \n  if (screenReaderManager.value) {\n    screenReaderManager.value.announce('', { priority: 'assertive' })\n  }\n}\n\n// \nconst setupKeyboardShortcuts = () => {\n  const handleKeyDown = (e: KeyboardEvent) => {\n    if (!props.isOpen) return\n    \n    // Ctrl + Alt + \n    if (e.ctrlKey && e.altKey) {\n      switch (e.key) {\n        case 'c':\n          // \n          const schemes: AccessibilitySettings['colorScheme'][] = \n            ['default', 'protanopia', 'deuteranopia', 'tritanopia', 'achromatopsia']\n          const currentIndex = schemes.indexOf(settings.value.colorScheme)\n          settings.value.colorScheme = schemes[(currentIndex + 1) % schemes.length]\n          saveSettings()\n          break\n          \n        case 'h':\n          // \n          settings.value.highContrast = !settings.value.highContrast\n          saveSettings()\n          break\n          \n        case 'm':\n          // \n          settings.value.reduceMotion = !settings.value.reduceMotion\n          saveSettings()\n          break\n      }\n    }\n  }\n  \n  window.addEventListener('keydown', handleKeyDown)\n  return () => { window.removeEventListener('keydown', handleKeyDown); }\n}\n\nonMounted(() => {\n  loadSettings()\n  applySettings()\n  screenReaderManager.value = new ScreenReaderManager()\n  const cleanup = setupKeyboardShortcuts()\n  \n  // \n  return () => {\n    cleanup()\n    screenReaderManager.value?.destroy()\n  }\n})\n\n// \nwatch(() => settings.value, () => {\n  saveSettings()\n}, { deep: true })\n</script>\n\n<template>\n  <Transition name=\"modal\">\n    <div v-if=\"isOpen\" class=\"accessibility-modal\" @click.self=\"emit('close')\">\n      <div \n        class=\"modal-content\"\n        role=\"dialog\"\n        aria-labelledby=\"accessibility-title\"\n        aria-describedby=\"accessibility-description\"\n      >\n        <!-- SVG -->\n        <svg style=\"position: absolute; width: 0; height: 0;\">\n          <defs v-html=\"Object.values(colorFilters).join('')\"></defs>\n        </svg>\n        \n        <div class=\"modal-header\">\n          <h2 id=\"accessibility-title\"></h2>\n          <button \n            class=\"close-button\"\n            aria-label=\"\"\n            @click=\"emit('close')\"\n          >\n            <span aria-hidden=\"true\"></span>\n          </button>\n        </div>\n        \n        <div id=\"accessibility-description\" class=\"sr-only\">\n          \n          Ctrl+Alt+CCtrl+Alt+HCtrl+Alt+M\n        </div>\n        \n        <div class=\"modal-body\">\n          <!--  -->\n          <section class=\"settings-section\">\n            <h3></h3>\n            \n            <div class=\"setting-item\">\n              <label for=\"color-scheme\"></label>\n              <select \n                id=\"color-scheme\"\n                v-model=\"settings.colorScheme\"\n                @change=\"saveSettings\"\n              >\n                <option value=\"default\"></option>\n                <option value=\"protanopia\">1</option>\n                <option value=\"deuteranopia\">2</option>\n                <option value=\"tritanopia\">3</option>\n                <option value=\"achromatopsia\"></option>\n              </select>\n              <button \n                class=\"preview-button\"\n                aria-label=\"\"\n                @click=\"previewSettings('colorScheme', settings.colorScheme)\"\n              >\n                \n              </button>\n            </div>\n            \n            <div class=\"setting-item\">\n              <label for=\"high-contrast\">\n                <input \n                  id=\"high-contrast\"\n                  v-model=\"settings.highContrast\"\n                  type=\"checkbox\"\n                  @change=\"saveSettings\"\n                >\n                \n              </label>\n              <span class=\"setting-description\">\n                \n              </span>\n            </div>\n            \n            <div class=\"setting-item\">\n              <label for=\"font-size\"></label>\n              <select \n                id=\"font-size\"\n                v-model=\"settings.fontSize\"\n                @change=\"saveSettings\"\n              >\n                <option value=\"small\">14px</option>\n                <option value=\"medium\">16px</option>\n                <option value=\"large\">20px</option>\n                <option value=\"extra-large\">24px</option>\n              </select>\n            </div>\n          </section>\n          \n          <!--  -->\n          <section class=\"settings-section\">\n            <h3></h3>\n            \n            <div class=\"setting-item\">\n              <label for=\"reduce-motion\">\n                <input \n                  id=\"reduce-motion\"\n                  v-model=\"settings.reduceMotion\"\n                  type=\"checkbox\"\n                  @change=\"saveSettings\"\n                >\n                \n              </label>\n              <span class=\"setting-description\">\n                \n              </span>\n            </div>\n            \n            <div v-if=\"!settings.reduceMotion\" class=\"setting-item\">\n              <label for=\"animation-speed\"></label>\n              <input \n                id=\"animation-speed\"\n                v-model.number=\"settings.animationSpeed\"\n                type=\"range\"\n                min=\"0.1\"\n                max=\"2.0\"\n                step=\"0.1\"\n                @change=\"saveSettings\"\n              >\n              <span class=\"range-value\">{{ settings.animationSpeed }}x</span>\n            </div>\n          </section>\n          \n          <!--  -->\n          <section class=\"settings-section\">\n            <h3></h3>\n            \n            <div class=\"setting-item\">\n              <label for=\"screen-reader\">\n                <input \n                  id=\"screen-reader\"\n                  v-model=\"settings.screenReaderEnabled\"\n                  type=\"checkbox\"\n                  @change=\"saveSettings\"\n                >\n                \n              </label>\n            </div>\n            \n            <div class=\"setting-item\">\n              <label for=\"audio-descriptions\">\n                <input \n                  id=\"audio-descriptions\"\n                  v-model=\"settings.audioDescriptions\"\n                  type=\"checkbox\"\n                  @change=\"saveSettings\"\n                >\n                \n              </label>\n            </div>\n            \n            <div class=\"setting-item\">\n              <label for=\"sound-volume\"></label>\n              <input \n                id=\"sound-volume\"\n                v-model.number=\"settings.soundEffectsVolume\"\n                type=\"range\"\n                min=\"0\"\n                max=\"100\"\n                step=\"5\"\n                @change=\"saveSettings\"\n              >\n              <span class=\"range-value\">{{ settings.soundEffectsVolume }}%</span>\n            </div>\n          </section>\n          \n          <!--  -->\n          <section class=\"settings-section\">\n            <h3></h3>\n            \n            <div class=\"setting-item\">\n              <label for=\"sticky-keys\">\n                <input \n                  id=\"sticky-keys\"\n                  v-model=\"settings.stickyKeys\"\n                  type=\"checkbox\"\n                  @change=\"saveSettings\"\n                >\n                \n              </label>\n              <span class=\"setting-description\">\n                \n              </span>\n            </div>\n            \n            <div class=\"setting-item\">\n              <label for=\"touch-target-size\"></label>\n              <select \n                id=\"touch-target-size\"\n                v-model=\"settings.touchTargetSize\"\n                @change=\"saveSettings\"\n              >\n                <option value=\"default\">44px</option>\n                <option value=\"large\">56px</option>\n                <option value=\"extra-large\">72px</option>\n              </select>\n            </div>\n          </section>\n        </div>\n        \n        <div class=\"modal-footer\">\n          <button \n            class=\"reset-button\"\n            aria-label=\"\"\n            @click=\"resetSettings\"\n          >\n            \n          </button>\n          <button \n            class=\"save-button\"\n            aria-label=\"\"\n            @click=\"emit('close')\"\n          >\n            \n          </button>\n        </div>\n      </div>\n    </div>\n  </Transition>\n</template>\n\n<style scoped>\n.accessibility-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: var(--z-modal);\n  padding: var(--space-md);\n}\n\n.modal-content {\n  background: var(--bg-primary);\n  border-radius: 12px;\n  max-width: 600px;\n  width: 100%;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: var(--shadow-card);\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--space-lg);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.modal-header h2 {\n  margin: 0;\n  color: var(--primary-light);\n  font-size: var(--text-2xl);\n}\n\n.close-button {\n  background: none;\n  border: none;\n  color: rgba(255, 255, 255, 0.6);\n  font-size: var(--text-2xl);\n  cursor: pointer;\n  padding: var(--space-xs);\n  width: var(--touch-target-min);\n  height: var(--touch-target-min);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all var(--transition-fast);\n}\n\n.close-button:hover {\n  background: rgba(255, 255, 255, 0.1);\n  color: white;\n}\n\n.close-button:focus {\n  outline: 2px solid var(--primary-light);\n  outline-offset: 2px;\n}\n\n.modal-body {\n  padding: var(--space-lg);\n}\n\n.settings-section {\n  margin-bottom: var(--space-2xl);\n}\n\n.settings-section:last-child {\n  margin-bottom: 0;\n}\n\n.settings-section h3 {\n  color: white;\n  font-size: var(--text-lg);\n  margin-bottom: var(--space-md);\n  padding-bottom: var(--space-xs);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.setting-item {\n  margin-bottom: var(--space-lg);\n  display: flex;\n  align-items: center;\n  gap: var(--space-md);\n  flex-wrap: wrap;\n}\n\n.setting-item label {\n  color: rgba(255, 255, 255, 0.9);\n  font-size: var(--text-base);\n  display: flex;\n  align-items: center;\n  gap: var(--space-sm);\n  min-width: 200px;\n}\n\n.setting-item select,\n.setting-item input[type=\"range\"] {\n  flex: 1;\n  min-width: 150px;\n  padding: var(--space-sm);\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n  color: white;\n  font-size: var(--text-base);\n}\n\n.setting-item select:focus,\n.setting-item input:focus {\n  outline: 2px solid var(--primary-light);\n  outline-offset: 2px;\n}\n\n.setting-item input[type=\"checkbox\"] {\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n}\n\n.setting-description {\n  display: block;\n  width: 100%;\n  font-size: var(--text-sm);\n  color: rgba(255, 255, 255, 0.6);\n  margin-top: var(--space-xs);\n}\n\n.preview-button {\n  padding: var(--space-xs) var(--space-sm);\n  background: rgba(129, 140, 248, 0.2);\n  border: 1px solid rgba(129, 140, 248, 0.4);\n  border-radius: 4px;\n  color: var(--primary-light);\n  font-size: var(--text-sm);\n  cursor: pointer;\n  transition: all var(--transition-fast);\n}\n\n.preview-button:hover {\n  background: rgba(129, 140, 248, 0.3);\n  border-color: rgba(129, 140, 248, 0.6);\n}\n\n.range-value {\n  color: var(--primary-light);\n  font-size: var(--text-sm);\n  min-width: 50px;\n  text-align: right;\n}\n\n.modal-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--space-lg);\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.reset-button,\n.save-button {\n  padding: var(--space-sm) var(--space-lg);\n  border-radius: 8px;\n  font-size: var(--text-base);\n  font-weight: 600;\n  cursor: pointer;\n  transition: all var(--transition-normal);\n  min-height: var(--touch-target-min);\n}\n\n.reset-button {\n  background: rgba(239, 68, 68, 0.2);\n  border: 1px solid rgba(239, 68, 68, 0.4);\n  color: #EF4444;\n}\n\n.reset-button:hover {\n  background: rgba(239, 68, 68, 0.3);\n  border-color: rgba(239, 68, 68, 0.6);\n}\n\n.save-button {\n  background: var(--primary-gradient);\n  border: none;\n  color: white;\n}\n\n.save-button:hover {\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-glow);\n}\n\n/*  */\n.modal-enter-active,\n.modal-leave-active {\n  transition: all var(--transition-normal);\n}\n\n.modal-enter-from,\n.modal-leave-to {\n  opacity: 0;\n}\n\n.modal-enter-from .modal-content,\n.modal-leave-to .modal-content {\n  transform: scale(0.9) translateY(20px);\n}\n\n/*  */\n@media (prefers-contrast: high) {\n  .modal-content {\n    border: 2px solid white;\n  }\n  \n  .setting-item select,\n  .setting-item input[type=\"range\"] {\n    border-width: 2px;\n  }\n  \n  .close-button:focus,\n  .setting-item select:focus,\n  .setting-item input:focus {\n    outline-width: 3px;\n  }\n}\n\n/*  */\n@media (max-width: 640px) {\n  .modal-content {\n    max-height: 100vh;\n    height: 100%;\n    border-radius: 0;\n  }\n  \n  .setting-item {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n  \n  .setting-item label {\n    min-width: auto;\n  }\n  \n  .modal-footer {\n    flex-direction: column;\n    gap: var(--space-md);\n  }\n  \n  .reset-button,\n  .save-button {\n    width: 100%;\n  }\n}\n</style>","/**\n * \n * \n */\n\nexport interface FocusIndicatorOptions {\n  color?: string\n  width?: number\n  style?: 'solid' | 'dashed' | 'dotted'\n  offset?: number\n  borderRadius?: number\n}\n\n/**\n * \n */\nexport class FocusIndicatorManager {\n  private focusedElement: HTMLElement | null = null\n  private readonly indicator: HTMLElement\n  private readonly options: Required<FocusIndicatorOptions>\n\n  constructor(options: FocusIndicatorOptions = {}) {\n    this.options = {\n      color: options.color || '#818CF8',\n      width: options.width || 3,\n      style: options.style || 'solid',\n      offset: options.offset || 4,\n      borderRadius: options.borderRadius || 8\n    }\n\n    this.indicator = this.createIndicator()\n    document.body.appendChild(this.indicator)\n    this.setupEventListeners()\n  }\n\n  private createIndicator(): HTMLElement {\n    const indicator = document.createElement('div')\n    indicator.className = 'focus-indicator'\n    indicator.style.cssText = `\n      position: fixed;\n      pointer-events: none;\n      z-index: 10000;\n      transition: all 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94);\n      opacity: 0;\n      border: ${this.options.width}px ${this.options.style} ${this.options.color};\n      border-radius: ${this.options.borderRadius}px;\n      box-shadow: 0 0 20px rgba(129, 140, 248, 0.4);\n    `\n    return indicator\n  }\n\n  private setupEventListeners(): void {\n    // \n    document.addEventListener('focusin', this.handleFocusIn.bind(this))\n    document.addEventListener('focusout', this.handleFocusOut.bind(this))\n    \n    // \n    window.addEventListener('scroll', this.updatePosition.bind(this), true)\n    window.addEventListener('resize', this.updatePosition.bind(this))\n    \n    // MutationObserver\n    const observer = new MutationObserver(() => {\n      if (this.focusedElement) {\n        this.updatePosition()\n      }\n    })\n    \n    observer.observe(document.body, {\n      attributes: true,\n      childList: true,\n      subtree: true,\n      attributeFilter: ['style', 'class']\n    })\n  }\n\n  private handleFocusIn(event: FocusEvent): void {\n    const target = event.target as HTMLElement\n    \n    // \n    if (this.isFocusableElement(target)) {\n      this.focusedElement = target\n      this.showIndicator(target)\n    }\n  }\n\n  private handleFocusOut(): void {\n    this.focusedElement = null\n    this.hideIndicator()\n  }\n\n  private isFocusableElement(element: HTMLElement): boolean {\n    // \n    const focusableSelectors = [\n      'button', 'input', 'select', 'textarea', 'a[href]',\n      '[tabindex]:not([tabindex=\"-1\"])', '[contenteditable]'\n    ]\n    \n    return focusableSelectors.some(selector => \n      element.matches(selector) || element.closest(selector)\n    )\n  }\n\n  private showIndicator(element: HTMLElement): void {\n    const rect = element.getBoundingClientRect()\n    const offset = this.options.offset\n    \n    this.indicator.style.left = `${rect.left - offset}px`\n    this.indicator.style.top = `${rect.top - offset}px`\n    this.indicator.style.width = `${rect.width + offset * 2}px`\n    this.indicator.style.height = `${rect.height + offset * 2}px`\n    this.indicator.style.opacity = '1'\n    \n    // \n    const computedStyle = window.getComputedStyle(element)\n    const borderRadius = computedStyle.borderRadius\n    if (borderRadius && borderRadius !== '0px') {\n      this.indicator.style.borderRadius = borderRadius\n    }\n  }\n\n  private hideIndicator(): void {\n    this.indicator.style.opacity = '0'\n  }\n\n  private updatePosition(): void {\n    if (this.focusedElement && this.focusedElement === document.activeElement) {\n      this.showIndicator(this.focusedElement)\n    }\n  }\n\n  public setOptions(options: Partial<FocusIndicatorOptions>): void {\n    Object.assign(this.options, options)\n    \n    this.indicator.style.border = \n      `${this.options.width}px ${this.options.style} ${this.options.color}`\n    this.indicator.style.borderRadius = `${this.options.borderRadius}px`\n    \n    if (this.focusedElement) {\n      this.updatePosition()\n    }\n  }\n\n  public destroy(): void {\n    this.indicator.remove()\n    document.removeEventListener('focusin', this.handleFocusIn.bind(this))\n    document.removeEventListener('focusout', this.handleFocusOut.bind(this))\n    window.removeEventListener('scroll', this.updatePosition.bind(this), true)\n    window.removeEventListener('resize', this.updatePosition.bind(this))\n  }\n}","<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\nimport { FocusIndicatorManager, type FocusIndicatorOptions } from '@/utils/focus-indicator'\n\n// \nconst isDev = import.meta.env.DEV\n\n// Props\ninterface Props {\n  enabled?: boolean\n  color?: string\n  width?: number\n  style?: 'solid' | 'dashed' | 'dotted'\n  offset?: number\n  borderRadius?: number\n  showKeyboardHints?: boolean\n  reducedMotion?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  enabled: true,\n  color: '#818CF8',\n  width: 3,\n  style: 'solid',\n  offset: 4,\n  borderRadius: 8,\n  showKeyboardHints: true,\n  reducedMotion: false\n})\n\n// \nconst isEnabled = ref(props.enabled)\nconst currentOptions = ref<FocusIndicatorOptions>({\n  color: props.color,\n  width: props.width,\n  style: props.style,\n  offset: props.offset,\n  borderRadius: props.borderRadius\n})\n\n// Focus Indicator Manager\nlet focusIndicatorManager: FocusIndicatorManager | null = null\n\n// \nconst showHints = ref(false)\nconst hintTimer = ref<number | null>(null)\n\n// \nconst indicatorStyle = computed(() => ({\n  '--focus-color': currentOptions.value.color,\n  '--focus-width': `${currentOptions.value.width}px`,\n  '--focus-offset': `${currentOptions.value.offset}px`,\n  '--focus-radius': `${currentOptions.value.borderRadius}px`\n}))\n\n// \nconst keyboardShortcuts = computed(() => [\n  { key: 'Tab', description: '' },\n  { key: 'Shift + Tab', description: '' },\n  { key: 'Enter', description: '' },\n  { key: 'Space', description: '' },\n  { key: 'Arrow Keys', description: '' },\n  { key: 'Escape', description: '' }\n])\n\n// \nconst initializeFocusIndicator = () => {\n  if (isEnabled.value && !focusIndicatorManager) {\n    focusIndicatorManager = new FocusIndicatorManager(currentOptions.value)\n  }\n}\n\nconst destroyFocusIndicator = () => {\n  if (focusIndicatorManager) {\n    focusIndicatorManager.destroy()\n    focusIndicatorManager = null\n  }\n}\n\nconst updateOptions = () => {\n  if (focusIndicatorManager) {\n    focusIndicatorManager.setOptions(currentOptions.value)\n  }\n}\n\nconst showKeyboardHints = () => {\n  if (!props.showKeyboardHints) return\n  \n  showHints.value = true\n  \n  // 5\n  if (hintTimer.value) {\n    clearTimeout(hintTimer.value)\n  }\n  \n  hintTimer.value = window.setTimeout(() => {\n    showHints.value = false\n  }, 5000)\n}\n\nconst hideKeyboardHints = () => {\n  showHints.value = false\n  if (hintTimer.value) {\n    clearTimeout(hintTimer.value)\n    hintTimer.value = null\n  }\n}\n\n// \nconst handleKeydown = (event: KeyboardEvent) => {\n  if (event.key === 'Tab') {\n    showKeyboardHints()\n  }\n}\n\n// \nconst updateSettings = (newOptions: Partial<FocusIndicatorOptions>) => {\n  Object.assign(currentOptions.value, newOptions)\n  updateOptions()\n}\n\n// /\nconst toggleEnabled = () => {\n  isEnabled.value = !isEnabled.value\n  \n  if (isEnabled.value) {\n    initializeFocusIndicator()\n  } else {\n    destroyFocusIndicator()\n  }\n}\n\n// \nonMounted(() => {\n  initializeFocusIndicator()\n  \n  // \n  document.addEventListener('keydown', handleKeydown)\n  \n  // \n  const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)')\n  if (prefersReducedMotion.matches) {\n    currentOptions.value = {\n      ...currentOptions.value,\n      offset: 2 // \n    }\n    updateOptions()\n  }\n})\n\nonUnmounted(() => {\n  destroyFocusIndicator()\n  document.removeEventListener('keydown', handleKeydown)\n  \n  if (hintTimer.value) {\n    clearTimeout(hintTimer.value)\n  }\n})\n\n// \ndefineExpose({\n  updateSettings,\n  toggleEnabled,\n  showKeyboardHints,\n  hideKeyboardHints\n})\n</script>\n\n<template>\n  <div \n    class=\"visual-indicators\"\n    :class=\"{\n      'reduced-motion': reducedMotion,\n      'hints-visible': showHints\n    }\"\n    :style=\"indicatorStyle\"\n  >\n    <!--  -->\n    <Transition name=\"hints-fade\">\n      <div \n        v-if=\"showHints && showKeyboardHints\" \n        class=\"keyboard-hints\"\n        role=\"tooltip\"\n        aria-live=\"polite\"\n      >\n        <div class=\"hints-header\">\n          <h3 class=\"hints-title\"></h3>\n          <button \n            class=\"hints-close\"\n            aria-label=\"\"\n            @click=\"hideKeyboardHints\"\n          >\n            \n          </button>\n        </div>\n        <ul class=\"hints-list\">\n          <li \n            v-for=\"shortcut in keyboardShortcuts\"\n            :key=\"shortcut.key\"\n            class=\"hint-item\"\n          >\n            <kbd class=\"hint-key\">{{ shortcut.key }}</kbd>\n            <span class=\"hint-description\">{{ shortcut.description }}</span>\n          </li>\n        </ul>\n      </div>\n    </Transition>\n\n    <!--  -->\n    <div \n      v-if=\"isDev\" \n      class=\"settings-panel\"\n    >\n      <h4></h4>\n      <label>\n        <input \n          v-model=\"isEnabled\" \n          type=\"checkbox\"\n          @change=\"toggleEnabled\"\n        >\n        \n      </label>\n      \n      <label>\n        :\n        <input \n          :value=\"currentOptions.color\"\n          type=\"color\"\n          @input=\"updateSettings({ color: ($event.target as HTMLInputElement).value })\"\n        >\n      </label>\n      \n      <label>\n        :\n        <input \n          :value=\"currentOptions.width\"\n          type=\"range\"\n          min=\"1\"\n          max=\"10\"\n          @input=\"updateSettings({ width: parseInt(($event.target as HTMLInputElement).value) })\"\n        >\n      </label>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.visual-indicators {\n  /* CSS */\n  --focus-transition: all 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n\n.visual-indicators.reduced-motion {\n  --focus-transition: none;\n}\n\n/*  */\n.keyboard-hints {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 10001;\n  \n  background: var(--bg-overlay);\n  border: 1px solid var(--border-primary);\n  border-radius: var(--rounded-lg);\n  padding: var(--space-4);\n  max-width: 300px;\n  \n  backdrop-filter: blur(12px);\n  box-shadow: var(--shadow-xl);\n  \n  color: rgba(255, 255, 255, 0.9);\n  font-size: var(--text-sm);\n}\n\n.hints-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--space-3);\n}\n\n.hints-title {\n  font-size: var(--text-base);\n  font-weight: var(--font-weight-semibold);\n  margin: 0;\n  color: var(--primary-300);\n}\n\n.hints-close {\n  background: none;\n  border: none;\n  color: rgba(255, 255, 255, 0.7);\n  font-size: var(--text-lg);\n  cursor: pointer;\n  padding: var(--space-1);\n  border-radius: var(--rounded);\n}\n\n.hints-close:hover {\n  background: rgba(255, 255, 255, 0.1);\n  color: white;\n}\n\n.hints-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.hint-item {\n  display: flex;\n  align-items: center;\n  gap: var(--space-3);\n  margin-bottom: var(--space-2);\n}\n\n.hint-key {\n  background: var(--bg-tertiary);\n  border: 1px solid var(--border-gray);\n  border-radius: var(--rounded);\n  padding: var(--space-1) var(--space-2);\n  font-family: monospace;\n  font-size: var(--text-xs);\n  min-width: 60px;\n  text-align: center;\n  color: var(--primary-200);\n}\n\n.hint-description {\n  flex: 1;\n  color: rgba(255, 255, 255, 0.8);\n}\n\n/*  */\n.hints-fade-enter-active,\n.hints-fade-leave-active {\n  transition: all var(--duration-300) var(--ease-out);\n}\n\n.hints-fade-enter-from,\n.hints-fade-leave-to {\n  opacity: 0;\n  transform: translateY(-10px) scale(0.95);\n}\n\n/*  */\n.settings-panel {\n  position: fixed;\n  bottom: 20px;\n  left: 20px;\n  z-index: 10001;\n  \n  background: var(--bg-card);\n  border: 1px solid var(--border-primary);\n  border-radius: var(--rounded-lg);\n  padding: var(--space-4);\n  \n  color: rgba(255, 255, 255, 0.9);\n  font-size: var(--text-sm);\n}\n\n.settings-panel h4 {\n  margin: 0 0 var(--space-3) 0;\n  font-size: var(--text-base);\n  color: var(--primary-300);\n}\n\n.settings-panel label {\n  display: block;\n  margin-bottom: var(--space-2);\n}\n\n.settings-panel input {\n  margin-left: var(--space-2);\n}\n\n/*  */\n@media (max-width: 640px) {\n  .keyboard-hints {\n    top: 10px;\n    right: 10px;\n    left: 10px;\n    max-width: none;\n  }\n  \n  .settings-panel {\n    bottom: 10px;\n    left: 10px;\n    right: 10px;\n  }\n}\n\n/*  */\n@media (prefers-reduced-motion: reduce) {\n  .hints-fade-enter-active,\n  .hints-fade-leave-active {\n    transition: opacity var(--duration-200) linear;\n  }\n  \n  .hints-fade-enter-from,\n  .hints-fade-leave-to {\n    transform: none;\n  }\n}\n</style>","<script setup lang=\"ts\">\nimport { computed, onErrorCaptured, ref } from 'vue'\nimport type { ComponentPublicInstance } from 'vue'\n\ninterface Props {\n  fallback?: 'minimal' | 'detailed' | 'custom'\n  onError?: (error: Error, instance: ComponentPublicInstance | null, info: string) => void\n  canRecover?: boolean\n  recoveryMessage?: string\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  fallback: 'detailed',\n  canRecover: true,\n  recoveryMessage: ''\n})\n\n// \nconst isDev = import.meta.env.DEV\n\nconst emit = defineEmits<{\n  error: [error: Error, info: string]\n  recover: []\n}>()\n\nconst hasError = ref(false)\nconst error = ref<Error | null>(null)\nconst errorInfo = ref<string>('')\nconst errorCount = ref(0)\nconst isRecovering = ref(false)\n\n// \nconst errorSeverity = computed(() => {\n  if (!error.value) return 'low'\n  \n  const message = error.value.message.toLowerCase()\n  if (message.includes('cannot read') || message.includes('undefined')) {\n    return 'high'\n  }\n  if (message.includes('network') || message.includes('fetch')) {\n    return 'medium'\n  }\n  return 'low'\n})\n\n// \nconst userFriendlyMessage = computed(() => {\n  if (!error.value) return ''\n  \n  const message = error.value.message\n  \n  // \n  if (message.includes('dynamically imported module') || message.includes('Failed to fetch')) {\n    return ''\n  }\n  if (message.includes('Network') || message.includes('fetch')) {\n    return ''\n  }\n  if (message.includes('Cannot read') || message.includes('Cannot access')) {\n    return ''\n  }\n  if (message.includes('undefined') || message.includes('null')) {\n    return ''\n  }\n  if (message.includes('timeout')) {\n    return ''\n  }\n  if (message.includes('Permission denied') || message.includes('CORS')) {\n    return ''\n  }\n  \n  return ''\n})\n\n// \nonErrorCaptured((err: Error, instance: ComponentPublicInstance | null, info: string) => {\n  console.error('[ErrorBoundary] Caught error:', err)\n  console.error('[ErrorBoundary] Error info:', info)\n  console.error('[ErrorBoundary] Component instance:', instance)\n  \n  hasError.value = true\n  error.value = err\n  errorInfo.value = info\n  errorCount.value++\n  \n  // \n  if (props.onError) {\n    props.onError(err, instance, info)\n  }\n  \n  // \n  emit('error', err, info)\n  \n  // \n  return false\n})\n\n// \nconst tryRecover = async () => {\n  isRecovering.value = true\n  \n  try {\n    // \n    hasError.value = false\n    error.value = null\n    errorInfo.value = ''\n    \n    // \n    emit('recover')\n    \n    // \n    await new Promise(resolve => setTimeout(resolve, 100))\n  } catch (e) {\n    console.error('[ErrorBoundary] Recovery failed:', e)\n    hasError.value = true\n  } finally {\n    isRecovering.value = false\n  }\n}\n\n// \nconst reloadPage = () => {\n  window.location.reload()\n}\n\n// \nconst copyErrorDetails = async () => {\n  if (!error.value) return\n  \n  const details = `\n: ${error.value.message}\n: ${error.value.stack || 'N/A'}\n: ${errorInfo.value}\n: ${new Date().toISOString()}\n: ${navigator.userAgent}\n  `.trim()\n  \n  try {\n    await navigator.clipboard.writeText(details)\n    alert('')\n  } catch (e) {\n    console.error('Failed to copy error details:', e)\n  }\n}\n\n// \nconst sendErrorReport = () => {\n  if (!error.value) return\n  \n  // \n  const event = new CustomEvent('app:send-error-report', {\n    detail: {\n      error: error.value,\n      info: errorInfo.value,\n      component: 'ErrorBoundary'\n    }\n  })\n  window.dispatchEvent(event)\n  \n  alert('')\n}\n</script>\n\n<template>\n  <div v-if=\"hasError\" class=\"error-boundary\" :data-severity=\"errorSeverity\">\n    <!--  -->\n    <div v-if=\"fallback === 'minimal'\" class=\"error-minimal\">\n      <p class=\"error-message\"></p>\n      <button class=\"error-action-btn\" @click=\"reloadPage\">\n        \n      </button>\n    </div>\n    \n    <!--  -->\n    <div v-else-if=\"fallback === 'detailed'\" class=\"error-detailed\">\n      <div class=\"error-icon\" aria-hidden=\"true\">\n        <svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n          <circle cx=\"12\" cy=\"12\" r=\"10\" stroke-width=\"2\"/>\n          <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\" stroke-width=\"2\"/>\n          <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\" stroke-width=\"2\"/>\n        </svg>\n      </div>\n      \n      <h2 class=\"error-title\"></h2>\n      <p class=\"error-user-message\">{{ userFriendlyMessage }}</p>\n      \n      <div class=\"error-actions\">\n        <button \n          v-if=\"canRecover && !isRecovering\" \n          class=\"error-action-btn primary\"\n          :disabled=\"errorCount > 3\"\n          @click=\"tryRecover\"\n        >\n          {{ errorCount > 3 ? '' : '' }}\n        </button>\n        \n        <button \n          class=\"error-action-btn secondary\" \n          @click=\"reloadPage\"\n        >\n          \n        </button>\n      </div>\n      \n      <!--  -->\n      <details v-if=\"isDev\" class=\"error-details\">\n        <summary></summary>\n        <div class=\"error-technical\">\n          <p><strong>:</strong> {{ error?.message }}</p>\n          <p><strong>:</strong> {{ errorInfo }}</p>\n          <p><strong>:</strong> {{ errorCount }}</p>\n          <pre v-if=\"error?.stack\" class=\"error-stack\">{{ error.stack }}</pre>\n          \n          <div class=\"error-dev-actions\">\n            <button class=\"error-action-btn small\" @click=\"copyErrorDetails\">\n              \n            </button>\n            <button class=\"error-action-btn small\" @click=\"sendErrorReport\">\n              \n            </button>\n          </div>\n        </div>\n      </details>\n    </div>\n    \n    <!--  -->\n    <div v-else-if=\"fallback === 'custom'\" class=\"error-custom\">\n      <slot name=\"error\" :error=\"error\" :retry=\"tryRecover\" :reload=\"reloadPage\" />\n    </div>\n  </div>\n  \n  <!--  -->\n  <slot v-else />\n</template>\n\n<style scoped>\n.error-boundary {\n  min-height: 200px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: var(--space-xl);\n  background: rgba(239, 68, 68, 0.05);\n  border: 1px solid rgba(239, 68, 68, 0.2);\n  border-radius: 12px;\n  margin: var(--space-md);\n}\n\n.error-boundary[data-severity=\"high\"] {\n  background: rgba(239, 68, 68, 0.1);\n  border-color: rgba(239, 68, 68, 0.4);\n}\n\n.error-boundary[data-severity=\"medium\"] {\n  background: rgba(245, 158, 11, 0.05);\n  border-color: rgba(245, 158, 11, 0.2);\n}\n\n/*  */\n.error-minimal {\n  text-align: center;\n}\n\n.error-message {\n  margin-bottom: var(--space-md);\n  color: rgba(239, 68, 68, 1);\n  font-weight: 500;\n}\n\n/*  */\n.error-detailed {\n  text-align: center;\n  max-width: 600px;\n  width: 100%;\n}\n\n.error-icon {\n  color: rgba(239, 68, 68, 0.8);\n  margin-bottom: var(--space-lg);\n}\n\n.error-title {\n  font-size: var(--text-2xl);\n  font-weight: 700;\n  color: rgba(239, 68, 68, 1);\n  margin-bottom: var(--space-sm);\n}\n\n.error-user-message {\n  font-size: var(--text-lg);\n  color: rgba(255, 255, 255, 0.8);\n  margin-bottom: var(--space-xl);\n}\n\n.error-actions {\n  display: flex;\n  gap: var(--space-md);\n  justify-content: center;\n  flex-wrap: wrap;\n}\n\n.error-action-btn {\n  padding: var(--space-sm) var(--space-lg);\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: var(--text-base);\n  cursor: pointer;\n  transition: all var(--transition-fast);\n  min-width: 140px;\n  min-height: var(--touch-target-min, 44px); /*  */\n}\n\n.error-action-btn.primary {\n  background: rgba(239, 68, 68, 0.9);\n  color: white;\n}\n\n.error-action-btn.primary:hover:not(:disabled) {\n  background: rgba(220, 38, 38, 1);\n  transform: translateY(-2px);\n}\n\n.error-action-btn.secondary {\n  background: rgba(255, 255, 255, 0.1);\n  color: white;\n  border: 1px solid rgba(239, 68, 68, 0.5);\n}\n\n.error-action-btn.secondary:hover {\n  background: rgba(255, 255, 255, 0.2);\n  border-color: rgba(239, 68, 68, 0.8);\n}\n\n.error-action-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.error-action-btn.small {\n  padding: var(--space-xs) var(--space-sm);\n  font-size: var(--text-sm);\n  min-width: auto;\n}\n\n/*  */\n.error-details {\n  margin-top: var(--space-xl);\n  text-align: left;\n  width: 100%;\n}\n\n.error-details summary {\n  cursor: pointer;\n  padding: var(--space-sm);\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 6px;\n  font-weight: 500;\n  color: rgba(255, 255, 255, 0.7);\n  transition: background var(--transition-fast);\n}\n\n.error-details summary:hover {\n  background: rgba(0, 0, 0, 0.3);\n}\n\n.error-technical {\n  margin-top: var(--space-md);\n  padding: var(--space-md);\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 6px;\n  font-size: var(--text-sm);\n}\n\n.error-technical p {\n  margin-bottom: var(--space-sm);\n  color: rgba(255, 255, 255, 0.8);\n}\n\n.error-technical strong {\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.error-stack {\n  margin-top: var(--space-md);\n  padding: var(--space-sm);\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 4px;\n  overflow-x: auto;\n  font-family: monospace;\n  font-size: var(--text-xs);\n  line-height: 1.6;\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.error-dev-actions {\n  margin-top: var(--space-md);\n  display: flex;\n  gap: var(--space-sm);\n}\n\n/*  */\n.error-custom {\n  width: 100%;\n}\n\n/*  */\n@media (max-width: 640px) {\n  .error-boundary {\n    padding: var(--space-md);\n    margin: var(--space-sm);\n  }\n  \n  .error-actions {\n    flex-direction: column;\n    width: 100%;\n  }\n  \n  .error-action-btn {\n    width: 100%;\n  }\n  \n  .error-icon svg {\n    width: 48px;\n    height: 48px;\n  }\n  \n  .error-title {\n    font-size: var(--text-xl);\n  }\n  \n  .error-user-message {\n    font-size: var(--text-base);\n  }\n}\n\n/*  */\n@keyframes pulse {\n  0% { opacity: 1; }\n  50% { opacity: 0.6; }\n  100% { opacity: 1; }\n}\n\n.error-boundary[data-severity=\"high\"] .error-icon {\n  animation: pulse 2s infinite;\n}\n\n/*  */\n@media (prefers-reduced-motion: reduce) {\n  .error-boundary .error-icon {\n    animation: none;\n  }\n  \n  .error-action-btn {\n    transition: none;\n  }\n}\n\n/*  */\n@media (prefers-contrast: high) {\n  .error-boundary {\n    border-width: 2px;\n  }\n  \n  .error-action-btn {\n    border: 2px solid currentColor;\n  }\n}\n</style>","/**\n * \n * \n */\n\nimport type { ErrorInfo } from './ErrorHandler'\n\nexport interface UserMessage {\n  title: string\n  description: string\n  actionLabel?: string\n  actionType?: 'reload' | 'retry' | 'contact' | 'close' | 'navigate'\n  actionData?: Record<string, any>\n  icon?: string\n  severity: 'info' | 'warning' | 'error' | 'critical'\n  showDetails?: boolean\n  helpUrl?: string\n}\n\nexport interface MessagePattern {\n  id: string\n  pattern: RegExp | string\n  message: UserMessage\n  conditions?: {\n    category?: ErrorInfo['category'][]\n    severity?: ErrorInfo['severity'][]\n    context?: (errorInfo: ErrorInfo) => boolean\n  }\n}\n\nexport class UserFriendlyMessages {\n  private readonly patterns: MessagePattern[] = []\n  private readonly fallbackMessages: Map<ErrorInfo['category'], UserMessage> = new Map()\n\n  constructor() {\n    this.initializeDefaultPatterns()\n    this.initializeFallbackMessages()\n  }\n\n  /**\n   * \n   */\n  private initializeDefaultPatterns(): void {\n    // \n    this.patterns.push({\n      id: 'network-offline',\n      pattern: /network|offline|connection/i,\n      message: {\n        title: '',\n        description: '',\n        actionLabel: '',\n        actionType: 'retry',\n        icon: '',\n        severity: 'error',\n        helpUrl: '/help/network-issues'\n      },\n      conditions: {\n        category: ['network']\n      }\n    })\n\n    this.patterns.push({\n      id: 'network-timeout',\n      pattern: /timeout|slow/i,\n      message: {\n        title: '',\n        description: '',\n        actionLabel: '',\n        actionType: 'retry',\n        icon: '',\n        severity: 'warning'\n      },\n      conditions: {\n        category: ['network', 'async']\n      }\n    })\n\n    // \n    this.patterns.push({\n      id: 'game-save-failed',\n      pattern: /save|storage|quota/i,\n      message: {\n        title: '',\n        description: '',\n        actionLabel: '',\n        actionType: 'navigate',\n        actionData: { url: '/settings/storage' },\n        icon: '',\n        severity: 'error',\n        showDetails: true\n      },\n      conditions: {\n        category: ['game', 'system']\n      }\n    })\n\n    this.patterns.push({\n      id: 'game-state-corrupted',\n      pattern: /corrupted|invalid.*state|cannot.*read.*game/i,\n      message: {\n        title: '',\n        description: '',\n        actionLabel: '',\n        actionType: 'navigate',\n        actionData: { url: '/new-game' },\n        icon: '',\n        severity: 'critical',\n        showDetails: true\n      },\n      conditions: {\n        category: ['game'],\n        severity: ['high', 'critical']\n      }\n    })\n\n    // Vue/UI\n    this.patterns.push({\n      id: 'ui-component-error',\n      pattern: /component|render|mount/i,\n      message: {\n        title: '',\n        description: '',\n        actionLabel: '',\n        actionType: 'reload',\n        icon: '',\n        severity: 'warning'\n      },\n      conditions: {\n        category: ['vue']\n      }\n    })\n\n    // \n    this.patterns.push({\n      id: 'performance-memory',\n      pattern: /memory|heap|stack.*overflow/i,\n      message: {\n        title: '',\n        description: '',\n        actionLabel: '',\n        actionType: 'reload',\n        icon: '',\n        severity: 'error',\n        helpUrl: '/help/performance'\n      },\n      conditions: {\n        category: ['performance', 'system']\n      }\n    })\n\n    // \n    this.patterns.push({\n      id: 'security-cors',\n      pattern: /cors|cross.*origin|blocked/i,\n      message: {\n        title: '',\n        description: '',\n        actionLabel: '',\n        actionType: 'contact',\n        icon: '',\n        severity: 'error',\n        helpUrl: '/help/security-issues'\n      },\n      conditions: {\n        category: ['security']\n      }\n    })\n\n    // JavaScript\n    this.patterns.push({\n      id: 'js-undefined',\n      pattern: /undefined|null.*property|cannot.*read/i,\n      message: {\n        title: '',\n        description: '',\n        actionLabel: '',\n        actionType: 'reload',\n        icon: '',\n        severity: 'error',\n        showDetails: true\n      },\n      conditions: {\n        category: ['javascript'],\n        severity: ['high', 'critical']\n      }\n    })\n\n    // \n    this.patterns.push({\n      id: 'resource-load-failed',\n      pattern: /loading|chunk.*error|failed.*fetch.*resource/i,\n      message: {\n        title: '',\n        description: '',\n        actionLabel: '',\n        actionType: 'reload',\n        icon: '',\n        severity: 'warning'\n      },\n      conditions: {\n        category: ['network', 'system']\n      }\n    })\n  }\n\n  /**\n   * \n   */\n  private initializeFallbackMessages(): void {\n    this.fallbackMessages.set('network', {\n      title: '',\n      description: '',\n      actionLabel: '',\n      actionType: 'retry',\n      icon: '',\n      severity: 'error'\n    })\n\n    this.fallbackMessages.set('vue', {\n      title: 'UI ',\n      description: '',\n      actionLabel: '',\n      actionType: 'reload',\n      icon: '',\n      severity: 'warning'\n    })\n\n    this.fallbackMessages.set('javascript', {\n      title: '',\n      description: '',\n      actionLabel: '',\n      actionType: 'reload',\n      icon: '',\n      severity: 'error'\n    })\n\n    this.fallbackMessages.set('game', {\n      title: '',\n      description: '',\n      actionLabel: '',\n      actionType: 'retry',\n      icon: '',\n      severity: 'error'\n    })\n\n    this.fallbackMessages.set('async', {\n      title: '',\n      description: '',\n      actionLabel: '',\n      actionType: 'retry',\n      icon: '',\n      severity: 'warning'\n    })\n\n    this.fallbackMessages.set('performance', {\n      title: '',\n      description: '',\n      actionLabel: '',\n      actionType: 'reload',\n      icon: '',\n      severity: 'warning'\n    })\n\n    this.fallbackMessages.set('security', {\n      title: '',\n      description: '',\n      actionLabel: '',\n      actionType: 'contact',\n      icon: '',\n      severity: 'error'\n    })\n\n    this.fallbackMessages.set('user', {\n      title: '',\n      description: '',\n      actionLabel: '',\n      actionType: 'retry',\n      icon: '',\n      severity: 'info'\n    })\n\n    this.fallbackMessages.set('system', {\n      title: '',\n      description: '',\n      actionLabel: '',\n      actionType: 'reload',\n      icon: '',\n      severity: 'error'\n    })\n  }\n\n  /**\n   * \n   */\n  generateUserMessage(errorInfo: ErrorInfo): UserMessage {\n    // \n    for (const pattern of this.patterns) {\n      if (this.matchesPattern(errorInfo, pattern)) {\n        return this.enrichMessage(pattern.message, errorInfo)\n      }\n    }\n\n    // \n    const fallback = this.fallbackMessages.get(errorInfo.category)\n    if (fallback) {\n      return this.enrichMessage(fallback, errorInfo)\n    }\n\n    // \n    return this.enrichMessage({\n      title: '',\n      description: '',\n      actionLabel: '',\n      actionType: 'reload',\n      icon: '',\n      severity: 'error'\n    }, errorInfo)\n  }\n\n  /**\n   * \n   */\n  private matchesPattern(errorInfo: ErrorInfo, pattern: MessagePattern): boolean {\n    // \n    const messageMatch = pattern.pattern instanceof RegExp\n      ? pattern.pattern.test(errorInfo.message)\n      : errorInfo.message.toLowerCase().includes(pattern.pattern.toLowerCase())\n\n    if (!messageMatch) {\n      return false\n    }\n\n    // \n    if (pattern.conditions) {\n      const { category, severity, context } = pattern.conditions\n\n      if (category && !category.includes(errorInfo.category)) {\n        return false\n      }\n\n      if (severity && !severity.includes(errorInfo.severity)) {\n        return false\n      }\n\n      if (context && !context(errorInfo)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  /**\n   * \n   */\n  private enrichMessage(message: UserMessage, errorInfo: ErrorInfo): UserMessage {\n    const timeString = new Date(errorInfo.timestamp).toLocaleTimeString()\n    \n    return {\n      ...message,\n      description: `${message.description}${errorInfo.context?.deviceInfo?.isMobile ? ' ()' : ''}`,\n      actionData: {\n        ...message.actionData,\n        timestamp: errorInfo.timestamp,\n        errorId: errorInfo.fingerprint,\n        component: errorInfo.component\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  addPattern(pattern: MessagePattern): void {\n    // \n    const exists = this.patterns.some(p => p.id === pattern.id)\n    if (exists) {\n      console.warn(`Pattern with id \"${pattern.id}\" already exists`)\n      return\n    }\n\n    this.patterns.unshift(pattern) // \n  }\n\n  /**\n   * \n   */\n  removePattern(id: string): boolean {\n    const index = this.patterns.findIndex(p => p.id === id)\n    if (index !== -1) {\n      this.patterns.splice(index, 1)\n      return true\n    }\n    return false\n  }\n\n  /**\n   * \n   */\n  getPatterns(): MessagePattern[] {\n    return [...this.patterns]\n  }\n\n  /**\n   * \n   */\n  previewMessage(errorMessage: string, category: ErrorInfo['category'], severity: ErrorInfo['severity'] = 'medium'): UserMessage {\n    const mockError: ErrorInfo = {\n      message: errorMessage,\n      category,\n      severity,\n      timestamp: Date.now(),\n      userAgent: navigator.userAgent\n    }\n\n    return this.generateUserMessage(mockError)\n  }\n\n  /**\n   * \n   */\n  getStats() {\n    return {\n      patternsCount: this.patterns.length,\n      categoriesCount: this.fallbackMessages.size,\n      patterns: this.patterns.map(p => ({\n        id: p.id,\n        hasConditions: Boolean(p.conditions)\n      }))\n    }\n  }\n}\n\n// \nexport const userFriendlyMessages = new UserFriendlyMessages()","<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\nimport type { ErrorInfo } from '@/utils/error-handling/ErrorHandler'\nimport { userFriendlyMessages, type UserMessage } from '@/utils/error-handling/UserFriendlyMessages'\n\ninterface ErrorNotification {\n  id: string\n  userMessage: UserMessage\n  originalError: ErrorInfo\n  timestamp: number\n  autoHide?: boolean\n  hideDelay?: number\n  isExpanded?: boolean\n}\n\nconst notifications = ref<ErrorNotification[]>([])\nconst maxNotifications = 3\nconst defaultHideDelay = 5000\n\n// \nconst addNotification = (notification: Omit<ErrorNotification, 'id' | 'timestamp'>) => {\n  const id = `${Date.now()}-${Math.random()}`\n  const newNotification: ErrorNotification = {\n    ...notification,\n    id,\n    timestamp: Date.now(),\n    autoHide: notification.autoHide ?? notification.userMessage.severity !== 'critical',\n    hideDelay: notification.hideDelay ?? defaultHideDelay,\n    isExpanded: false\n  }\n\n  notifications.value.unshift(newNotification)\n\n  // \n  if (notifications.value.length > maxNotifications) {\n    notifications.value = notifications.value.slice(0, maxNotifications)\n  }\n\n  // \n  if (newNotification.autoHide) {\n    setTimeout(() => {\n      removeNotification(id)\n    }, newNotification.hideDelay)\n  }\n}\n\n// \nconst removeNotification = (id: string) => {\n  const index = notifications.value.findIndex(n => n.id === id)\n  if (index !== -1) {\n    notifications.value.splice(index, 1)\n  }\n}\n\n// \nconst clearAll = () => {\n  notifications.value = []\n}\n\n// \nconst handleError = (event: CustomEvent) => {\n  const errorInfo: ErrorInfo = event.detail\n  \n  // \n  if (notifications.value.some(n => n.originalError.fingerprint === errorInfo.fingerprint)) {\n    return\n  }\n\n  // \n  const userMessage = userFriendlyMessages.generateUserMessage(errorInfo)\n\n  addNotification({\n    userMessage,\n    originalError: errorInfo\n  })\n}\n\n// \nconst getIcon = (userMessage: UserMessage) => {\n  return userMessage.icon || getDefaultIcon(userMessage.severity)\n}\n\nconst getDefaultIcon = (severity: UserMessage['severity']) => {\n  switch (severity) {\n    case 'critical':\n      return ''\n    case 'error':\n      return ''\n    case 'warning':\n      return ''\n    case 'info':\n      return ''\n  }\n}\n\n// \nconst getColorClass = (severity: UserMessage['severity']) => {\n  switch (severity) {\n    case 'critical':\n      return 'notification-critical'\n    case 'error':\n      return 'notification-error'\n    case 'warning':\n      return 'notification-warning'\n    case 'info':\n      return 'notification-info'\n  }\n}\n\n// \nconst executeAction = (notification: ErrorNotification) => {\n  const { actionType, actionData } = notification.userMessage\n  \n  switch (actionType) {\n    case 'reload':\n      window.location.reload()\n      break\n    case 'retry':\n      // \n      const retryEvent = new CustomEvent('app:retry-action', {\n        detail: { errorId: actionData?.errorId, component: actionData?.component }\n      })\n      window.dispatchEvent(retryEvent)\n      removeNotification(notification.id)\n      break\n    case 'navigate':\n      if (actionData?.url) {\n        window.location.href = actionData.url\n      }\n      break\n    case 'contact':\n      // \n      const contactEvent = new CustomEvent('app:open-support', {\n        detail: { errorInfo: notification.originalError }\n      })\n      window.dispatchEvent(contactEvent)\n      break\n    case 'close':\n    default:\n      removeNotification(notification.id)\n      break\n  }\n}\n\n// /\nconst toggleDetails = (id: string) => {\n  const notification = notifications.value.find(n => n.id === id)\n  if (notification) {\n    notification.isExpanded = !notification.isExpanded\n  }\n}\n\n// URL\nconst openHelp = (helpUrl: string) => {\n  window.open(helpUrl, '_blank', 'noopener,noreferrer')\n}\n\n// \nconst visibleNotifications = computed(() => \n  notifications.value.map((notification, index) => ({\n    ...notification,\n    offset: index * (notification.isExpanded ? 120 : 80),\n    opacity: index < 3 ? 1 : 0.5\n  }))\n)\n\nonMounted(() => {\n  window.addEventListener('app:error', handleError as EventListener)\n  \n  // \n  window.addEventListener('app:system-alert', (event: CustomEvent) => {\n    const { message } = event.detail\n    addNotification({\n      userMessage: {\n        title: '',\n        description: message,\n        actionLabel: '',\n        actionType: 'reload',\n        icon: '',\n        severity: 'critical',\n        showDetails: false\n      },\n      originalError: {\n        message,\n        category: 'system',\n        severity: 'critical',\n        timestamp: Date.now(),\n        userAgent: navigator.userAgent\n      },\n      autoHide: false\n    })\n  })\n})\n\nonUnmounted(() => {\n  window.removeEventListener('app:error', handleError as EventListener)\n  window.removeEventListener('app:system-alert', () => {})\n})\n\n// \ndefineExpose({\n  addNotification,\n  removeNotification,\n  clearAll,\n  executeAction,\n  toggleDetails\n})\n</script>\n\n<template>\n  <Teleport to=\"body\">\n    <div class=\"error-notification-container\" role=\"alert\" aria-live=\"polite\">\n      <TransitionGroup name=\"notification\" tag=\"div\">\n        <div\n          v-for=\"(notification, index) in visibleNotifications\"\n          :key=\"notification.id\"\n          :class=\"['error-notification', getColorClass(notification.userMessage.severity), { 'expanded': notification.isExpanded }]\"\n          :style=\"{\n            transform: `translateY(${notification.offset}px)`,\n            opacity: notification.opacity,\n            zIndex: 1000 - index\n          }\"\n          role=\"alertdialog\"\n          :aria-label=\"`${notification.userMessage.severity}: ${notification.userMessage.title}`\"\n        >\n          <div class=\"notification-content\">\n            <span class=\"notification-icon\" aria-hidden=\"true\">\n              {{ getIcon(notification.userMessage) }}\n            </span>\n            \n            <div class=\"notification-body\">\n              <h4 class=\"notification-title\">{{ notification.userMessage.title }}</h4>\n              <p class=\"notification-description\">{{ notification.userMessage.description }}</p>\n              \n              <!--  -->\n              <div v-if=\"notification.userMessage.actionLabel\" class=\"notification-actions\">\n                <button\n                  class=\"notification-action-btn primary\"\n                  @click=\"executeAction(notification)\"\n                >\n                  {{ notification.userMessage.actionLabel }}\n                </button>\n                \n                <!--  -->\n                <button\n                  v-if=\"notification.userMessage.helpUrl\"\n                  class=\"notification-action-btn secondary small\"\n                  @click=\"openHelp(notification.userMessage.helpUrl!)\"\n                >\n                  \n                </button>\n                \n                <!--  -->\n                <button\n                  v-if=\"notification.userMessage.showDetails\"\n                  class=\"notification-action-btn secondary small\"\n                  @click=\"toggleDetails(notification.id)\"\n                >\n                  {{ notification.isExpanded ? '' : '' }}\n                </button>\n              </div>\n              \n              <!--  -->\n              <div v-if=\"notification.isExpanded && notification.userMessage.showDetails\" class=\"notification-details\">\n                <div class=\"detail-section\">\n                  <strong>:</strong>\n                  <code>{{ notification.originalError.message }}</code>\n                </div>\n                \n                <div v-if=\"notification.originalError.component\" class=\"detail-section\">\n                  <strong>:</strong>\n                  <code>{{ notification.originalError.component }}</code>\n                </div>\n                \n                <div class=\"detail-section\">\n                  <strong>:</strong>\n                  <span class=\"detail-tag\">{{ notification.originalError.category }}</span>\n                  <strong>:</strong>\n                  <span class=\"detail-tag\">{{ notification.originalError.severity }}</span>\n                </div>\n                \n                <div v-if=\"notification.originalError.context?.route\" class=\"detail-section\">\n                  <strong>:</strong>\n                  <code>{{ notification.originalError.context.route }}</code>\n                </div>\n                \n                <div class=\"detail-section\">\n                  <strong>:</strong>\n                  {{ new Date(notification.originalError.timestamp).toLocaleString() }}\n                </div>\n              </div>\n            </div>\n            \n            <button\n              class=\"notification-close\"\n              :aria-label=\"`: ${notification.userMessage.title}`\"\n              @click=\"removeNotification(notification.id)\"\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" stroke-width=\"2\"/>\n                <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" stroke-width=\"2\"/>\n              </svg>\n            </button>\n          </div>\n          \n          <!--  -->\n          <div\n            v-if=\"notification.autoHide\"\n            class=\"notification-progress\"\n            :style=\"{\n              animationDuration: `${notification.hideDelay}ms`\n            }\"\n          />\n        </div>\n      </TransitionGroup>\n    </div>\n  </Teleport>\n</template>\n\n<style scoped>\n.error-notification-container {\n  position: fixed;\n  top: var(--space-md);\n  right: var(--space-md);\n  z-index: var(--z-notification);\n  pointer-events: none;\n}\n\n.error-notification {\n  position: absolute;\n  top: 0;\n  right: 0;\n  min-width: 320px;\n  max-width: 420px;\n  background: rgba(17, 24, 39, 0.95);\n  border-radius: 12px;\n  box-shadow: \n    0 10px 25px rgba(0, 0, 0, 0.3),\n    0 0 0 1px rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(12px);\n  pointer-events: auto;\n  transition: all 0.3s ease;\n  overflow: hidden;\n}\n\n.notification-content {\n  display: flex;\n  align-items: flex-start;\n  gap: var(--space-sm);\n  padding: var(--space-md);\n}\n\n.notification-icon {\n  font-size: var(--text-xl);\n  flex-shrink: 0;\n  margin-top: 2px;\n}\n\n.notification-body {\n  flex: 1;\n  min-width: 0;\n}\n\n.notification-title {\n  color: rgba(255, 255, 255, 0.95);\n  font-size: var(--text-base);\n  font-weight: 600;\n  line-height: 1.4;\n  margin: 0 0 var(--space-xs) 0;\n}\n\n.notification-description {\n  color: rgba(255, 255, 255, 0.8);\n  font-size: var(--text-sm);\n  line-height: 1.5;\n  margin: 0;\n  word-wrap: break-word;\n}\n\n.notification-actions {\n  margin-top: var(--space-sm);\n  display: flex;\n  gap: var(--space-xs);\n}\n\n.notification-action-btn {\n  padding: var(--space-xs) var(--space-sm);\n  background: rgba(255, 255, 255, 0.1);\n  color: white;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 6px;\n  font-size: var(--text-sm);\n  font-weight: 500;\n  cursor: pointer;\n  transition: all var(--transition-fast);\n}\n\n.notification-action-btn.primary {\n  background: rgba(59, 130, 246, 0.8);\n  border-color: rgba(59, 130, 246, 1);\n}\n\n.notification-action-btn.primary:hover {\n  background: rgba(59, 130, 246, 1);\n  transform: translateY(-1px);\n}\n\n.notification-action-btn.secondary {\n  background: rgba(255, 255, 255, 0.05);\n  border-color: rgba(255, 255, 255, 0.3);\n}\n\n.notification-action-btn.secondary:hover {\n  background: rgba(255, 255, 255, 0.15);\n  border-color: rgba(255, 255, 255, 0.5);\n}\n\n.notification-action-btn.small {\n  padding: var(--space-2xs) var(--space-xs);\n  font-size: var(--text-xs);\n}\n\n.notification-action-btn:hover {\n  background: rgba(255, 255, 255, 0.2);\n  border-color: rgba(255, 255, 255, 0.4);\n}\n\n.notification-close {\n  position: absolute;\n  top: var(--space-sm);\n  right: var(--space-sm);\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: transparent;\n  border: none;\n  color: rgba(255, 255, 255, 0.5);\n  cursor: pointer;\n  border-radius: 4px;\n  transition: all var(--transition-fast);\n  padding: 0;\n}\n\n.notification-close:hover {\n  background: rgba(255, 255, 255, 0.1);\n  color: rgba(255, 255, 255, 0.8);\n}\n\n/*  */\n.notification-details {\n  margin-top: var(--space-sm);\n  padding: var(--space-sm);\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 6px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.detail-section {\n  margin-bottom: var(--space-xs);\n  font-size: var(--text-xs);\n}\n\n.detail-section:last-child {\n  margin-bottom: 0;\n}\n\n.detail-section strong {\n  color: rgba(255, 255, 255, 0.9);\n  font-weight: 600;\n  margin-right: var(--space-xs);\n}\n\n.detail-section code {\n  background: rgba(0, 0, 0, 0.5);\n  padding: 2px var(--space-xs);\n  border-radius: 3px;\n  font-family: monospace;\n  font-size: var(--text-2xs);\n  color: rgba(255, 255, 255, 0.8);\n}\n\n.detail-tag {\n  display: inline-block;\n  background: rgba(59, 130, 246, 0.2);\n  color: rgba(59, 130, 246, 1);\n  padding: 1px var(--space-xs);\n  border-radius: 3px;\n  font-size: var(--text-2xs);\n  font-weight: 500;\n  margin-right: var(--space-xs);\n}\n\n/*  */\n.error-notification.expanded {\n  min-height: 120px;\n}\n\n/*  */\n.notification-progress {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 3px;\n  background: currentColor;\n  animation: progress linear forwards;\n  transform-origin: left;\n}\n\n@keyframes progress {\n  from {\n    transform: scaleX(1);\n  }\n  to {\n    transform: scaleX(0);\n  }\n}\n\n/*  */\n.notification-critical {\n  border-left: 4px solid rgba(239, 68, 68, 1);\n  animation: pulse-critical 2s infinite;\n}\n\n.notification-critical .notification-icon {\n  color: rgba(239, 68, 68, 1);\n}\n\n.notification-critical .notification-progress {\n  color: rgba(239, 68, 68, 0.6);\n}\n\n.notification-error {\n  border-left: 4px solid rgba(245, 158, 11, 1);\n}\n\n.notification-error .notification-icon {\n  color: rgba(245, 158, 11, 1);\n}\n\n.notification-error .notification-progress {\n  color: rgba(245, 158, 11, 0.6);\n}\n\n.notification-warning {\n  border-left: 4px solid rgba(59, 130, 246, 1);\n}\n\n.notification-warning .notification-icon {\n  color: rgba(59, 130, 246, 1);\n}\n\n.notification-warning .notification-progress {\n  color: rgba(59, 130, 246, 0.6);\n}\n\n.notification-info {\n  border-left: 4px solid rgba(156, 163, 175, 1);\n}\n\n.notification-info .notification-icon {\n  color: rgba(156, 163, 175, 1);\n}\n\n.notification-info .notification-progress {\n  color: rgba(156, 163, 175, 0.6);\n}\n\n@keyframes pulse-critical {\n  0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.3); }\n  70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }\n  100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }\n}\n\n/*  */\n.notification-enter-active,\n.notification-leave-active {\n  transition: all 0.3s ease;\n}\n\n.notification-enter-from {\n  transform: translateX(100%) !important;\n  opacity: 0 !important;\n}\n\n.notification-leave-to {\n  transform: translateX(100%) !important;\n  opacity: 0 !important;\n}\n\n/*  */\n@media (max-width: 640px) {\n  .error-notification-container {\n    top: var(--space-sm);\n    right: var(--space-sm);\n    left: var(--space-sm);\n  }\n  \n  .error-notification {\n    position: relative;\n    transform: none !important;\n    max-width: 100%;\n    margin-bottom: var(--space-sm);\n  }\n  \n  .notification-content {\n    padding: var(--space-sm);\n  }\n  \n  .notification-title {\n    font-size: var(--text-sm);\n  }\n  \n  .notification-description {\n    font-size: var(--text-xs);\n  }\n  \n  .notification-actions {\n    flex-direction: column;\n    gap: var(--space-xs);\n  }\n  \n  .notification-action-btn {\n    width: 100%;\n  }\n}\n\n/*  */\n@media (prefers-reduced-motion: reduce) {\n  .error-notification,\n  .notification-action-btn,\n  .notification-close {\n    transition: none;\n  }\n  \n  .notification-progress {\n    animation: none;\n    display: none;\n  }\n}\n\n/*  */\n@media (prefers-contrast: high) {\n  .error-notification {\n    border: 2px solid currentColor;\n  }\n  \n  .notification-action-btn {\n    border-width: 2px;\n  }\n}\n\n/*  */\n</style>","/**\n * \n * \n * OWASP Top 10 \n */\n\n/**\n * XSS\n * HTML\n */\nexport function sanitizeInput(input: string): string {\n  if (typeof input !== 'string') {\n    throw new Error('')\n  }\n  \n  return input\n    // XSS: HTML\n    .replace(/<[^>]*>/g, '') // HTML\n    .replace(/javascript:/gi, '') // JavaScript\n    .replace(/on\\w+\\s*=/gi, '') // \n    .replace(/[<>\"'&]/g, (match) => {\n      const htmlEntities: Record<string, string> = {\n        '<': '&lt;',\n        '>': '&gt;',\n        '\"': '&quot;',\n        \"'\": '&#x27;',\n        '&': '&amp;'\n      }\n      return htmlEntities[match] || match\n    })\n    // eslint-disable-next-line no-control-regex\n    .replace(/[\\u0002-\\u001F\\u007F-\\u009F]/g, '') // \n    .trim()\n    .slice(0, 1000) // \n}\n\n/**\n * \n */\nexport function validateNumber(\n  value: unknown,\n  min: number,\n  max: number,\n  allowFloat = false\n): number | null {\n  const num = Number(value)\n  \n  if (isNaN(num)) {\n    return null\n  }\n  \n  if (!allowFloat && !Number.isInteger(num)) {\n    return null\n  }\n  \n  if (num < min || num > max) {\n    return null\n  }\n  \n  return num\n}\n\n/**\n * \n */\nexport function validateArrayLength<T>(\n  array: T[],\n  minLength: number,\n  maxLength: number\n): boolean {\n  return array.length >= minLength && array.length <= maxLength\n}\n\n/**\n * \n */\nexport class RateLimiter {\n  private readonly attempts = new Map<string, number[]>()\n  \n  /**\n   * \n   */\n  isAllowed(key: string, maxAttempts: number, windowMs: number): boolean {\n    const now = Date.now()\n    const userAttempts = this.attempts.get(key) || []\n    \n    // \n    const validAttempts = userAttempts.filter(time => now - time < windowMs)\n    \n    if (validAttempts.length >= maxAttempts) {\n      return false\n    }\n    \n    validAttempts.push(now)\n    this.attempts.set(key, validAttempts)\n    return true\n  }\n  \n  /**\n   * \n   */\n  reset(key: string): void {\n    this.attempts.delete(key)\n  }\n  \n  /**\n   * \n   */\n  clear(): void {\n    this.attempts.clear()\n  }\n\n  /**\n   * \n   */\n  getRemainingAttempts(key: string, maxAttempts: number, windowMs: number): number {\n    const now = Date.now()\n    const userAttempts = this.attempts.get(key) || []\n    const validAttempts = userAttempts.filter(time => now - time < windowMs)\n    return Math.max(0, maxAttempts - validAttempts.length)\n  }\n\n  /**\n   * \n   */\n  getNextAttemptTime(key: string, windowMs: number): number {\n    const userAttempts = this.attempts.get(key) || []\n    if (userAttempts.length === 0) return Date.now()\n    const oldestAttempt = Math.min(...userAttempts)\n    return oldestAttempt + windowMs\n  }\n\n  /**\n   * \n   */\n  cleanup(): void {\n    const now = Date.now()\n    for (const [key, attempts] of this.attempts.entries()) {\n      // 24\n      const validAttempts = attempts.filter(time => now - time < 24 * 60 * 60 * 1000)\n      if (validAttempts.length === 0) {\n        this.attempts.delete(key)\n      } else {\n        this.attempts.set(key, validAttempts)\n      }\n    }\n  }\n}\n\n/**\n * \n * CSRFID\n */\nexport function generateSecureRandomString(length: number): string {\n  if (length <= 0 || length > 256) {\n    throw new Error('1256')\n  }\n  \n  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  const array = new Uint8Array(length)\n  \n  if (typeof window !== 'undefined' && window.crypto && window.crypto.getRandomValues) {\n    window.crypto.getRandomValues(array)\n  } else {\n    // \n    console.warn(' : crypto.getRandomValues ')\n    for (let i = 0; i < length; i++) {\n      array[i] = Math.floor(Math.random() * 256)\n    }\n  }\n  \n  return Array.from(array, byte => chars[byte % chars.length]).join('')\n}\n\n/**\n * CSRF \n */\nexport function generateCSRFToken(): string {\n  return generateSecureRandomString(32)\n}\n\n/**\n * \n */\nexport async function generateSecureHash(data: string): Promise<string> {\n  if (typeof window !== 'undefined' && window.crypto && window.crypto.subtle) {\n    const encoder = new TextEncoder()\n    const dataBuffer = encoder.encode(data)\n    const hashBuffer = await window.crypto.subtle.digest('SHA-256', dataBuffer)\n    const hashArray = Array.from(new Uint8Array(hashBuffer))\n    return hashArray.map(b => b.toString(16).padStart(2, '0')).join('')\n  } \n    // : \n    console.warn(' : crypto.subtle ')\n    let hash = 0\n    for (let i = 0; i < data.length; i++) {\n      const char = data.charCodeAt(i)\n      hash = ((hash << 5) - hash) + char\n      hash = hash & hash // 32bit\n    }\n    return Math.abs(hash).toString(16)\n  \n}\n\n/**\n *  localStorage\n * \n */\nexport function secureLocalStorage() {\n  const ENCRYPTION_KEY_PREFIX = 'game_enc_'\n  const INTEGRITY_SUFFIX = '_integrity'\n  \n  return {\n    async setItem(key: string, value: unknown, encrypt = false): Promise<void> {\n      try {\n        const sanitizedKey = sanitizeInput(key)\n        let serialized = JSON.stringify(value)\n        \n        if (encrypt) {\n          //  Web Crypto API\n          const encryptionKey = await this.getOrCreateEncryptionKey()\n          serialized = await this.simpleEncrypt(serialized, encryptionKey)\n        }\n        \n        // \n        const integrityHash = await generateSecureHash(serialized)\n        \n        localStorage.setItem(sanitizedKey, serialized)\n        localStorage.setItem(sanitizedKey + INTEGRITY_SUFFIX, integrityHash)\n        \n      } catch (error) {\n        console.error(' :', error)\n        throw new Error(`: ${error instanceof Error ? error.message : String(error)}`)\n      }\n    },\n    \n    async getItem<T>(key: string, decrypt = false): Promise<T | null> {\n      try {\n        const sanitizedKey = sanitizeInput(key)\n        const item = localStorage.getItem(sanitizedKey)\n        const integrityHash = localStorage.getItem(sanitizedKey + INTEGRITY_SUFFIX)\n        \n        if (!item) return null\n        \n        // \n        if (integrityHash) {\n          const currentHash = await generateSecureHash(item)\n          if (currentHash !== integrityHash) {\n            console.error(' :', sanitizedKey)\n            this.removeItem(sanitizedKey) // \n            throw new Error('')\n          }\n        }\n        \n        let data = item\n        if (decrypt) {\n          const encryptionKey = await this.getOrCreateEncryptionKey()\n          try {\n            data = await this.simpleDecrypt(data, encryptionKey)\n          } catch {\n            // \n            // security_audit_log\n            if (key === 'security_audit_log') {\n              console.debug(' :', sanitizedKey)\n            } else {\n              console.warn(' :', sanitizedKey)\n            }\n            this.removeItem(sanitizedKey)\n            return null\n          }\n        }\n        \n        return JSON.parse(data)\n      } catch (error) {\n        console.error(' :', error)\n        // JSON\n        if (error instanceof SyntaxError) {\n          const sanitizedKey = sanitizeInput(key)\n          this.removeItem(sanitizedKey)\n        }\n        return null\n      }\n    },\n    \n    removeItem(key: string): void {\n      try {\n        const sanitizedKey = sanitizeInput(key)\n        localStorage.removeItem(sanitizedKey)\n        localStorage.removeItem(sanitizedKey + INTEGRITY_SUFFIX)\n      } catch (error) {\n        console.error(' :', error)\n      }\n    },\n    \n    async getOrCreateEncryptionKey(): Promise<string> {\n      const keyName = `${ENCRYPTION_KEY_PREFIX  }master`\n      let key = localStorage.getItem(keyName)\n      \n      if (!key) {\n        key = generateSecureRandomString(32)\n        localStorage.setItem(keyName, key)\n      }\n      \n      return key\n    },\n    \n    async simpleEncrypt(data: string, key: string): Promise<string> {\n      // : Web Crypto API\n      const result = []\n      for (let i = 0; i < data.length; i++) {\n        const keyChar = key.charCodeAt(i % key.length)\n        const dataChar = data.charCodeAt(i)\n        result.push(String.fromCharCode(dataChar ^ keyChar))\n      }\n      return btoa(result.join(''))\n    },\n    \n    async simpleDecrypt(encryptedData: string, key: string): Promise<string> {\n      try {\n        // \n        if (!encryptedData || encryptedData.trim() === '') {\n          throw new Error('')\n        }\n        \n        const data = atob(encryptedData)\n        const result = []\n        for (let i = 0; i < data.length; i++) {\n          const keyChar = key.charCodeAt(i % key.length)\n          const dataChar = data.charCodeAt(i)\n          result.push(String.fromCharCode(dataChar ^ keyChar))\n        }\n        return result.join('')\n      } catch (error) {\n        const message = error instanceof Error ? error.message : ''\n        throw new Error(`: ${message}`)\n      }\n    }\n  }\n}\n\n/**\n * \n */\nexport function getSecurityIncidents(): any[] {\n  try {\n    return JSON.parse(localStorage.getItem('security_incidents') || '[]')\n  } catch {\n    return []\n  }\n}\n\n/**\n * \n */\nexport function clearSecurityIncidents(): void {\n  localStorage.removeItem('security_incidents')\n}\n\n/**\n * \n */\nexport async function validateAllStoredData(): Promise<{ valid: number; invalid: number; details: string[] }> {\n  const storage = secureLocalStorage()\n  const results = { valid: 0, invalid: 0, details: [] as string[] }\n  \n  // localStorage\n  for (let i = 0; i < localStorage.length; i++) {\n    const key = localStorage.key(i)\n    if (!key || key.includes('_integrity') || key.includes('_version') || key.includes('_timestamp')) {\n      continue // \n    }\n    \n    try {\n      await storage.getItem(key)\n      results.valid++\n    } catch (error) {\n      results.invalid++\n      results.details.push(`${key}: ${error instanceof Error ? error.message : String(error)}`)\n    }\n  }\n  \n  return results\n}","/**\n * \n * WCAG 2.1 AA\n */\n\nimport { sanitizeInput } from '@/utils/security'\n\nexport interface FocusableElement {\n  element: HTMLElement\n  priority: number\n  group?: string\n  onFocus?: () => void\n  onBlur?: () => void\n  onActivate?: () => void\n}\n\nexport interface KeyboardShortcut {\n  key: string\n  modifiers?: ('ctrl' | 'alt' | 'shift' | 'meta')[]\n  description: string\n  action: () => void\n  global?: boolean\n}\n\nexport class KeyboardManager {\n  private focusableElements: FocusableElement[] = []\n  private currentFocusIndex: number = -1\n  private readonly shortcuts: Map<string, KeyboardShortcut> = new Map()\n  private isActive: boolean = true\n  private focusVisibleEnabled: boolean = true\n\n  constructor() {\n    this.setupEventListeners()\n    this.setupFocusVisible()\n  }\n\n  /**\n   * \n   */\n  registerFocusableElement(element: HTMLElement, options: Partial<FocusableElement> = {}): void {\n    const focusableElement: FocusableElement = {\n      element,\n      priority: options.priority || 0,\n      group: options.group,\n      onFocus: options.onFocus,\n      onBlur: options.onBlur,\n      onActivate: options.onActivate\n    }\n\n    // \n    const existingIndex = this.focusableElements.findIndex(el => el.element === element)\n    if (existingIndex >= 0) {\n      this.focusableElements[existingIndex] = focusableElement\n    } else {\n      this.focusableElements.push(focusableElement)\n    }\n\n    // \n    this.focusableElements.sort((a, b) => b.priority - a.priority)\n\n    // ARIA\n    this.setupElementAccessibility(element)\n  }\n\n  /**\n   * \n   */\n  unregisterFocusableElement(element: HTMLElement): void {\n    const index = this.focusableElements.findIndex(el => el.element === element)\n    if (index >= 0) {\n      this.focusableElements.splice(index, 1)\n      \n      // \n      if (this.currentFocusIndex >= index) {\n        this.currentFocusIndex = Math.max(0, this.currentFocusIndex - 1)\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  registerShortcut(shortcut: KeyboardShortcut): void {\n    const key = this.createShortcutKey(shortcut.key, shortcut.modifiers || [])\n    this.shortcuts.set(key, shortcut)\n  }\n\n  /**\n   * \n   */\n  unregisterShortcut(key: string, modifiers: ('ctrl' | 'alt' | 'shift' | 'meta')[] = []): void {\n    const shortcutKey = this.createShortcutKey(key, modifiers)\n    this.shortcuts.delete(shortcutKey)\n  }\n\n  /**\n   * \n   */\n  focusNext(): void {\n    if (this.focusableElements.length === 0) return\n\n    this.currentFocusIndex = (this.currentFocusIndex + 1) % this.focusableElements.length\n    this.setFocus(this.currentFocusIndex)\n  }\n\n  /**\n   * \n   */\n  focusPrevious(): void {\n    if (this.focusableElements.length === 0) return\n\n    this.currentFocusIndex = this.currentFocusIndex <= 0 \n      ? this.focusableElements.length - 1 \n      : this.currentFocusIndex - 1\n    this.setFocus(this.currentFocusIndex)\n  }\n\n  /**\n   * \n   */\n  focusGroup(groupName: string): void {\n    const groupElements = this.focusableElements.filter(el => el.group === groupName)\n    if (groupElements.length > 0) {\n      const index = this.focusableElements.indexOf(groupElements[0])\n      if (index >= 0) {\n        this.currentFocusIndex = index\n        this.setFocus(index)\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  focusElement(element: HTMLElement): void {\n    const index = this.focusableElements.findIndex(el => el.element === element)\n    if (index >= 0) {\n      this.currentFocusIndex = index\n      this.setFocus(index)\n    }\n  }\n\n  /**\n   * \n   */\n  getCurrentFocusedElement(): HTMLElement | null {\n    if (this.currentFocusIndex >= 0 && this.currentFocusIndex < this.focusableElements.length) {\n      return this.focusableElements[this.currentFocusIndex].element\n    }\n    return null\n  }\n\n  /**\n   * \n   */\n  startFocusTrap(container: HTMLElement): void {\n    const focusableInContainer = this.focusableElements.filter(el => \n      container.contains(el.element)\n    )\n    \n    if (focusableInContainer.length > 0) {\n      // \n      this.focusableElements.forEach(el => {\n        if (!container.contains(el.element)) {\n          el.element.setAttribute('tabindex', '-1')\n          el.element.setAttribute('aria-hidden', 'true')\n        }\n      })\n      \n      // \n      this.focusElement(focusableInContainer[0].element)\n    }\n  }\n\n  /**\n   * \n   */\n  endFocusTrap(): void {\n    // \n    this.focusableElements.forEach(el => {\n      el.element.removeAttribute('tabindex')\n      el.element.removeAttribute('aria-hidden')\n    })\n  }\n\n  /**\n   * /\n   */\n  toggleHelp(): void {\n    const helpPanel = this.createHelpPanel()\n    document.body.appendChild(helpPanel)\n    \n    // ESC\n    const closeHelp = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        helpPanel.remove()\n        document.removeEventListener('keydown', closeHelp)\n      }\n    }\n    document.addEventListener('keydown', closeHelp)\n    \n    // \n    const closeButton = helpPanel.querySelector('button')\n    if (closeButton) {\n      closeButton.focus()\n    }\n  }\n\n  /**\n   * \n   */\n  createSkipLinks(): HTMLElement {\n    const skipLinks = document.createElement('div')\n    skipLinks.className = 'skip-links'\n    skipLinks.setAttribute('aria-label', '')\n    \n    const skipToMain = this.createSkipLink('', '#main-content')\n    const skipToNav = this.createSkipLink('', '#navigation')\n    const skipToFooter = this.createSkipLink('', '#footer')\n    \n    skipLinks.appendChild(skipToMain)\n    skipLinks.appendChild(skipToNav)\n    skipLinks.appendChild(skipToFooter)\n    \n    return skipLinks\n  }\n\n  /**\n   * \n   */\n  setActive(active: boolean): void {\n    this.isActive = active\n    \n    if (!active) {\n      // \n      const currentElement = this.getCurrentFocusedElement()\n      if (currentElement) {\n        currentElement.blur()\n      }\n    }\n  }\n\n  /**\n   * /\n   */\n  setFocusVisible(enabled: boolean): void {\n    this.focusVisibleEnabled = enabled\n    document.documentElement.classList.toggle('keyboard-navigation', enabled)\n  }\n\n  private setupEventListeners(): void {\n    document.addEventListener('keydown', this.handleKeyDown.bind(this))\n    document.addEventListener('focusin', this.handleFocusIn.bind(this))\n    document.addEventListener('focusout', this.handleFocusOut.bind(this))\n    \n    // \n    document.addEventListener('mousedown', () => {\n      document.documentElement.classList.remove('keyboard-navigation')\n    })\n  }\n\n  private handleKeyDown(event: KeyboardEvent): void {\n    if (!this.isActive) return\n\n    // \n    const shortcutKey = this.createShortcutKey(event.key, this.getActiveModifiers(event))\n    const shortcut = this.shortcuts.get(shortcutKey)\n    \n    if (shortcut) {\n      event.preventDefault()\n      shortcut.action()\n      return\n    }\n\n    // \n    switch (event.key) {\n      case 'Tab':\n        event.preventDefault()\n        if (event.shiftKey) {\n          this.focusPrevious()\n        } else {\n          this.focusNext()\n        }\n        break\n\n      case 'ArrowDown':\n      case 'ArrowRight':\n        event.preventDefault()\n        this.focusNext()\n        break\n\n      case 'ArrowUp':\n      case 'ArrowLeft':\n        event.preventDefault()\n        this.focusPrevious()\n        break\n\n      case 'Home':\n        event.preventDefault()\n        this.currentFocusIndex = 0\n        this.setFocus(0)\n        break\n\n      case 'End':\n        event.preventDefault()\n        this.currentFocusIndex = this.focusableElements.length - 1\n        this.setFocus(this.currentFocusIndex)\n        break\n\n      case 'Enter':\n      case ' ':\n        const currentElement = this.getCurrentFocusedElement()\n        if (currentElement) {\n          event.preventDefault()\n          const focusableEl = this.focusableElements[this.currentFocusIndex]\n          if (focusableEl.onActivate) {\n            focusableEl.onActivate()\n          } else {\n            currentElement.click()\n          }\n        }\n        break\n\n      case 'F1':\n        event.preventDefault()\n        this.toggleHelp()\n        break\n    }\n  }\n\n  private handleFocusIn(event: FocusEvent): void {\n    if (!this.focusVisibleEnabled) return\n\n    const target = event.target as HTMLElement\n    const index = this.focusableElements.findIndex(el => el.element === target)\n    \n    if (index >= 0) {\n      this.currentFocusIndex = index\n      const focusableEl = this.focusableElements[index]\n      \n      // \n      if (focusableEl.onFocus) {\n        focusableEl.onFocus()\n      }\n      \n      // \n      document.documentElement.classList.add('keyboard-navigation')\n    }\n  }\n\n  private handleFocusOut(event: FocusEvent): void {\n    const target = event.target as HTMLElement\n    const index = this.focusableElements.findIndex(el => el.element === target)\n    \n    if (index >= 0) {\n      const focusableEl = this.focusableElements[index]\n      \n      // \n      if (focusableEl.onBlur) {\n        focusableEl.onBlur()\n      }\n    }\n  }\n\n  private setFocus(index: number): void {\n    if (index < 0 || index >= this.focusableElements.length) return\n\n    const focusableEl = this.focusableElements[index]\n    const element = focusableEl.element\n\n    // \n    if (element.offsetParent === null) {\n      // \n      this.focusNext()\n      return\n    }\n\n    element.focus()\n    \n    // \n    element.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center',\n      inline: 'center'\n    })\n  }\n\n  private setupElementAccessibility(element: HTMLElement): void {\n    // \n    if (!element.hasAttribute('tabindex')) {\n      element.setAttribute('tabindex', '0')\n    }\n\n    // \n    if (!element.hasAttribute('role')) {\n      const tagName = element.tagName.toLowerCase()\n      if (tagName === 'div' || tagName === 'span') {\n        element.setAttribute('role', 'button')\n      }\n    }\n\n    // ARIA-LABEL\n    if (!element.hasAttribute('aria-label') && !element.hasAttribute('aria-labelledby')) {\n      const textContent = element.textContent?.trim()\n      if (textContent) {\n        element.setAttribute('aria-label', textContent)\n      }\n    }\n  }\n\n  private createShortcutKey(key: string, modifiers: string[]): string {\n    const sortedModifiers = modifiers.sort()\n    return `${sortedModifiers.join('+')}+${key.toLowerCase()}`\n  }\n\n  private getActiveModifiers(event: KeyboardEvent): string[] {\n    const modifiers: string[] = []\n    if (event.ctrlKey) modifiers.push('ctrl')\n    if (event.altKey) modifiers.push('alt')\n    if (event.shiftKey) modifiers.push('shift')\n    if (event.metaKey) modifiers.push('meta')\n    return modifiers\n  }\n\n  private createSkipLink(text: string, href: string): HTMLElement {\n    const link = document.createElement('a')\n    link.href = href\n    link.textContent = text\n    link.className = 'skip-link'\n    \n    link.addEventListener('click', (e) => {\n      e.preventDefault()\n      const target = document.querySelector(href)\n      if (target) {\n        (target as HTMLElement).focus()\n      }\n    })\n    \n    return link\n  }\n\n  private createHelpPanel(): HTMLElement {\n    const panel = document.createElement('div')\n    panel.className = 'keyboard-help-panel'\n    panel.setAttribute('role', 'dialog')\n    panel.setAttribute('aria-labelledby', 'help-title')\n    panel.setAttribute('aria-modal', 'true')\n    \n    const shortcuts = Array.from(this.shortcuts.values())\n    \n    // : innerHTML  DOM \n    const helpContent = document.createElement('div')\n    helpContent.className = 'help-content'\n    \n    const title = document.createElement('h2')\n    title.id = 'help-title'\n    title.textContent = ''\n    \n    const shortcutsList = document.createElement('div')\n    shortcutsList.className = 'shortcuts-list'\n    \n    // \n    const basicGroup = document.createElement('div')\n    basicGroup.className = 'shortcut-group'\n    \n    const basicTitle = document.createElement('h3')\n    basicTitle.textContent = ''\n    \n    const basicDl = document.createElement('dl')\n    const basicShortcuts = [\n      { key: 'Tab / Shift+Tab', desc: '/' },\n      { key: '', desc: '' },\n      { key: 'Enter / Space', desc: '/' },\n      { key: 'Home / End', desc: '/' }\n    ]\n    \n    basicShortcuts.forEach(({ key, desc }) => {\n      const dt = document.createElement('dt')\n      dt.textContent = key\n      const dd = document.createElement('dd')\n      dd.textContent = desc\n      basicDl.appendChild(dt)\n      basicDl.appendChild(dd)\n    })\n    \n    basicGroup.appendChild(basicTitle)\n    basicGroup.appendChild(basicDl)\n    shortcutsList.appendChild(basicGroup)\n    \n    // \n    if (shortcuts.length > 0) {\n      const gameGroup = document.createElement('div')\n      gameGroup.className = 'shortcut-group'\n      \n      const gameTitle = document.createElement('h3')\n      gameTitle.textContent = ''\n      \n      const gameDl = document.createElement('dl')\n      shortcuts.forEach(shortcut => {\n        const dt = document.createElement('dt')\n        dt.textContent = sanitizeInput(this.formatShortcut(shortcut))\n        const dd = document.createElement('dd')\n        dd.textContent = sanitizeInput(shortcut.description)\n        gameDl.appendChild(dt)\n        gameDl.appendChild(dd)\n      })\n      \n      gameGroup.appendChild(gameTitle)\n      gameGroup.appendChild(gameDl)\n      shortcutsList.appendChild(gameGroup)\n    }\n    \n    const closeButton = document.createElement('button')\n    closeButton.type = 'button'\n    closeButton.textContent = ' (Esc)'\n    closeButton.onclick = () => { panel.remove(); }\n    \n    helpContent.appendChild(title)\n    helpContent.appendChild(shortcutsList)\n    helpContent.appendChild(closeButton)\n    \n    panel.appendChild(helpContent)\n    \n    return panel\n  }\n\n  private formatShortcut(shortcut: KeyboardShortcut): string {\n    const modifiers = shortcut.modifiers || []\n    const parts = [...modifiers.map(m => m.charAt(0).toUpperCase() + m.slice(1)), shortcut.key]\n    return parts.join(' + ')\n  }\n\n  private setupFocusVisible(): void {\n    // CSS\n    const style = document.createElement('style')\n    style.textContent = `\n      .keyboard-navigation *:focus {\n        outline: 2px solid #818CF8;\n        outline-offset: 2px;\n        border-radius: 4px;\n      }\n      \n      .skip-links {\n        position: absolute;\n        top: -40px;\n        left: 6px;\n        z-index: 1000;\n      }\n      \n      .skip-link {\n        position: absolute;\n        left: -10000px;\n        top: auto;\n        width: 1px;\n        height: 1px;\n        overflow: hidden;\n        background: #000;\n        color: #fff;\n        padding: 8px 16px;\n        text-decoration: none;\n        border-radius: 4px;\n      }\n      \n      .skip-link:focus {\n        position: static;\n        width: auto;\n        height: auto;\n        left: auto;\n        top: auto;\n      }\n      \n      .keyboard-help-panel {\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        background: rgba(0, 0, 0, 0.95);\n        color: white;\n        padding: 2rem;\n        border-radius: 12px;\n        max-width: 500px;\n        max-height: 80vh;\n        overflow-y: auto;\n        z-index: 10000;\n      }\n      \n      .help-content h2 {\n        margin-top: 0;\n        color: #818CF8;\n      }\n      \n      .shortcuts-list dt {\n        font-weight: bold;\n        color: #FFD43B;\n        margin-top: 0.5rem;\n      }\n      \n      .shortcuts-list dd {\n        margin-left: 1rem;\n        margin-bottom: 0.5rem;\n      }\n      \n      .help-content button {\n        margin-top: 1rem;\n        padding: 0.5rem 1rem;\n        background: #818CF8;\n        color: white;\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n      }\n    `\n    document.head.appendChild(style)\n  }\n\n  /**\n   * \n   */\n  destroy(): void {\n    this.focusableElements = []\n    this.shortcuts.clear()\n    document.removeEventListener('keydown', this.handleKeyDown.bind(this))\n    document.removeEventListener('focusin', this.handleFocusIn.bind(this))\n    document.removeEventListener('focusout', this.handleFocusOut.bind(this))\n  }\n}","<template>\n  <header class=\"app-header\">\n    <div class=\"hero-section\">\n      <div class=\"hero-background\">\n        <div class=\"hero-orb hero-orb-1\"></div>\n        <div class=\"hero-orb hero-orb-2\"></div>\n        <div class=\"hero-orb hero-orb-3\"></div>\n      </div>\n      <div class=\"hero-content\">\n        <div class=\"brand-logo pulse\">\n          <div class=\"logo-glow\"></div>\n          <span class=\"logo-icon\"></span>\n        </div>\n        <h1 class=\"hero-title bounce-in\" style=\"animation-delay: 0.2s;\">\n          \n        </h1>\n        <p class=\"hero-subtitle bounce-in\" style=\"animation-delay: 0.4s;\">\n          Life Fulfillment - \n        </p>\n        <div class=\"hero-accent bounce-in\" style=\"animation-delay: 0.6s;\">\n          <span class=\"accent-icon\"></span>\n          <span class=\"accent-text\"></span>\n          <span class=\"accent-icon\"></span>\n        </div>\n        <div class=\"hero-stats bounce-in\" style=\"animation-delay: 0.8s;\">\n          <div class=\"stat-item\">\n            <span class=\"stat-value\">100+</span>\n            <span class=\"stat-label\"></span>\n          </div>\n          <div class=\"stat-divider\"></div>\n          <div class=\"stat-item\">\n            <span class=\"stat-value\">7</span>\n            <span class=\"stat-label\"></span>\n          </div>\n          <div class=\"stat-divider\"></div>\n          <div class=\"stat-item\">\n            <span class=\"stat-value\"></span>\n            <span class=\"stat-label\"></span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </header>\n</template>\n\n<script setup lang=\"ts\">\n// \n// \n</script>\n\n<style scoped>\n/* ===========================================\n   \n   ========================================= */\n\n.app-header {\n  text-align: center;\n  padding: var(--space-2xl) 0;\n  position: relative;\n  overflow: hidden;\n}\n\n.hero-section {\n  width: 100%;\n  max-width: 900px;\n  margin: 0 auto;\n  position: relative;\n}\n\n/*  */\n.hero-background {\n  position: absolute;\n  inset: -50%;\n  pointer-events: none;\n  opacity: 0.15;\n}\n\n.hero-orb {\n  position: absolute;\n  border-radius: 50%;\n  filter: blur(60px);\n  animation: float 20s infinite ease-in-out;\n}\n\n.hero-orb-1 {\n  width: 400px;\n  height: 400px;\n  background: var(--brand-gradient-primary);\n  top: -20%;\n  left: -10%;\n  animation-delay: 0s;\n}\n\n.hero-orb-2 {\n  width: 300px;\n  height: 300px;\n  background: var(--brand-gradient-soft);\n  bottom: -20%;\n  right: -10%;\n  animation-delay: 7s;\n}\n\n.hero-orb-3 {\n  width: 250px;\n  height: 250px;\n  background: var(--vitality-high);\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  animation-delay: 14s;\n}\n\n@keyframes float {\n  0%, 100% {\n    transform: translate(0, 0) scale(1);\n  }\n  33% {\n    transform: translate(30px, -30px) scale(1.1);\n  }\n  66% {\n    transform: translate(-20px, 20px) scale(0.9);\n  }\n}\n\n.hero-content {\n  position: relative;\n  z-index: 1;\n}\n\n.brand-logo {\n  display: inline-block;\n  margin-bottom: var(--space-lg);\n  position: relative;\n}\n\n.logo-icon {\n  font-size: 4rem;\n  line-height: 1;\n  display: block;\n  filter: drop-shadow(0 4px 20px rgba(129, 140, 248, 0.4));\n  position: relative;\n  z-index: 2;\n}\n\n.logo-glow {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100px;\n  height: 100px;\n  background: radial-gradient(circle, rgba(129, 140, 248, 0.4) 0%, transparent 70%);\n  filter: blur(20px);\n  animation: glow-pulse 3s ease-in-out infinite;\n}\n\n@keyframes glow-pulse {\n  0%, 100% {\n    transform: translate(-50%, -50%) scale(1);\n    opacity: 0.4;\n  }\n  50% {\n    transform: translate(-50%, -50%) scale(1.3);\n    opacity: 0.6;\n  }\n}\n\n.hero-title {\n  font-size: clamp(2.5rem, 6vw, 4.5rem);\n  font-weight: 800;\n  margin-bottom: var(--space-md);\n  \n  background: var(--brand-gradient-hero);\n  background-clip: text;\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-size: 200% 200%;\n  animation: gradient-shift 8s ease-in-out infinite;\n  \n  filter: drop-shadow(0 4px 20px rgba(102, 126, 234, 0.3));\n  line-height: 1.1;\n  letter-spacing: -0.02em;\n}\n\n@keyframes gradient-shift {\n  0%, 100% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n}\n\n.hero-subtitle {\n  font-size: clamp(1rem, 3vw, 1.375rem);\n  color: rgba(209, 213, 219, 0.9);\n  margin-bottom: var(--space-xl);\n  max-width: 600px;\n  margin-left: auto;\n  margin-right: auto;\n  line-height: 1.6;\n  font-weight: var(--font-weight-medium);\n  letter-spacing: 0.01em;\n}\n\n.hero-accent {\n  font-size: clamp(0.9rem, 2.5vw, 1.15rem);\n  color: rgba(129, 140, 248, 0.9);\n  font-weight: 600;\n  display: inline-flex;\n  align-items: center;\n  gap: var(--space-sm);\n  padding: var(--space-sm) var(--space-lg);\n  background: rgba(129, 140, 248, 0.1);\n  border: 1px solid rgba(129, 140, 248, 0.2);\n  border-radius: 9999px;\n  backdrop-filter: blur(10px);\n  margin-bottom: var(--space-xl);\n}\n\n.accent-icon {\n  font-size: 1.2em;\n  filter: brightness(1.2);\n}\n\n.accent-text {\n  letter-spacing: 0.02em;\n}\n\n/*  */\n.hero-stats {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--space-xl);\n  margin-top: var(--space-2xl);\n}\n\n.stat-item {\n  text-align: center;\n}\n\n.stat-value {\n  display: block;\n  font-size: clamp(1.75rem, 4vw, 2.5rem);\n  font-weight: var(--font-weight-bold);\n  background: var(--brand-gradient-soft);\n  background-clip: text;\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  margin-bottom: var(--space-xs);\n}\n\n.stat-label {\n  display: block;\n  font-size: clamp(0.75rem, 2vw, 0.875rem);\n  color: rgba(156, 163, 175, 0.8);\n  font-weight: var(--font-weight-medium);\n  letter-spacing: 0.05em;\n  text-transform: uppercase;\n}\n\n.stat-divider {\n  width: 1px;\n  height: 40px;\n  background: linear-gradient(to bottom, transparent, rgba(129, 140, 248, 0.3), transparent);\n}\n\n/*  */\n@keyframes pulse {\n  0%, 100% { transform: scale(1); }\n  50% { transform: scale(1.05); }\n}\n\n@keyframes bounce-in {\n  0% {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(-10px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.pulse {\n  animation: pulse 2s ease-in-out infinite;\n}\n\n.bounce-in {\n  animation: bounce-in 0.8s ease-out forwards;\n  opacity: 0;\n}\n\n/*  */\n@media (prefers-reduced-motion: reduce) {\n  .pulse,\n  .bounce-in {\n    animation: none;\n    opacity: 1;\n    transform: none;\n  }\n}\n\n/*  */\n@media (max-width: 640px) {\n  .app-header {\n    padding: var(--space-xl) 0;\n  }\n  \n  .logo-icon {\n    font-size: 3rem;\n  }\n  \n  .logo-glow {\n    width: 80px;\n    height: 80px;\n  }\n  \n  .hero-stats {\n    gap: var(--space-lg);\n    margin-top: var(--space-xl);\n  }\n  \n  .stat-divider {\n    height: 30px;\n  }\n  \n  .hero-orb {\n    filter: blur(40px);\n  }\n  \n  .hero-orb-1 {\n    width: 250px;\n    height: 250px;\n  }\n  \n  .hero-orb-2 {\n    width: 200px;\n    height: 200px;\n  }\n  \n  .hero-orb-3 {\n    width: 150px;\n    height: 150px;\n  }\n}\n\n@media (max-width: 375px) {\n  .hero-title {\n    font-size: 2rem;\n    line-height: 1.2;\n  }\n  \n  .hero-subtitle {\n    font-size: var(--text-base);\n    line-height: 1.5;\n  }\n}\n</style>","<template>\n  <section id=\"navigation\" class=\"action-section\" role=\"navigation\" aria-label=\"\">\n    <div class=\"button-group\">\n      <button\n        ref=\"gameButtonRef\"\n        class=\"btn btn-primary ripple-container glow-on-hover bounce-in\"\n        aria-label=\" (Alt+G)\"\n        :aria-keyshortcuts=\"'Alt+G'\"\n        aria-describedby=\"game-description\"\n        @click=\"$emit('start-game')\"\n      >\n        <span class=\"btn-bg-effect\"></span>\n        <span class=\"btn-icon\" aria-hidden=\"true\"></span>\n        <span class=\"btn-text\"></span>\n        <span class=\"btn-arrow\" aria-hidden=\"true\"></span>\n      </button>\n      \n      <button\n        ref=\"tutorialButtonRef\"\n        class=\"btn btn-secondary ripple-container\"\n        aria-label=\" (Alt+T)\"\n        :aria-keyshortcuts=\"'Alt+T'\"\n        aria-describedby=\"tutorial-description\"\n        @click=\"$emit('start-tutorial')\"\n      >\n        <span class=\"btn-bg-effect\"></span>\n        <span class=\"btn-icon\" aria-hidden=\"true\"></span>\n        <span class=\"btn-text\"></span>\n      </button>\n      \n\n    </div>\n    \n    <!--  -->\n    <div class=\"sr-only\">\n      <div id=\"game-description\"></div>\n      <div id=\"tutorial-description\"></div>\n    </div>\n  </section>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue'\n\n// \ndefineEmits<{\n  'start-game': []\n  'start-tutorial': []\n}>()\n\n// \nconst gameButtonRef = ref<HTMLButtonElement>()\nconst tutorialButtonRef = ref<HTMLButtonElement>()\n\n// \ndefineExpose({\n  gameButtonRef,\n  tutorialButtonRef\n})\n</script>\n\n<style scoped>\n/* ===========================================\n   \n   ========================================= */\n\n.action-section {\n  display: flex;\n  justify-content: center;\n  margin-bottom: var(--space-2xl);\n}\n\n.button-group {\n  display: flex;\n  gap: var(--space-lg);\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n/*  */\n.btn {\n  display: flex;\n  align-items: center;\n  gap: var(--space-sm);\n  \n  min-width: 200px;\n  min-height: var(--touch-target-comfortable);\n  padding: var(--space-md) var(--space-xl);\n  \n  border: none;\n  border-radius: 16px;\n  \n  font-family: Inter, system-ui, sans-serif;\n  font-size: var(--text-lg);\n  font-weight: 600;\n  text-decoration: none;\n  \n  transition: all var(--transition-normal);\n  cursor: pointer;\n  \n  box-shadow: var(--shadow-card);\n  backdrop-filter: blur(8px);\n  position: relative;\n  overflow: hidden;\n  isolation: isolate;\n}\n\n/*  */\n.btn-bg-effect {\n  position: absolute;\n  inset: 0;\n  background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(255, 255, 255, 0.1) 0%, transparent 70%);\n  opacity: 0;\n  transition: opacity var(--transition-normal);\n  z-index: -1;\n}\n\n.btn:hover .btn-bg-effect {\n  opacity: 1;\n}\n\n/*  */\n.btn-primary {\n  background: var(--brand-gradient-primary);\n  color: white;\n  position: relative;\n}\n\n.btn-primary::before {\n  content: '';\n  position: absolute;\n  inset: -2px;\n  background: var(--brand-gradient-hero);\n  border-radius: inherit;\n  opacity: 0;\n  z-index: -1;\n  transition: opacity var(--transition-normal);\n  filter: blur(10px);\n}\n\n.btn-primary:hover {\n  transform: translateY(-4px) scale(1.02);\n  box-shadow: \n    0 10px 20px rgba(0, 0, 0, 0.2),\n    0 15px 40px rgba(129, 140, 248, 0.4),\n    inset 0 1px 0 rgba(255, 255, 255, 0.2);\n}\n\n.btn-primary:hover::before {\n  opacity: 0.5;\n}\n\n.btn-primary .btn-arrow {\n  margin-left: auto;\n  font-size: 1.2em;\n  transition: transform var(--transition-normal);\n}\n\n.btn-primary:hover .btn-arrow {\n  transform: translateX(4px);\n}\n\n/*  */\n.btn-secondary {\n  background: rgba(255, 255, 255, 0.05);\n  color: rgba(255, 255, 255, 0.9);\n  border: 1.5px solid rgba(129, 140, 248, 0.3);\n  position: relative;\n}\n\n.btn-secondary::after {\n  content: '';\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(135deg, transparent 0%, rgba(129, 140, 248, 0.1) 100%);\n  opacity: 0;\n  transition: opacity var(--transition-normal);\n  border-radius: inherit;\n}\n\n.btn-secondary:hover {\n  background: rgba(129, 140, 248, 0.15);\n  border-color: rgba(129, 140, 248, 0.6);\n  transform: translateY(-2px) scale(1.01);\n  box-shadow: \n    0 8px 16px rgba(0, 0, 0, 0.1),\n    0 8px 25px rgba(129, 140, 248, 0.2),\n    inset 0 1px 0 rgba(255, 255, 255, 0.1);\n}\n\n.btn-secondary:hover::after {\n  opacity: 1;\n}\n\n/*  */\n.btn:active {\n  transform: translateY(0);\n}\n\n/*  */\n.btn-icon {\n  font-size: var(--text-xl);\n  line-height: 1;\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));\n  transition: transform var(--transition-normal);\n}\n\n.btn:hover .btn-icon {\n  transform: scale(1.1) rotate(-5deg);\n}\n\n.btn-text {\n  font-weight: 600;\n  letter-spacing: 0.02em;\n}\n\n/*  */\n.ripple-container {\n  position: relative;\n  overflow: hidden;\n}\n\n.ripple-container::after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.3);\n  transform: translate(-50%, -50%);\n  transition: width 0.6s, height 0.6s;\n}\n\n.ripple-container:active::after {\n  width: 300px;\n  height: 300px;\n}\n\n/*  */\n.glow-on-hover {\n  position: relative;\n}\n\n.glow-on-hover::after {\n  content: '';\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  padding: 2px;\n  background: linear-gradient(135deg, var(--primary-400), var(--secondary-400));\n  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);\n  -webkit-mask-composite: xor;\n  mask-composite: exclude;\n  opacity: 0;\n  transition: opacity var(--transition-normal);\n}\n\n.glow-on-hover:hover::after {\n  opacity: 1;\n}\n\n/*  */\n.bounce-in {\n  animation: bounce-in 0.8s ease-out forwards;\n  opacity: 0;\n}\n\n@keyframes bounce-in {\n  0% {\n    opacity: 0;\n    transform: translateY(30px) scale(0.9);\n  }\n  60% {\n    opacity: 1;\n    transform: translateY(-5px) scale(1.02);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n/*  */\n@keyframes pulse-subtle {\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n}\n\n.btn-primary:hover .btn-icon {\n  animation: pulse-subtle 2s infinite;\n}\n\n/*  */\n.btn:focus {\n  outline: 2px solid rgba(129, 140, 248, 0.8);\n  outline-offset: 2px;\n}\n\n/*  */\n@media (max-width: 640px) {\n  .button-group {\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    gap: var(--space-md);\n  }\n  \n  .btn {\n    width: 100%;\n    max-width: 280px;\n    justify-content: center;\n  }\n}\n\n@media (max-width: 375px) {\n  .btn {\n    min-width: 160px;\n    padding: var(--space-sm) var(--space-lg);\n    font-size: var(--text-base);\n  }\n}\n\n/*  */\n@media (prefers-contrast: high) {\n  .btn-primary,\n  .btn-secondary {\n    border: 2px solid white;\n  }\n}\n\n/*  */\n@media (prefers-reduced-motion: reduce) {\n  .btn,\n  .bounce-in {\n    transition: none;\n    animation: none;\n    opacity: 1;\n    transform: none;\n  }\n  \n  .btn:hover {\n    transform: none;\n  }\n  \n  .ripple-container::after {\n    display: none;\n  }\n}\n\n/*  */\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n</style>","import { defineStore } from 'pinia'\nimport { ref, computed, shallowRef } from 'vue'\nimport { Game } from '@/domain/entities/Game'\nimport type { Card } from '@/domain/entities/Card'\nimport type { GameConfig } from '@/domain/types/game.types'\n\nexport const useGameStore = defineStore('game', () => {\n    // State - using shallowRef to avoid deep reactivity on Game instance\n    const game = shallowRef<Game | null>(null)\n    const isInitialized = ref(false)\n    const lastUpdate = ref(Date.now()) // Keep for other computeds if needed\n\n    // Explicit reactive state for UI\n    const handState = ref<Card[]>([])\n    const vitalityState = ref(0)\n    const maxVitalityState = ref(100)\n    const currentStageState = ref<string>('youth')\n    const currentTurnState = ref(0)\n    const currentPhaseState = ref<string>('setup')\n    const currentStatusState = ref<string>('not_started')\n    const currentChallengeState = ref<Card | null>(null)\n    const activeInsurancesState = ref<Card[]>([])\n    const insuranceMarketState = ref<Card[]>([])\n    const scoreState = ref(0)\n    const cardChoicesState = ref<Card[]>([])\n\n    // Tutorial State\n    const isTutorialMode = ref(true)\n    function toggleTutorialMode() {\n        isTutorialMode.value = !isTutorialMode.value\n    }\n\n    // Getters - return the explicit state\n    const vitality = computed(() => vitalityState.value)\n    const maxVitality = computed(() => maxVitalityState.value)\n    const hand = computed(() => handState.value)\n    const currentStage = computed(() => currentStageState.value)\n    const currentTurn = computed(() => currentTurnState.value)\n    const currentPhase = computed(() => currentPhaseState.value)\n    const currentStatus = computed(() => currentStatusState.value)\n    const currentChallenge = computed(() => currentChallengeState.value)\n\n    const insuranceTypeChoices = computed(() => {\n        if (!game.value) return []\n        lastUpdate.value\n        return game.value.insuranceTypeChoices\n    })\n\n    const activeInsurances = computed(() => activeInsurancesState.value)\n    const insuranceMarket = computed(() => insuranceMarketState.value)\n    const score = computed(() => scoreState.value)\n    const cardChoices = computed(() => cardChoicesState.value)\n\n\n    const lastMessage = ref<string>('')\n\n    // Actions\n    function initializeGame(config?: GameConfig) {\n        game.value = new Game(config)\n        isInitialized.value = true\n        triggerUpdate()\n    }\n\n    function startGame() {\n        if (!game.value) return\n        game.value.start()\n        triggerUpdate()\n    }\n\n    async function drawCards(count: number) {\n        console.log('[GameStore] drawCards called', count)\n        if (!game.value) {\n            console.error('[GameStore] Game instance is null')\n            return\n        }\n        await game.value.drawCards(count)\n        console.log('[GameStore] drawCards finished, triggering update')\n        triggerUpdate()\n    }\n\n    function startChallenge(card: Card) {\n        if (!game.value) return\n        game.value.startChallenge(card)\n        triggerUpdate()\n    }\n\n    function startChallengePhase() {\n        if (!game.value) return\n        game.value.startChallengePhase()\n        triggerUpdate()\n    }\n\n    function selectChallengeChoice(card: any) {\n        if (!game.value) return\n        game.value.startChallenge(card as Card)\n        triggerUpdate()\n    }\n\n    function selectDream(card: any) {\n        if (!game.value) return\n        game.value.selectDream(card as Card)\n        triggerUpdate()\n    }\n\n    function buyInsurance(card: any) {\n        if (!game.value) return\n        // Use processor if possible, or direct method\n        game.value.cardManager.buyInsurance(card as Card)\n        // Also apply cost\n        // game.value.applyDamage(card.cost) // Should be part of buy logic? \n        // Processor does this. Let's assume store calls processor or Game method that handles it?\n        // Game.ts doesn't have buyInsurance directly in the Entity, it has CardManager.buyInsurance\n        // GameActionProcessor.ts has BuyInsuranceProcessor which applies cost.\n        // For simplicity and directness in store (bypassing processor validation for now or calling executeAction):\n        // Ideally: game.value.actionProcessor.executeAction('buy_insurance', game.value, card)\n        // But actionProcessor is private in Game (I think).\n        // Let's use direct cardManager + damage for now, or assume this logic is refactored later.\n        // Actually, let's look at GameActionProcessor logic.\n        // Calling cardManager.buyInsurance removes from market and adds to active.\n        if (card.cost > 0) game.value.applyDamage(card.cost)\n        triggerUpdate()\n    }\n\n    function drawChallenge() {\n        if (!game.value) return\n        if (game.value.currentChallenge) return\n\n        console.log('[GameStore] drawChallenge called. Deck size:', game.value.challengeDeck.size())\n\n        const challengeCard = game.value.drawChallengeCard()\n        if (challengeCard) {\n            game.value.startChallenge(challengeCard)\n            triggerUpdate()\n        } else {\n            // Deck is empty, advance stage\n            console.log('[GameStore] Challenge deck empty, advancing stage')\n            game.value.advanceStage()\n\n            if (game.value.status === 'victory') {\n                console.log('[GameStore] Victory!')\n            } else {\n                // Refill deck for new stage\n                game.value.refillChallengeDeck()\n            }\n            triggerUpdate()\n        }\n    }\n\n    function resolveChallenge() {\n        if (!game.value) return\n        const result = game.value.resolveChallenge()\n        lastMessage.value = result.message\n        triggerUpdate()\n        return result\n    }\n\n    function selectInsurance(insuranceType: any) {\n        if (!game.value) return\n        console.log('Selected insurance:', insuranceType)\n        game.value.phase = 'end'\n        triggerUpdate()\n    }\n\n    function endTurn() {\n        if (!game.value) return\n        const result = game.value.nextTurn()\n        if (result.insuranceExpirations) {\n            lastMessage.value = result.insuranceExpirations.message\n        } else {\n            lastMessage.value = `Turn ${game.value.turn} started`\n        }\n        triggerUpdate()\n    }\n\n    function toggleCardSelection(card: Card) {\n        if (!game.value) return\n        game.value.toggleCardSelection(card)\n        triggerUpdate()\n    }\n\n    // Helper to force UI updates since Game entity mutations might not be deep-watched\n    function triggerUpdate() {\n        if (!game.value) return\n\n        lastUpdate.value = Date.now()\n\n        // Sync explicit state\n        handState.value = [...game.value.hand] // Create new array reference\n        vitalityState.value = game.value.vitality\n        maxVitalityState.value = game.value.maxVitality\n        currentStageState.value = game.value.stage\n        currentTurnState.value = game.value.turn\n        currentPhaseState.value = game.value.phase\n        currentStatusState.value = game.value.status\n        currentChallengeState.value = game.value.currentChallenge || null\n\n        // v2 sync\n        activeInsurancesState.value = [...game.value.activeInsurances]\n        insuranceMarketState.value = [...game.value.insuranceMarket]\n        scoreState.value = game.value.score\n        cardChoicesState.value = game.value.cardChoices ? [...game.value.cardChoices] : []\n\n        console.log('[GameStore] State synced. Hand size:', handState.value.length)\n\n        // Expose for testing\n        if (typeof window !== 'undefined') {\n            (window as any)._gameStore = { game: game.value }\n        }\n    }\n\n    return {\n        game,\n        isInitialized,\n        vitality,\n        maxVitality,\n        hand,\n        currentStage,\n        currentTurn,\n        currentPhase,\n        currentStatus,\n        currentChallenge,\n        insuranceTypeChoices,\n        lastMessage,\n        initializeGame,\n        startGame,\n        drawCards,\n        startChallenge,\n        drawChallenge,\n        resolveChallenge,\n        selectInsurance,\n        endTurn,\n        toggleCardSelection,\n        triggerUpdate,\n        // v2\n        activeInsurances,\n        insuranceMarket,\n        score,\n        cardChoices,\n        startChallengePhase,\n        selectChallengeChoice,\n        selectDream,\n        buyInsurance,\n        isTutorialMode,\n        toggleTutorialMode\n    }\n})\n","<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport type { ICard } from '@/domain/types/game.types'\n\nconst props = defineProps<{\n  card: ICard\n  isSelected?: boolean\n  isPlayable?: boolean\n}>()\n\nconst emit = defineEmits<{\n  (e: 'click', card: ICard): void\n}>()\n\nconst cardClasses = computed(() => {\n  return {\n    'border-yellow-400 ring-2 ring-yellow-400': props.isSelected,\n    'cursor-pointer hover:-translate-y-2': props.isPlayable,\n    'opacity-50 cursor-not-allowed': !props.isPlayable,\n    'bg-blue-100 border-blue-300': props.card.type === 'life',\n    'bg-red-100 border-red-300': props.card.type === 'challenge',\n    'bg-green-100 border-green-300': props.card.type === 'insurance',\n    'bg-purple-100 border-purple-300': props.card.type === 'skill',\n    'bg-yellow-100 border-yellow-300': props.card.type === 'dream',\n  }\n})\n\nconst typeLabel = computed(() => {\n  switch (props.card.type) {\n    case 'life': return ''\n    case 'challenge': return ''\n    case 'insurance': return ''\n    case 'skill': return ''\n    case 'dream': return ''\n    default: return props.card.type\n  }\n})\n</script>\n\n<template>\n  <div \n    data-testid=\"card\"\n    class=\"w-48 h-72 rounded-xl border-2 shadow-lg flex flex-col p-4 transition-all duration-200 relative bg-white\"\n    :class=\"cardClasses\"\n    @click=\"emit('click', card)\"\n  >\n    <!-- Header -->\n    <div class=\"flex justify-between items-start mb-2\">\n      <span class=\"text-xs font-bold uppercase tracking-wider opacity-70\">{{ typeLabel }}</span>\n      <div v-if=\"card.cost > 0\" class=\"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold shadow-sm\">\n        {{ card.cost }}\n      </div>\n    </div>\n\n    <!-- Image Placeholder -->\n    <div class=\"w-full h-24 bg-gray-200 rounded-md mb-3 flex items-center justify-center overflow-hidden\">\n      <span class=\"text-4xl opacity-20\">\n        <span v-if=\"card.type === 'life'\"></span>\n        <span v-else-if=\"card.type === 'challenge'\"></span>\n        <span v-else-if=\"card.type === 'insurance'\"></span>\n        <span v-else></span>\n      </span>\n    </div>\n\n    <!-- Content -->\n    <h3 class=\"font-bold text-lg leading-tight mb-1 text-gray-800 min-h-[3.5rem] flex items-center break-words line-clamp-2\">{{ card.name }}</h3>\n    <p class=\"text-xs text-gray-600 flex-grow overflow-y-auto leading-snug break-words pr-1\">{{ card.description }}</p>\n\n    <!-- Footer -->\n    <div class=\"mt-2 pt-2 border-t border-gray-200 flex justify-between items-center\">\n      <div v-if=\"card.power > 0\" class=\"flex items-center text-red-600 font-bold\">\n        <span class=\"mr-1\"></span>\n        <span>{{ card.power }}</span>\n      </div>\n      <div v-if=\"card.coverage\" class=\"flex items-center text-green-600 font-bold ml-auto\">\n        <span class=\"mr-1\"></span>\n        <span>{{ card.coverage }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useGameStore } from '@/stores/gameStore'\nimport CardComponent from './Card.vue'\nimport type { Card } from '@/domain/entities/Card'\n\nconst store = useGameStore()\n\nconst hand = computed(() => {\n  const h = store.hand\n  console.log('[Hand] computed hand updated:', h.length)\n  return h\n})\n\nfunction onCardClick(card: Card) {\n  store.toggleCardSelection(card)\n}\n\nfunction isSelected(card: Card) {\n  return store.game?.selectedCards.includes(card)\n}\n</script>\n\n<template>\n  <div data-testid=\"hand-container\" class=\"fixed bottom-0 left-0 right-0 h-96 flex items-end justify-center pb-4 px-4 pointer-events-none z-30\">\n    <div class=\"flex -space-x-12 hover:space-x-2 transition-all duration-300 pointer-events-auto\">\n      <div \n        v-for=\"(card, index) in hand\" \n        :key=\"card.id\"\n        class=\"transform transition-transform hover:-translate-y-8 hover:z-10 origin-bottom\"\n        :style=\"{ zIndex: index }\"\n      >\n        <CardComponent \n          :card=\"card\" \n          :is-selected=\"isSelected(card)\"\n          :is-playable=\"true\"\n          @click=\"onCardClick\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useGameStore } from '@/stores/gameStore'\nimport CardComponent from './Card.vue'\nimport type { ICard } from '@/domain/types/game.types'\n\nconst store = useGameStore()\n\nconst isOpen = computed(() => store.currentPhase === 'dream_selection')\nconst choices = computed(() => store.cardChoices)\n\nfunction select(card: ICard) {\n  store.selectDream(card)\n}\n</script>\n\n<template>\n  <div v-if=\"isOpen\" class=\"fixed inset-0 bg-slate-900/95 z-50 flex flex-col items-center justify-center p-8 backdrop-blur-sm animate-fade-in\">\n    <div class=\"text-center mb-10 max-w-2xl\">\n      <h2 class=\"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 mb-8\">\n      \n    </h2>\n      <p class=\"text-lg text-slate-300\">\n        \n        \n      </p>\n    </div>\n    \n    <div class=\"flex flex-wrap justify-center gap-8 perspective-1000\">\n      <div \n        v-for=\"(card, index) in choices\" \n        :key=\"card.id\"\n        class=\"transform transition-all duration-300 hover:scale-110 hover:-translate-y-4 hover:shadow-2xl\"\n        :style=\"{ animationDelay: `${index * 100}ms` }\"\n      >\n        <CardComponent \n          :card=\"card\"\n          :isPlayable=\"true\"\n          @click=\"select(card)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.perspective-1000 {\n  perspective: 1000px;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useGameStore } from '@/stores/gameStore'\nimport CardComponent from './Card.vue'\nimport type { ICard } from '@/domain/types/game.types'\n\nconst store = useGameStore()\n\nconst isOpen = computed(() => store.currentPhase === 'challenge_choice')\nconst choices = computed(() => store.cardChoices)\n\nfunction select(card: ICard) {\n  store.selectChallengeChoice(card)\n}\n</script>\n\n<template>\n  <div v-if=\"isOpen\" class=\"fixed inset-0 bg-slate-900/90 z-50 flex flex-col items-center justify-center p-8 backdrop-blur-sm animate-fade-in\">\n    <div class=\"text-center mb-8\">\n      <h2 class=\"text-3xl font-bold text-white mb-2\"></h2>\n      <p class=\"text-slate-300\"></p>\n    </div>\n    \n    <div class=\"flex flex-wrap justify-center gap-8\">\n      <div \n        v-for=\"card in choices\" \n        :key=\"card.id\"\n        class=\"transform transition-all duration-300 hover:scale-105\"\n      >\n        <CardComponent \n          :card=\"card\"\n          :isPlayable=\"true\"\n          @click=\"select(card)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useGameStore } from '@/stores/gameStore'\nimport CardComponent from './Card.vue'\nimport type { ICard } from '@/domain/types/game.types'\n\nconst store = useGameStore()\n\nconst marketCards = computed(() => store.insuranceMarket)\n\nfunction buy(card: ICard) {\n  // Add confirmation or check cost logic here if needed\n  store.buyInsurance(card)\n}\n</script>\n\n<template>\n  <div v-if=\"marketCards.length > 0\" class=\"bg-white/10 p-4 rounded-xl backdrop-blur-md border border-white/20\">\n    <h3 class=\"text-xl font-bold text-white mb-4 flex items-center\">\n      <span> Insurance Market</span>\n      <span class=\"text-xs ml-2 text-slate-300 font-normal\">Protect your future</span>\n    </h3>\n    \n    <div class=\"flex gap-4 overflow-x-auto pb-4 custom-scrollbar\">\n      <div \n        v-for=\"card in marketCards\" \n        :key=\"card.id\"\n        class=\"flex-shrink-0 transform hover:scale-105 transition-transform\"\n      >\n        <CardComponent \n          :card=\"card\"\n          :isPlayable=\"true\"\n          @click=\"buy(card)\"\n        />\n        <div class=\"text-center mt-2\">\n            <span class=\"text-xs bg-slate-800 text-white px-2 py-1 rounded-full\">Cost: {{ card.cost }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.custom-scrollbar::-webkit-scrollbar {\n  height: 8px;\n}\n.custom-scrollbar::-webkit-scrollbar-track {\n  background: rgba(0,0,0,0.1);\n  border-radius: 4px;\n}\n.custom-scrollbar::-webkit-scrollbar-thumb {\n  background: rgba(255,255,255,0.2);\n  border-radius: 4px;\n}\n.custom-scrollbar::-webkit-scrollbar-thumb:hover {\n  background: rgba(255,255,255,0.3);\n}\n</style>\n","<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useGameStore } from '@/stores/gameStore'\n\nconst store = useGameStore()\n\nconst isOpen = computed(() => store.currentStatus === 'game_over' || store.currentStatus === 'victory')\nconst isVictory = computed(() => store.currentStatus === 'victory')\n\nconst title = computed(() => isVictory.value ? '' : '')\nconst titleClass = computed(() => isVictory.value ? 'text-yellow-400' : 'text-red-500')\n\nfunction restart() {\n    window.location.reload() // Simple restart for now\n}\n</script>\n\n<template>\n  <div v-if=\"isOpen\" class=\"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-8 backdrop-blur-md animate-fade-in\">\n    <h2 class=\"text-6xl font-bold mb-8 animate-bounce\" :class=\"titleClass\">{{ title }}</h2>\n    \n    <div class=\"bg-slate-800/80 p-8 rounded-2xl max-w-2xl w-full border border-slate-600 shadow-2xl\">\n        <h3 class=\"text-2xl font-bold text-white mb-6 border-b border-slate-600 pb-2\"></h3>\n        \n        <div class=\"space-y-4 text-lg\">\n            <div class=\"flex justify-between items-center\">\n                <span class=\"text-slate-300\"></span>\n                <span class=\"font-mono text-3xl font-bold text-yellow-400\">{{ store.score }}</span>\n            </div>\n            \n            <div class=\"flex justify-between items-center\">\n                <span class=\"text-slate-400\"></span>\n                <span class=\"font-mono text-white\">{{ store.currentTurn }}</span>\n            </div>\n            \n            <div class=\"flex justify-between items-center\">\n                <span class=\"text-slate-400\"></span>\n                <span class=\"font-mono text-white\">{{ store.vitality }} / {{ store.maxVitality }}</span>\n            </div>\n            \n             <div class=\"flex justify-between items-center\">\n                <span class=\"text-slate-400\"></span>\n                <span class=\"font-mono text-white\">{{ store.game?.challengesCompleted || 0 }}</span>\n            </div>\n        </div>\n        \n        <div class=\"mt-8 p-4 bg-slate-900/50 rounded-lg text-slate-400 text-sm italic text-center\">\n           \"\"\n        </div>\n    </div>\n    \n    <button @click=\"restart\" class=\"mt-12 px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-full text-xl shadow-lg hover:shadow-blue-500/50 hover:scale-105 transition-all\">\n        \n    </button>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { ref, watch } from 'vue'\nimport { useGameStore } from '@/stores/gameStore'\n\nconst store = useGameStore()\nconst visible = ref(false)\nconst currentTopic = ref('')\n\nconst explainedTopics = ref(new Set<string>())\n\nconst explanations: Record<string, { title: string; content: string; icon: string }> = {\n  dream_selection: {\n    title: '',\n    content: '',\n    icon: ''\n  },\n  draw: {\n    title: '',\n    content: '',\n    icon: ''\n  },\n  challenge_phase: { // v2 phase name\n    title: '',\n    content: '1',\n    icon: ''\n  },\n  challenge_resolution: { // logic for resolving\n    title: '',\n    content: '',\n    icon: ''\n  },\n  insurance_phase: {\n    title: '',\n    content: '',\n    icon: ''\n  }\n}\n\n// Watch for phase changes to trigger tutorial\nwatch(() => store.currentPhase, (newPhase) => {\n  if (!store.isTutorialMode) return\n  \n  let topic = ''\n  if (newPhase === 'dream_selection') topic = 'dream_selection'\n  else if (newPhase === 'draw') topic = 'draw'\n  else if (newPhase === 'challenge_choice') topic = 'challenge_phase'\n  else if (newPhase === 'challenge') topic = 'challenge_resolution'\n  else if (newPhase === 'insurance') topic = 'insurance_phase'\n  \n  if (topic && !explainedTopics.value.has(topic)) {\n    currentTopic.value = topic\n    visible.value = true\n  }\n}, { immediate: true })\n\nfunction dismiss() {\n  visible.value = false\n  if (currentTopic.value) {\n    explainedTopics.value.add(currentTopic.value)\n  }\n}\n\nfunction disableTutorial() {\n  store.toggleTutorialMode()\n  visible.value = false\n}\n</script>\n\n<template>\n  <Transition\n    enter-active-class=\"transition duration-300 ease-out\"\n    enter-from-class=\"transform translate-y-4 opacity-0 scale-95\"\n    enter-to-class=\"transform translate-y-0 opacity-100 scale-100\"\n    leave-active-class=\"transition duration-200 ease-in\"\n    leave-from-class=\"transform translate-y-0 opacity-100 scale-100\"\n    leave-to-class=\"transform translate-y-4 opacity-0 scale-95\"\n  >\n    <div \n      v-if=\"visible && store.isTutorialMode && explanations[currentTopic]\" \n      class=\"fixed bottom-8 left-8 z-[1000] max-w-sm w-full\"\n    >\n      <div class=\"relative bg-slate-900/90 backdrop-blur-xl border border-blue-500/30 rounded-2xl shadow-2xl p-6 overflow-hidden\">\n        <!-- Decoration -->\n        <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-blue-500/20 rounded-full blur-2xl\"></div>\n        <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl\"></div>\n        \n        <!-- Header -->\n        <div class=\"relative flex items-center justify-between mb-3\">\n          <div class=\"flex items-center space-x-3\">\n            <span class=\"text-2xl\">{{ explanations[currentTopic]?.icon }}</span>\n            <h3 class=\"font-bold text-lg text-white bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400\">\n              {{ explanations[currentTopic]?.title }}\n            </h3>\n          </div>\n          <button \n            @click=\"dismiss\"\n            class=\"text-slate-400 hover:text-white transition-colors\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\" />\n            </svg>\n          </button>\n        </div>\n\n        <!-- Content -->\n        <p class=\"relative text-slate-300 text-sm leading-relaxed mb-6\">\n          {{ explanations[currentTopic]?.content }}\n        </p>\n\n        <!-- Footer Actions -->\n        <div class=\"relative flex justify-between items-center pt-4 border-t border-slate-700/50\">\n          <button \n            @click=\"disableTutorial\"\n            class=\"text-xs text-slate-500 hover:text-slate-300 transition-colors\"\n          >\n            \n          </button>\n          <button \n            @click=\"dismiss\"\n            class=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white text-sm font-semibold rounded-lg shadow-lg shadow-blue-500/20 transition-all transform hover:scale-105\"\n          >\n            \n          </button>\n        </div>\n      </div>\n    </div>\n  </Transition>\n</template>\n","<script setup lang=\"ts\">\nimport { onMounted, computed } from 'vue'\nimport { useGameStore } from '@/stores/gameStore'\nimport Hand from './Hand.vue'\nimport CardComponent from './Card.vue'\nimport DreamSelector from './DreamSelector.vue'\nimport ChallengeSelector from './ChallengeSelector.vue'\nimport InsuranceMarket from './InsuranceMarket.vue'\nimport GameResult from './GameResult.vue'\nimport TutorialOverlay from './TutorialOverlay.vue'\nimport type { GameConfig } from '@/domain/types/game.types'\n\nconst store = useGameStore()\n\nconst phaseDisplayName = computed(() => {\n  const map: Record<string, string> = {\n    draw: '',\n    challenge_choice: '',\n    challenge: '',\n    resolution: '',\n    market: '',\n    end: '',\n    insurance_type_selection: ''\n  }\n  return map[store.currentPhase] || store.currentPhase.toUpperCase()\n})\n\nonMounted(() => {\n  if (!store.game) {\n    const config = (window as any).__GAME_CONFIG__ as GameConfig | undefined\n    store.initializeGame(config)\n    store.startGame()\n  }\n})\n\nasync function onDraw() {\n  console.log('[GameBoard] onDraw called')\n  // alert('Debug: Draw Clicked') // Temporary debug alert\n  try {\n    await store.drawCards(1)\n    console.log('[GameBoard] onDraw completed. Current hand size:', store.hand.length)\n  } catch (e) {\n    console.error('[GameBoard] onDraw error:', e)\n    alert(`Draw Error: ${e}`) // Visual feedback for debugging\n  }\n}\n\nasync function onEndTurn() {\n  await store.endTurn()\n}\n\nasync function onChallenge() {\n  // v2: Start Challenge Phase (Draw 2, Select 1)\n  store.startChallengePhase()\n}\n\n</script>\n\n<template>\n  <div data-testid=\"game-board\" class=\"w-full h-screen bg-slate-900 text-white overflow-hidden relative font-sans\">\n    <!-- Header / Stats -->\n    <div class=\"absolute top-0 left-0 right-0 p-4 flex justify-between items-center bg-slate-800/80 backdrop-blur-md z-20 shadow-md\">\n      <div class=\"flex items-center space-x-6\">\n        <div class=\"flex flex-col\">\n          <span class=\"text-xs text-slate-400 uppercase\"></span>\n          <span class=\"font-bold text-xl text-yellow-400\">{{ store.score }}</span>\n        </div>\n        <div class=\"flex flex-col\">\n          <span class=\"text-xs text-slate-400 uppercase\"></span>\n          <span class=\"font-bold text-xl text-purple-400\">{{ store.currentStage }}</span>\n        </div>\n        <div data-testid=\"vitality\" class=\"flex flex-col\">\n          <span class=\"text-xs text-slate-400 uppercase\"></span>\n          <div class=\"flex items-end\">\n            <span class=\"font-bold text-2xl text-green-400\">{{ store.vitality }}</span>\n            <span class=\"text-sm text-slate-500 mb-1 ml-1\">/ {{ store.maxVitality }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"flex items-center space-x-4\">\n        <div class=\"flex flex-col items-end\">\n          <span class=\"text-xs text-slate-400 uppercase\"></span>\n          <span class=\"font-bold text-xl\">{{ store.currentTurn }}</span>\n        </div>\n        <div class=\"flex flex-col items-end\">\n          <span class=\"text-xs text-slate-400 uppercase\"></span>\n          <span class=\"font-bold text-lg text-blue-300\">{{ phaseDisplayName }}</span>\n        </div>\n        \n        <!-- Tutorial Toggle -->\n        <button \n          @click=\"store.toggleTutorialMode()\"\n          class=\"p-2 rounded-full hover:bg-slate-700 transition-colors relative group\"\n          :title=\"store.isTutorialMode ? '' : ''\"\n        >\n          <span v-if=\"store.isTutorialMode\" class=\"text-xl\"></span>\n          <span v-else class=\"text-xl opacity-50 grayscale\"></span>\n          \n          <!-- Tooltip -->\n          <span class=\"absolute right-0 top-full mt-2 w-max px-2 py-1 bg-black text-xs text-white rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\">\n            {{ store.isTutorialMode ? ' ON' : ' OFF' }}\n          </span>\n        </button>\n      </div>\n    </div>\n\n    <!-- Main Game Area -->\n    <div class=\"absolute inset-0 flex flex-col items-center justify-center pt-20 pb-96 z-10\">\n      \n      <!-- Challenge Area -->\n      <div class=\"mb-8 flex flex-col items-center\">\n        <h2 class=\"text-slate-400 uppercase tracking-widest text-sm mb-4\"></h2>\n        <div v-if=\"store.currentChallenge\" class=\"transform scale-110\">\n          <CardComponent :card=\"store.currentChallenge\" />\n        </div>\n        <div v-else class=\"w-48 h-72 border-2 border-dashed border-slate-600 rounded-xl flex items-center justify-center bg-slate-800/50\">\n          <span class=\"text-slate-500\"></span>\n        </div>\n      </div>\n\n      <!-- Message Area -->\n      <div v-if=\"store.lastMessage\" class=\"absolute top-20 bg-black/50 text-white px-6 py-2 rounded-full backdrop-blur-sm animate-fade-in-down\">\n        {{ store.lastMessage }}\n      </div>\n\n      <!-- Actions -->\n      <div class=\"flex space-x-4 mt-4 relative z-[9999]\">\n        <button \n          v-if=\"store.currentPhase === 'draw'\"\n          @click=\"onDraw\"\n          class=\"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-bold shadow-lg transition-colors flex items-center\"\n        >\n          \n        </button>\n        \n        <button \n          v-if=\"store.currentPhase === 'draw' && !store.currentChallenge\"\n          @click=\"onChallenge\"\n          class=\"px-6 py-3 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg font-bold shadow-lg transition-colors\"\n        >\n          \n        </button>\n\n        <button \n          v-if=\"store.currentPhase === 'challenge'\"\n          @click=\"store.resolveChallenge()\"\n          class=\"px-6 py-3 bg-red-600 hover:bg-red-500 text-white rounded-lg font-bold shadow-lg transition-colors\"\n        >\n          \n        </button>\n\n        <button \n          v-if=\"store.currentPhase === 'resolution' || store.currentPhase === 'end'\"\n          @click=\"onEndTurn\"\n          class=\"px-6 py-3 bg-green-600 hover:bg-green-500 text-white rounded-lg font-bold shadow-lg transition-colors\"\n        >\n          \n        </button>\n      </div>\n\n      <!-- Insurance Selection Overlay -->\n      <div v-if=\"store.insuranceTypeChoices && store.insuranceTypeChoices.length > 0\" class=\"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-8\">\n        <div class=\"bg-white rounded-xl p-8 max-w-4xl w-full\">\n          <h2 class=\"text-2xl font-bold text-gray-800 mb-4\"></h2>\n          <div class=\"grid grid-cols-3 gap-4\">\n            <div \n              v-for=\"choice in store.insuranceTypeChoices\" \n              :key=\"choice.insuranceType\"\n              class=\"border-2 border-gray-200 rounded-lg p-4 hover:border-blue-500 cursor-pointer transition-colors\"\n              @click=\"store.selectInsurance(choice.insuranceType)\"\n            >\n              <h3 class=\"font-bold text-lg text-gray-800\">{{ choice.name }}</h3>\n              <p class=\"text-sm text-gray-600\">{{ choice.description }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n      <!-- v2 Components -->\n      <DreamSelector />\n      <ChallengeSelector />\n      <GameResult />\n      \n      <!-- Market Area (Bottom Right or toggleable) -->\n      <!-- For now, we put it in the main area but maybe conditional? -->\n      <!-- Let's put it fixed at bottom right for access -->\n      <div v-if=\"store.currentPhase === 'draw'\" class=\"fixed bottom-32 right-8 z-40 max-w-xl\">\n         <InsuranceMarket />\n      </div>\n\n    </div>\n\n    <!-- Player Hand -->\n    <Hand />\n    \n    <!-- Background Elements -->\n    <div class=\"absolute inset-0 z-0 opacity-10 pointer-events-none\">\n      <div class=\"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500 rounded-full blur-3xl\"></div>\n      <div class=\"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500 rounded-full blur-3xl\"></div>\n    </div>\n\n    <!-- Tutorial Overlay -->\n    <TutorialOverlay />\n  </div>\n</template>\n","import { createApp } from 'vue'\nimport '@unocss/reset/tailwind.css'\nimport 'virtual:uno.css'\nimport './style.css'\nimport './styles/design-system.css'\nimport './styles/micro-interactions.css'\nimport './styles/brand-elements.css'\nimport './styles/rtl-support.css'\nimport App from './App.vue'\n\n// Vue\nconst app = createApp(App)\n\n// Pinia\nimport { createPinia } from 'pinia'\nconst pinia = createPinia()\napp.use(pinia)\n\n// \nasync function initializeApp() {\n  try {\n    // Remove any cached Service Workers\n    // Remove any cached Service Workers\n    if ('serviceWorker' in navigator) {\n      const registrations = await navigator.serviceWorker.getRegistrations();\n      let unregistered = false;\n      for (const registration of registrations) {\n        await registration.unregister();\n        console.log(' Service Worker unregistered');\n        unregistered = true;\n      }\n\n      if (unregistered && !sessionStorage.getItem('sw_cleaned')) {\n        console.log(' Reloading to clear SW cache...');\n        sessionStorage.setItem('sw_cleaned', 'true');\n        window.location.reload();\n        return;\n      }\n    }\n\n    // \n    app.mount('#app')\n    console.log(' ')\n  } catch (error) {\n    console.error(':', error)\n  }\n}\n\n// \ninitializeApp()","<script setup lang=\"ts\">\nimport { defineAsyncComponent, onMounted, onUnmounted, ref, h } from 'vue'\n// import { useI18n } from 'vue-i18n'\n// import GameCanvas from './components/game/GameCanvas.vue' // \nimport transitionAnimations from './components/animations/TransitionAnimations.vue'\nimport accessibilitySettings from './components/accessibility/AccessibilitySettings.vue'\nimport visualIndicators from './components/accessibility/VisualIndicators.vue'\nimport errorBoundary from './components/error/ErrorBoundary.vue'\nimport errorNotification from './components/error/ErrorNotification.vue'\n// import mobileErrorHandler from './components/error/MobileErrorHandler.vue' // \n// import StatisticsDashboard from './components/statistics/StatisticsDashboard.vue' // \nimport { KeyboardManager } from './components/accessibility/KeyboardManager'\nimport { ScreenReaderManager } from './components/accessibility/ScreenReaderManager'\n// import FeedbackButton from './components/feedback/FeedbackButton.vue' // \n\n// \nimport appHeader from './components/layout/AppHeader.vue'\nimport navigationActions from './components/layout/NavigationActions.vue'\n\n// \n// import languageSwitcher from './components/i18n/LanguageSwitcher.vue'\n\n// \n// const { t } = useI18n()\nconst showGame = ref(false)\nconst showAccessibilitySettings = ref(false)\nconst isMobile = ref(false)\n// \n\n\nconst MobileErrorHandler = defineAsyncComponent({\n  loader: async () => import('./components/error/MobileErrorHandler.vue'),\n  errorComponent: {\n    render: () => h('div')\n  },\n  delay: 200,\n  timeout: 10000\n})\n\n\n\nimport GameCanvas from './components/game/GameBoard.vue'\n\n// \nconst navigationRef = ref<InstanceType<typeof navigationActions>>()\n\nlet keyboardManager: KeyboardManager | null = null\nlet screenReaderManager: ScreenReaderManager | null = null\n\n\n\nconst startGame = (): void => {\n  showGame.value = true\n  screenReaderManager?.announceScreenChange('', '')\n}\n\nconst startTutorial = (): void => {\n  showGame.value = true\n  screenReaderManager?.announceScreenChange('', '')\n  // GameCanvas\n  // tickeGameCanvas\n  setTimeout(() => {\n    const event = new CustomEvent('startTutorial')\n    window.dispatchEvent(event)\n  }, 100)\n}\n\nconst backToHome = (): void => {\n  showGame.value = false\n  screenReaderManager?.announceScreenChange('', '')\n}\n\n\n\nconst handleAccessibilitySettingsChanged = (settings: any): void => {\n  // \n  console.log(':', settings)\n  \n  // \n  if (settings['screenReaderEnabled']) {\n    screenReaderManager?.announce('', { priority: 'assertive' })\n  }\n}\n\n\n\n// \nconst getErrorType = (error: Error): 'network' | 'dynamic-import' | 'runtime' | 'permission' | 'unknown' => {\n  const message = error.message.toLowerCase()\n  \n  if (message.includes('dynamically imported module') || message.includes('failed to fetch')) {\n    return 'dynamic-import'\n  }\n  if (message.includes('network') || message.includes('fetch')) {\n    return 'network'\n  }\n  if (message.includes('permission') || message.includes('cors')) {\n    return 'permission'\n  }\n  if (message.includes('cannot read') || message.includes('undefined')) {\n    return 'runtime'\n  }\n  \n  return 'unknown'\n}\n\n// \nconst handleHomeError = (error: Error, _instance: any, info: string) => {\n  console.error('Home screen error:', error, info)\n}\n\n// \nconst reportError = (error: Error) => {\n  console.log('Error report:', error)\n  // API\n}\n\nonMounted(() => {\n  console.log('App Version: v2025.12.06.0230 - Debug Build')\n  \n  // \n  isMobile.value = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent)\n  \n  // \n  keyboardManager = new KeyboardManager()\n  screenReaderManager = new ScreenReaderManager()\n  \n  // \n  keyboardManager.registerShortcut({\n    key: 'h',\n    modifiers: ['alt'],\n    description: '',\n    action: () => {\n      if (showGame.value) {\n        backToHome()\n      }\n    }\n  })\n  \n  keyboardManager.registerShortcut({\n    key: 'g',\n    modifiers: ['alt'],\n    description: '',\n    action: () => {\n      if (!showGame.value) {\n        startGame()\n      }\n    }\n  })\n  \n  keyboardManager.registerShortcut({\n    key: 't',\n    modifiers: ['alt'],\n    description: '',\n    action: () => {\n      if (!showGame.value) {\n        startTutorial()\n      }\n    }\n  })\n  \n  keyboardManager.registerShortcut({\n    key: 'a',\n    modifiers: ['alt'],\n    description: '',\n    action: () => {\n      showAccessibilitySettings.value = true\n      screenReaderManager?.announce('', { priority: 'assertive' })\n    }\n  })\n  \n  // \n  setTimeout(() => {\n    const gameButton = navigationRef.value?.gameButtonRef\n    const tutorialButton = navigationRef.value?.tutorialButtonRef\n    const backButton = document.querySelector('.back-to-home-btn') as HTMLElement\n    \n    if (gameButton !== null && gameButton !== undefined) {\n      keyboardManager?.registerFocusableElement(gameButton, {\n        priority: 100,\n        group: 'main-actions',\n        onFocus: () => screenReaderManager?.announce('')\n      })\n    }\n    \n    if (tutorialButton !== null && tutorialButton !== undefined) {\n      keyboardManager?.registerFocusableElement(tutorialButton, {\n        priority: 90,\n        group: 'main-actions',\n        onFocus: () => screenReaderManager?.announce('')\n      })\n    }\n    \n    if (backButton !== null && backButton !== undefined) {\n      keyboardManager?.registerFocusableElement(backButton, {\n        priority: 100,\n        group: 'game-actions',\n        onFocus: () => screenReaderManager?.announce('')\n      })\n    }\n  }, 100)\n  \n  // \n  screenReaderManager.announceScreenChange('', ' Alt+GAlt+TAlt+AF1')\n})\n\nonUnmounted(() => {\n  keyboardManager?.destroy()\n  screenReaderManager?.destroy()\n})\n</script>\n\n<template>\n  <div class=\"app-container\" role=\"application\" aria-label=\"\">\n    <!--  -->\n    <div class=\"skip-links\">\n      <a href=\"#main-content\" class=\"skip-link\"></a>\n      <a href=\"#navigation\" class=\"skip-link\"></a>\n    </div>\n\n    <!--  -->\n    <errorNotification />\n\n    <!--  -->\n    <transitionAnimations type=\"slide\" direction=\"left\" :duration=\"400\" intensity=\"normal\">\n      <div v-if=\"showGame\" id=\"main-content\" class=\"game-view\" role=\"main\" aria-label=\"\">\n        <errorBoundary fallback=\"detailed\" :can-recover=\"true\">\n          <GameCanvas @back-to-home=\"backToHome\" />\n        </errorBoundary>\n        <button\n          ref=\"backToHomeButtonRef\"\n          class=\"back-to-home-btn\"\n          aria-label=\" (Alt+H)\"\n          :aria-keyshortcuts=\"'Alt+H'\"\n          @click=\"backToHome\"\n        >\n          <span class=\"btn-icon\" aria-hidden=\"true\"></span>\n          <span class=\"btn-text\"></span>\n        </button>\n      </div>\n\n      <!--  -->\n      <div v-else id=\"main-content\" class=\"home-view\" role=\"main\" aria-label=\"\">\n        <errorBoundary \n          fallback=\"custom\"\n          :can-recover=\"true\"\n          @error=\"handleHomeError\"\n        >\n          <div class=\"home-container\">\n            <appHeader />\n\n            <navigationActions \n              ref=\"navigationRef\"\n              @start-game=\"startGame\"\n              @start-tutorial=\"startTutorial\"\n            />\n          </div>\n          \n          <!--  -->\n          <template #error=\"{ error, retry, reload }\">\n            <template v-if=\"error\">\n              <MobileErrorHandler\n                v-if=\"isMobile\"\n                :error=\"error\"\n                :error-type=\"getErrorType(error)\"\n                @retry=\"retry\"\n                @go-home=\"reload\"\n                @report-error=\"reportError\"\n              />\n              <div v-else class=\"desktop-error\">\n                <h2></h2>\n                <p>{{ error.message }}</p>\n                <div class=\"desktop-error-actions\">\n                  <button class=\"error-btn\" @click=\"retry\"></button>\n                  <button class=\"error-btn secondary\" @click=\"reload\"></button>\n                </div>\n              </div>\n            </template>\n          </template>\n        </errorBoundary>\n      </div>\n    </transitionAnimations>\n\n    <!--  -->\n    <footer id=\"footer\" class=\"sr-only\" role=\"contentinfo\">\n      <p> - Web</p>\n    </footer>\n    \n    <!--  -->\n    <accessibilitySettings \n      :is-open=\"showAccessibilitySettings\"\n      @close=\"showAccessibilitySettings = false\"\n      @settings-changed=\"handleAccessibilitySettingsChanged\"\n    />\n    \n    <!--  -->\n    <visualIndicators :enabled=\"true\" />\n    \n    <!--  -->\n    <!-- <div class=\"language-switcher-container\"> -->\n    <!-- <languageSwitcher \n        mode=\"dropdown\" \n        :compact=\"true\"\n        :aria-label=\"t('accessibility.options.changeLanguage', 'Change Language')\"\n      /> -->\n    <!-- </div> -->\n\n    <!--  -->\n    <button\n      v-if=\"!showGame\"\n      class=\"accessibility-button\"\n      aria-label=\" (Alt+A)\"\n      :aria-keyshortcuts=\"'Alt+A'\"\n      title=\"\"\n      @click=\"showAccessibilitySettings = true\"\n    >\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\">\n        <path d=\"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9H15L13.5 7.5C13 7 12.5 6.5 11.9 6.5H12.1C11.5 6.5 11 7 10.5 7.5L7.91 10.09C7.66 10.34 7.66 10.76 7.91 11.01L10.5 13.6C11 14.1 11.5 14.6 12.1 14.6H11.9C12.5 14.6 13 14.1 13.5 13.6L15 12.1H21C21.6 12.1 22 11.7 22 11.1V10C22 9.4 21.6 9 21 9ZM8.5 12.5L12 16L15.5 12.5L12 22L8.5 12.5Z\" fill=\"currentColor\"/>\n      </svg>\n    </button>\n  </div>\n</template>\n\n<style scoped>\n/*  */\n.desktop-error {\n  text-align: center;\n  padding: var(--space-xl);\n}\n\n.desktop-error h2 {\n  color: #ef4444;\n  margin-bottom: var(--space-md);\n}\n\n.desktop-error p {\n  color: rgba(255, 255, 255, 0.8);\n  margin-bottom: var(--space-lg);\n}\n\n.desktop-error-actions {\n  display: flex;\n  gap: var(--space-md);\n  justify-content: center;\n}\n\n.error-btn {\n  padding: var(--space-sm) var(--space-lg);\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  background: #667eea;\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.error-btn:hover {\n  background: #5a67d8;\n  transform: translateY(-1px);\n}\n\n.error-btn.secondary {\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.error-btn.secondary:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n/* =================================\n   \n   ================================= */\n\n.app-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);\n  color: rgba(255, 255, 255, 0.87);\n  display: flex;\n  flex-direction: column;\n}\n\n/* =================================\n   \n   ================================= */\n\n.game-view {\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n  overflow: hidden;\n}\n\n.back-to-home-btn {\n  position: absolute;\n  bottom: var(--space-md);\n  left: var(--space-md);\n  z-index: 9999;\n  \n  display: flex;\n  align-items: center;\n  gap: var(--space-xs);\n  \n  background: rgba(239, 68, 68, 0.9);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  padding: var(--space-sm) var(--space-md);\n  \n  font-family: Inter, system-ui, sans-serif;\n  font-size: var(--text-sm);\n  font-weight: 600;\n  \n  backdrop-filter: blur(8px);\n  box-shadow: var(--shadow-card);\n  \n  transition: all var(--transition-fast);\n  cursor: pointer;\n}\n\n.back-to-home-btn:hover {\n  background: rgba(220, 38, 38, 0.95);\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(239, 68, 68, 0.3);\n}\n\n.back-to-home-btn:active {\n  transform: translateY(0);\n}\n\n.btn-icon {\n  font-size: var(--text-lg);\n  line-height: 1;\n}\n\n.btn-text {\n  font-weight: 600;\n}\n\n/*  */\n@media (max-width: 640px) {\n  .btn-text {\n    display: none;\n  }\n  \n  .back-to-home-btn {\n    width: var(--touch-target-comfortable);\n    height: var(--touch-target-comfortable);\n    padding: var(--space-xs);\n    justify-content: center;\n    border-radius: 50%;\n  }\n  \n  .game-view {\n    /*  */\n    height: 100vh;\n    height: 100dvh; /* Dynamic viewport height for mobile */\n    overflow: hidden;\n  }\n}\n\n/*  */\n@media (max-width: 768px) and (orientation: portrait) {\n  .game-view {\n    height: 100vh;\n    height: 100dvh;\n  }\n  \n  .back-to-home-btn {\n    top: max(var(--space-md), env(safe-area-inset-top, 0px));\n    left: max(var(--space-md), env(safe-area-inset-left, 0px));\n  }\n}\n\n/*  */\n@media (max-height: 600px) and (orientation: landscape) {\n  .back-to-home-btn {\n    top: var(--space-sm);\n    left: var(--space-sm);\n    width: var(--touch-target-min);\n    height: var(--touch-target-min);\n  }\n  \n  .game-view {\n    height: 100vh;\n    height: 100dvh;\n  }\n}\n\n/* =================================\n   \n   ================================= */\n\n.home-view {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: var(--space-md);\n  min-height: 100vh;\n}\n\n.home-container {\n  width: 100%;\n  max-width: 1200px;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  gap: var(--space-3xl);\n}\n\n/*  AppHeader.vue  */\n\n/*  NavigationActions.vue  */\n\n/*  FeatureShowcase.vue  */\n\n/* =================================\n   \n   ================================= */\n\n.external-link {\n  margin-top: var(--space-lg);\n  padding-top: var(--space-md);\n  border-top: 1px solid rgba(129, 140, 248, 0.2);\n}\n\n.link-primary {\n  color: rgba(129, 140, 248, 1);\n  text-decoration: none;\n  font-weight: 500;\n  transition: color var(--transition-fast);\n}\n\n.link-primary:hover {\n  color: rgba(99, 102, 241, 1);\n  text-decoration: underline;\n}\n\n/* =================================\n   \n   ================================= */\n\n.footer-section {\n  text-align: center;\n  padding-top: var(--space-xl);\n  border-top: 1px solid rgba(129, 140, 248, 0.1);\n}\n\n.footer-nav {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--space-sm);\n  flex-wrap: wrap;\n}\n\n.footer-link {\n  color: rgba(156, 163, 175, 1);\n  text-decoration: none;\n  font-size: var(--text-sm);\n  transition: color var(--transition-fast);\n}\n\n.footer-link:hover {\n  color: rgba(129, 140, 248, 1);\n}\n\n.footer-separator {\n  color: rgba(156, 163, 175, 0.6);\n  font-size: var(--text-sm);\n}\n\n/* =================================\n   \n   ================================= */\n\n/*  */\n.back-to-home-btn:focus,\n.primary-action-btn:focus,\n.secondary-action-btn:focus,\n.footer-link:focus,\n.link-primary:focus {\n  outline: 2px solid rgba(129, 140, 248, 0.8);\n  outline-offset: 2px;\n}\n\n/*  */\n@media (prefers-reduced-motion: reduce) {\n  .hero-title,\n  .info-card,\n  .back-to-home-btn,\n  .primary-action-btn,\n  .secondary-action-btn {\n    transition: none;\n  }\n  \n  .info-card:hover,\n  .primary-action-btn:hover,\n  .secondary-action-btn:hover {\n    transform: none;\n  }\n}\n\n/*  */\n@media (prefers-contrast: high) {\n  .info-card {\n    border-color: rgba(129, 140, 248, 0.6);\n    background: rgba(255, 255, 255, 0.1);\n  }\n  \n  .primary-action-btn,\n  .secondary-action-btn {\n    border: 2px solid white;\n  }\n}\n\n/* =================================\n   \n   ================================= */\n\n/*  */\n@media (max-width: 1024px) {\n  .home-container {\n    max-width: 768px;\n    gap: var(--space-2xl);\n  }\n  \n  .hero-section {\n    padding: var(--space-lg) 0;\n  }\n  \n  .info-grid {\n    grid-template-columns: 1fr;\n    max-width: 600px;\n    margin: 0 auto;\n  }\n}\n\n/*  */\n@media (max-width: 640px) {\n  .home-view {\n    padding: var(--space-sm);\n  }\n  \n  .home-container {\n    gap: var(--space-xl);\n  }\n  \n  .info-card {\n    padding: var(--space-lg);\n  }\n  \n  .card-title {\n    font-size: var(--text-xl);\n  }\n  \n  .feature-title,\n  .roadmap-title {\n    font-size: var(--text-base);\n  }\n}\n\n/*  */\n@media (max-width: 375px) {\n  .home-view {\n    padding: var(--space-xs);\n  }\n  \n  .info-card {\n    padding: var(--space-md);\n  }\n  \n  .hero-title {\n    font-size: 2rem;\n    line-height: 1.2;\n  }\n  \n  .hero-subtitle {\n    font-size: var(--text-base);\n    line-height: 1.5;\n  }\n  \n  .primary-action-btn,\n  .secondary-action-btn {\n    min-width: 160px;\n    padding: var(--space-sm) var(--space-lg);\n    font-size: var(--text-base);\n  }\n}\n\n/*  */\n@media (min-width: 1536px) {\n  .home-container {\n    max-width: 1400px;\n  }\n  \n  .info-grid {\n    grid-template-columns: repeat(2, 1fr);\n    gap: var(--space-2xl);\n  }\n}\n\n/* =================================\n   \n   ================================= */\n\n/*  */\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n\n/*  */\n.skip-links {\n  position: absolute;\n  top: -40px;\n  left: 6px;\n  z-index: var(--z-tooltip);\n}\n\n.skip-link {\n  position: absolute;\n  left: -10000px;\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  background: var(--primary-dark);\n  color: white;\n  padding: var(--space-sm) var(--space-md);\n  text-decoration: none;\n  border-radius: 4px;\n  font-weight: 600;\n  border: 2px solid var(--primary-light);\n}\n\n.skip-link:focus {\n  position: static;\n  width: auto;\n  height: auto;\n  left: auto;\n  top: auto;\n  overflow: visible;\n}\n\n/*  */\n.keyboard-navigation *:focus {\n  outline: 3px solid var(--primary-light) !important;\n  outline-offset: 2px !important;\n  border-radius: 4px;\n}\n\n/*  */\n@media (prefers-contrast: high) {\n  .skip-link {\n    background: #000;\n    border: 3px solid #fff;\n  }\n  \n  .skip-link:focus {\n    background: #fff;\n    color: #000;\n    border-color: #000;\n  }\n  \n  .keyboard-navigation *:focus {\n    outline-color: #000 !important;\n    outline-width: 4px !important;\n  }\n}\n\n/*  */\n@media (prefers-reduced-motion: no-preference) {\n  .keyboard-navigation *:focus {\n    transition: outline-color var(--transition-fast);\n  }\n}\n\n/* =================================\n   \n   ================================= */\n\n.language-switcher-container {\n  position: fixed;\n  top: var(--space-lg);\n  right: var(--space-lg);\n  z-index: var(--z-fixed);\n}\n\n@media (max-width: 640px) {\n  .language-switcher-container {\n    top: var(--space-md);\n    right: var(--space-md);\n  }\n}\n\n/* =================================\n   \n   ================================= */\n\n.accessibility-button {\n  position: fixed;\n  bottom: var(--space-lg);\n  right: var(--space-lg);\n  z-index: var(--z-fixed);\n  \n  width: var(--touch-target-comfortable);\n  height: var(--touch-target-comfortable);\n  \n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  background: rgba(129, 140, 248, 0.9);\n  color: white;\n  border: none;\n  border-radius: 50%;\n  \n  box-shadow: var(--shadow-card);\n  backdrop-filter: blur(8px);\n  \n  cursor: pointer;\n  transition: all var(--transition-normal);\n}\n\n.accessibility-button:hover {\n  background: rgba(99, 102, 241, 0.95);\n  transform: translateY(-4px) scale(1.1);\n  box-shadow: 0 12px 40px rgba(129, 140, 248, 0.4);\n}\n\n.accessibility-button:active {\n  transform: translateY(-2px) scale(1.05);\n}\n\n.accessibility-button:focus {\n  outline: 3px solid white;\n  outline-offset: 3px;\n}\n\n.accessibility-button svg {\n  width: 24px;\n  height: 24px;\n}\n\n/*  */\n@media (max-width: 640px) {\n  .accessibility-button {\n    bottom: var(--space-md);\n    right: var(--space-md);\n    width: var(--touch-target-min);\n    height: var(--touch-target-min);\n  }\n}\n\n/*  */\n.high-contrast {\n  /*  */\n  --bg-primary: #000000;\n  --bg-secondary: #0a0a0a;\n  --bg-card: rgba(255, 255, 255, 0.15);\n}\n\n.high-contrast .primary-action-btn,\n.high-contrast .secondary-action-btn {\n  border: 3px solid white;\n}\n\n.high-contrast .info-card {\n  border-width: 2px;\n  border-color: white;\n  background: rgba(0, 0, 0, 0.9);\n}\n\n.high-contrast .card-title {\n  color: #FFD43B;\n}\n\n.high-contrast .hero-title {\n  background: none;\n  -webkit-text-fill-color: white;\n  text-shadow: 2px 2px 4px black;\n}\n\n/*  */\n.reduce-motion * {\n  animation-duration: 0.01ms !important;\n  animation-iteration-count: 1 !important;\n  transition-duration: 0.01ms !important;\n}\n\n/* CSS */\n.app-container {\n  font-size: var(--base-font-size, 16px);\n}\n\n/*  */\nbutton,\na,\ninput,\nselect,\ntextarea,\n[role=\"button\"],\n[tabindex]:not([tabindex=\"-1\"]) {\n  min-width: var(--touch-target-size, 44px);\n  min-height: var(--touch-target-size, 44px);\n}\n\n/*  */\n@property --animation-speed-multiplier {\n  syntax: '<number>';\n  initial-value: 1;\n  inherits: true;\n}\n\n.game-card,\n.drop-zone,\n.info-card,\n.primary-action-btn,\n.secondary-action-btn {\n  transition-duration: calc(var(--transition-normal) / var(--animation-speed-multiplier, 1));\n}\n\n/* =================================\n   \n   ================================= */\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: var(--space-md);\n  backdrop-filter: blur(4px);\n}\n\n.modal-content {\n  width: 100%;\n  height: 100%;\n  max-width: 1400px;\n  max-height: 900px;\n  background: var(--bg-primary);\n  border-radius: 16px;\n  overflow: hidden;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(129, 140, 248, 0.2);\n}\n\n@media (max-width: 640px) {\n  .modal-overlay {\n    padding: var(--space-xs);\n  }\n  \n  .modal-content {\n    border-radius: 12px;\n  }\n}\n</style>"],"file":"js/index-CEsiSAOz.js"}