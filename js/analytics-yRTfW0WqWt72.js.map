{"version":3,"file":"analytics-yRTfW0WqWt72.js","sources":["../../src/components/statistics/StatsSummaryCard.vue","../../src/components/statistics/charts/GameProgressChart.vue","../../src/components/statistics/charts/SuccessRateChart.vue","../../src/components/statistics/charts/VitalityTrendChart.vue","../../src/components/statistics/charts/StageAnalysisChart.vue","../../src/components/statistics/charts/CardUsageChart.vue","../../src/components/statistics/charts/StrategyPatternsChart.vue","../../src/components/statistics/charts/DecisionAnalysisChart.vue","../../src/components/statistics/charts/LiveVitalityChart.vue","../../src/components/statistics/charts/DecisionTimeChart.vue","../../src/components/statistics/StatisticsDashboard.vue"],"sourcesContent":["<template>\n  <div class=\"stats-summary-card\">\n    <div class=\"card-header\">\n      <div class=\"card-icon\">{{ icon }}</div>\n      <h3 class=\"card-title\">{{ title }}</h3>\n    </div>\n    \n    <div class=\"stats-list\">\n      <div \n        v-for=\"stat in stats\" \n        :key=\"stat.label\"\n        class=\"stat-item\"\n      >\n        <div class=\"stat-info\">\n          <span class=\"stat-label\">{{ stat.label }}</span>\n          <div class=\"stat-value-row\">\n            <span class=\"stat-value\">{{ stat.value }}</span>\n            <span \n              v-if=\"stat.trend\" \n              :class=\"['stat-trend', getTrendClass(stat.trend)]\"\n            >\n              {{ stat.trend }}\n            </span>\n          </div>\n        </div>\n        <div \n          v-if=\"stat.percentage !== undefined\" \n          class=\"stat-progress\"\n        >\n          <div \n            class=\"progress-bar\"\n            :style=\"{ width: `${stat.percentage}%` }\"\n          ></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\ninterface StatItem {\n  label: string\n  value: string\n  trend?: string\n  percentage?: number\n}\n\ninterface Props {\n  title: string\n  icon: string\n  stats: StatItem[]\n}\n\ndefineProps<Props>()\n\nconst getTrendClass = (trend: string): string => {\n  if (trend.includes('â†—') || trend === '+') return 'trend-up'\n  if (trend.includes('â†˜') || trend === '-') return 'trend-down'\n  return 'trend-neutral'\n}\n</script>\n\n<style scoped>\n.stats-summary-card {\n  @apply bg-gray-800 rounded-lg p-4 border border-gray-700 hover:border-gray-600 transition-colors;\n}\n\n.card-header {\n  @apply flex items-center gap-3 mb-4;\n}\n\n.card-icon {\n  @apply text-2xl;\n}\n\n.card-title {\n  @apply text-lg font-semibold text-white;\n}\n\n.stats-list {\n  @apply space-y-3;\n}\n\n.stat-item {\n  @apply space-y-2;\n}\n\n.stat-info {\n  @apply flex justify-between items-start;\n}\n\n.stat-label {\n  @apply text-sm text-gray-300;\n}\n\n.stat-value-row {\n  @apply flex items-center gap-2;\n}\n\n.stat-value {\n  @apply text-xl font-bold text-white;\n}\n\n.stat-trend {\n  @apply text-sm font-medium;\n}\n\n.trend-up {\n  @apply text-green-400;\n}\n\n.trend-down {\n  @apply text-red-400;\n}\n\n.trend-neutral {\n  @apply text-gray-400;\n}\n\n.stat-progress {\n  @apply w-full bg-gray-700 rounded-full h-2;\n}\n\n.progress-bar {\n  @apply bg-blue-500 h-2 rounded-full transition-all duration-300;\n}\n</style>","<template>\n  <div class=\"chart-wrapper\">\n    <h3 class=\"chart-title\">ğŸ® ã‚²ãƒ¼ãƒ é€²è¡Œå±¥æ­´</h3>\n    <div class=\"chart-controls\">\n      <select v-model=\"chartPeriod\" class=\"period-selector\" @change=\"updateChart\">\n        <option value=\"week\">éå»1é€±é–“</option>\n        <option value=\"month\">éå»1ãƒ¶æœˆ</option>\n        <option value=\"quarter\">éå»3ãƒ¶æœˆ</option>\n        <option value=\"all\">å…¨æœŸé–“</option>\n      </select>\n    </div>\n    <div class=\"chart-container\">\n      <canvas ref=\"chartCanvas\"></canvas>\n    </div>\n    <div class=\"chart-stats\">\n      <div class=\"stat-item\">\n        <span class=\"label\">ç·ã‚²ãƒ¼ãƒ æ•°:</span>\n        <span class=\"value\">{{ totalGames }}</span>\n      </div>\n      <div class=\"stat-item\">\n        <span class=\"label\">å¹³å‡ã‚¹ã‚³ã‚¢:</span>\n        <span class=\"value\">{{ averageScore.toFixed(1) }}</span>\n      </div>\n      <div class=\"stat-item\">\n        <span class=\"label\">æœ€é«˜ã‚¹ã‚³ã‚¢:</span>\n        <span class=\"value\">{{ maxScore }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport {\n  CategoryScale,\n  Chart,\n  Filler,\n  Legend,\n  LinearScale,\n  LineElement,\n  PointElement,\n  Title,\n  Tooltip\n} from 'chart.js'\n\n// Chart.jsã®ç™»éŒ²\nChart.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n)\n\ninterface GameHistoryData {\n  date: string\n  gamesPlayed: number\n  averageScore: number\n  totalPlayTime: number\n}\n\ninterface Props {\n  data: GameHistoryData[]\n}\n\nconst props = defineProps<Props>()\n\nconst chartCanvas = ref<HTMLCanvasElement>()\nconst chartInstance = ref<Chart | null>(null)\nconst chartPeriod = ref('month')\n\n// è¨ˆç®—ã•ã‚ŒãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£\nconst filteredData = computed(() => {\n  if (!props.data || props.data.length === 0) return []\n  \n  const now = new Date()\n  let cutoffDate = new Date()\n  \n  switch (chartPeriod.value) {\n    case 'week':\n      cutoffDate.setDate(now.getDate() - 7)\n      break\n    case 'month':\n      cutoffDate.setMonth(now.getMonth() - 1)\n      break\n    case 'quarter':\n      cutoffDate.setMonth(now.getMonth() - 3)\n      break\n    case 'all':\n    default:\n      cutoffDate = new Date(0) // ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚ã‚‹\n      break\n  }\n  \n  return props.data.filter(item => new Date(item.date) >= cutoffDate)\n})\n\nconst totalGames = computed(() => {\n  return filteredData.value.reduce((sum, item) => sum + item.gamesPlayed, 0)\n})\n\nconst averageScore = computed(() => {\n  if (filteredData.value.length === 0) return 0\n  const totalScore = filteredData.value.reduce((sum, item) => sum + item.averageScore * item.gamesPlayed, 0)\n  return totalScore / totalGames.value\n})\n\nconst maxScore = computed(() => {\n  if (filteredData.value.length === 0) return 0\n  return Math.max(...filteredData.value.map(item => item.averageScore))\n})\n\n// ãƒãƒ£ãƒ¼ãƒˆã®åˆæœŸåŒ–\nconst initChart = () => {\n  if (!chartCanvas.value) return\n  \n  const ctx = chartCanvas.value.getContext('2d')\n  if (!ctx) return\n  \n  chartInstance.value = new Chart(ctx, {\n    type: 'line',\n    data: {\n      labels: [],\n      datasets: [\n        {\n          label: 'ãƒ—ãƒ¬ã‚¤å›æ•°',\n          data: [],\n          borderColor: 'rgb(99, 102, 241)',\n          backgroundColor: 'rgba(99, 102, 241, 0.1)',\n          yAxisID: 'y',\n          fill: true,\n          tension: 0.4\n        },\n        {\n          label: 'å¹³å‡ã‚¹ã‚³ã‚¢',\n          data: [],\n          borderColor: 'rgb(34, 197, 94)', \n          backgroundColor: 'rgba(34, 197, 94, 0.1)',\n          yAxisID: 'y1',\n          fill: false,\n          tension: 0.4\n        }\n      ]\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        title: {\n          display: false\n        },\n        legend: {\n          display: true,\n          position: 'top',\n          labels: {\n            color: 'white',\n            usePointStyle: true\n          }\n        },\n        tooltip: {\n          mode: 'index',\n          intersect: false,\n          backgroundColor: 'rgba(17, 24, 39, 0.9)',\n          titleColor: 'white',\n          bodyColor: 'white',\n          borderColor: 'rgba(75, 85, 99, 0.5)',\n          borderWidth: 1,\n          callbacks: {\n            afterLabel: (context) => {\n              const dataIndex = context.dataIndex\n              const item = filteredData.value[dataIndex]\n              if (item) {\n                return `ãƒ—ãƒ¬ã‚¤æ™‚é–“: ${formatDuration(item.totalPlayTime)}`\n              }\n              return ''\n            }\n          }\n        }\n      },\n      scales: {\n        x: {\n          display: true,\n          grid: {\n            color: 'rgba(75, 85, 99, 0.3)'\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)'\n          }\n        },\n        y: {\n          type: 'linear',\n          display: true,\n          position: 'left',\n          grid: {\n            color: 'rgba(75, 85, 99, 0.3)'\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)'\n          },\n          title: {\n            display: true,\n            text: 'ãƒ—ãƒ¬ã‚¤å›æ•°',\n            color: 'rgb(99, 102, 241)'\n          }\n        },\n        y1: {\n          type: 'linear',\n          display: true,\n          position: 'right',\n          grid: {\n            drawOnChartArea: false,\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)'\n          },\n          title: {\n            display: true,\n            text: 'å¹³å‡ã‚¹ã‚³ã‚¢',\n            color: 'rgb(34, 197, 94)'\n          }\n        }\n      },\n      interaction: {\n        mode: 'nearest',\n        axis: 'x',\n        intersect: false\n      },\n      elements: {\n        point: {\n          radius: 4,\n          hoverRadius: 6\n        }\n      }\n    }\n  })\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°\nconst updateChart = () => {\n  if (!chartInstance.value) return\n  \n  const labels = filteredData.value.map(item => {\n    const date = new Date(item.date)\n    return date.toLocaleDateString('ja-JP', { month: 'short', day: 'numeric' })\n  })\n  \n  const gamesData = filteredData.value.map(item => item.gamesPlayed)\n  const scoresData = filteredData.value.map(item => item.averageScore)\n  \n  chartInstance.value.data.labels = labels\n  chartInstance.value.data.datasets[0].data = gamesData\n  chartInstance.value.data.datasets[1].data = scoresData\n  \n  chartInstance.value.update('active')\n}\n\n// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°\nconst formatDuration = (ms: number): string => {\n  const seconds = Math.floor(ms / 1000)\n  const minutes = Math.floor(seconds / 60)\n  const hours = Math.floor(minutes / 60)\n  \n  if (hours > 0) {\n    return `${hours}æ™‚é–“${minutes % 60}åˆ†`\n  } if (minutes > 0) {\n    return `${minutes}åˆ†`\n  } \n    return `${seconds}ç§’`\n  \n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®ç ´æ£„\nconst destroyChart = () => {\n  if (chartInstance.value) {\n    chartInstance.value.destroy()\n    chartInstance.value = null\n  }\n}\n\n// ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\nonMounted(() => {\n  initChart()\n  updateChart()\n})\n\nonUnmounted(() => {\n  destroyChart()\n})\n\n// ãƒ‡ãƒ¼ã‚¿å¤‰æ›´ã®ç›£è¦–\nwatch(() => props.data, () => {\n  updateChart()\n}, { deep: true })\n\nwatch(() => chartPeriod.value, () => {\n  updateChart()\n})\n</script>\n\n<style scoped>\n.chart-wrapper {\n  @apply w-full h-full flex flex-col;\n}\n\n.chart-title {\n  @apply text-lg font-semibold text-white mb-2 flex items-center gap-2;\n}\n\n.chart-controls {\n  @apply flex justify-end mb-4;\n}\n\n.period-selector {\n  @apply px-3 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm;\n}\n\n.chart-container {\n  @apply flex-1 min-h-0 relative;\n  height: 300px;\n}\n\n.chart-stats {\n  @apply flex gap-6 mt-4 text-sm;\n}\n\n.stat-item {\n  @apply flex gap-2;\n}\n\n.stat-item .label {\n  @apply text-gray-300;\n}\n\n.stat-item .value {\n  @apply text-white font-semibold;\n}\n</style>","<template>\n  <div class=\"chart-wrapper\">\n    <h3 class=\"chart-title\">ğŸ“Š ã‚¹ãƒ†ãƒ¼ã‚¸åˆ¥æˆåŠŸç‡</h3>\n    <div class=\"chart-container\">\n      <canvas ref=\"chartCanvas\"></canvas>\n    </div>\n    <div class=\"chart-legend\">\n      <div v-for=\"(rate, stage) in data\" :key=\"stage\" class=\"legend-item\">\n        <div class=\"legend-color\" :style=\"{ backgroundColor: getStageColor(stage) }\"></div>\n        <span class=\"legend-label\">{{ getStageLabel(stage) }}</span>\n        <span class=\"legend-value\">{{ (rate * 100).toFixed(1) }}%</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, onUnmounted, ref, watch } from 'vue'\nimport {\n  BarElement,\n  CategoryScale,\n  Chart,\n  Legend,\n  LinearScale,\n  Title,\n  Tooltip\n} from 'chart.js'\n\n// Chart.jsã®ç™»éŒ²\nChart.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n)\n\ninterface Props {\n  data: Record<string, number>\n}\n\nconst props = defineProps<Props>()\n\nconst chartCanvas = ref<HTMLCanvasElement>()\nconst chartInstance = ref<Chart | null>(null)\n\n// ã‚¹ãƒ†ãƒ¼ã‚¸ã®è‰²ã¨ãƒ©ãƒ™ãƒ«ã®ãƒãƒƒãƒ”ãƒ³ã‚°\nconst STAGE_COLORS = {\n  youth: 'rgb(34, 197, 94)',    // ç·‘\n  middle: 'rgb(251, 191, 36)',  // é»„\n  fulfillment: 'rgb(168, 85, 247)' // ç´«\n}\n\nconst STAGE_LABELS = {\n  youth: 'é’å¹´æœŸ',\n  middle: 'ä¸­å¹´æœŸ', \n  fulfillment: 'å……å®ŸæœŸ'\n}\n\nconst getStageColor = (stage: string): string => {\n  return STAGE_COLORS[stage as keyof typeof STAGE_COLORS] || 'rgb(107, 114, 128)'\n}\n\nconst getStageLabel = (stage: string): string => {\n  return STAGE_LABELS[stage as keyof typeof STAGE_LABELS] || stage\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®åˆæœŸåŒ–\nconst initChart = () => {\n  if (!chartCanvas.value || !props.data) return\n  \n  const ctx = chartCanvas.value.getContext('2d')\n  if (!ctx) return\n  \n  const stages = Object.keys(props.data)\n  const rates = Object.values(props.data).map(rate => rate * 100) // ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ã«å¤‰æ›\n  const colors = stages.map(stage => getStageColor(stage))\n  const labels = stages.map(stage => getStageLabel(stage))\n  \n  chartInstance.value = new Chart(ctx, {\n    type: 'bar',\n    data: {\n      labels,\n      datasets: [\n        {\n          label: 'æˆåŠŸç‡ (%)',\n          data: rates,\n          backgroundColor: colors.map(color => color.replace('rgb', 'rgba').replace(')', ', 0.6)')),\n          borderColor: colors,\n          borderWidth: 2,\n          borderRadius: 4,\n          borderSkipped: false\n        }\n      ]\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        title: {\n          display: false\n        },\n        legend: {\n          display: false // ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰ã‚’ä½¿ç”¨\n        },\n        tooltip: {\n          backgroundColor: 'rgba(17, 24, 39, 0.9)',\n          titleColor: 'white',\n          bodyColor: 'white',\n          borderColor: 'rgba(75, 85, 99, 0.5)',\n          borderWidth: 1,\n          callbacks: {\n            label: (context) => {\n              const value = context.parsed.y\n              const stage = context.label\n              return `${stage}: ${value.toFixed(1)}%`\n            },\n            afterLabel: (context) => {\n              const rate = context.parsed.y / 100\n              let performance = ''\n              if (rate >= 0.8) performance = 'å„ªç§€'\n              else if (rate >= 0.6) performance = 'è‰¯å¥½'\n              else if (rate >= 0.4) performance = 'æ™®é€š'\n              else performance = 'è¦æ”¹å–„'\n              \n              return `ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹: ${performance}`\n            }\n          }\n        }\n      },\n      scales: {\n        x: {\n          grid: {\n            display: false\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)',\n            font: {\n              size: 12\n            }\n          }\n        },\n        y: {\n          beginAtZero: true,\n          max: 100,\n          grid: {\n            color: 'rgba(75, 85, 99, 0.3)'\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)',\n            callback: (value) => `${value}%`\n          },\n          title: {\n            display: true,\n            text: 'æˆåŠŸç‡ (%)',\n            color: 'rgba(209, 213, 219, 0.8)'\n          }\n        }\n      },\n      elements: {\n        bar: {\n          borderWidth: 2\n        }\n      },\n      interaction: {\n        mode: 'index',\n        intersect: false\n      }\n    }\n  })\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°\nconst updateChart = () => {\n  if (!chartInstance.value || !props.data) return\n  \n  const stages = Object.keys(props.data)\n  const rates = Object.values(props.data).map(rate => rate * 100)\n  const colors = stages.map(stage => getStageColor(stage))\n  const labels = stages.map(stage => getStageLabel(stage))\n  \n  chartInstance.value.data.labels = labels\n  chartInstance.value.data.datasets[0].data = rates\n  chartInstance.value.data.datasets[0].backgroundColor = colors.map(color => \n    color.replace('rgb', 'rgba').replace(')', ', 0.6)')\n  )\n  chartInstance.value.data.datasets[0].borderColor = colors\n  \n  chartInstance.value.update('active')\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®ç ´æ£„\nconst destroyChart = () => {\n  if (chartInstance.value) {\n    chartInstance.value.destroy()\n    chartInstance.value = null\n  }\n}\n\n// ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\nonMounted(() => {\n  initChart()\n})\n\nonUnmounted(() => {\n  destroyChart()\n})\n\n// ãƒ‡ãƒ¼ã‚¿å¤‰æ›´ã®ç›£è¦–\nwatch(() => props.data, () => {\n  updateChart()\n}, { deep: true })\n</script>\n\n<style scoped>\n.chart-wrapper {\n  @apply w-full h-full flex flex-col;\n}\n\n.chart-title {\n  @apply text-lg font-semibold text-white mb-4 flex items-center gap-2;\n}\n\n.chart-container {\n  @apply flex-1 min-h-0 relative;\n  height: 250px;\n}\n\n.chart-legend {\n  @apply flex gap-4 mt-4 flex-wrap;\n}\n\n.legend-item {\n  @apply flex items-center gap-2 text-sm;\n}\n\n.legend-color {\n  @apply w-3 h-3 rounded;\n}\n\n.legend-label {\n  @apply text-gray-300;\n}\n\n.legend-value {\n  @apply text-white font-semibold;\n}\n</style>","<template>\n  <div class=\"chart-wrapper\">\n    <h3 class=\"chart-title\">ğŸ’— æ´»åŠ›å¤‰å‹•ãƒˆãƒ¬ãƒ³ãƒ‰</h3>\n    <div class=\"chart-info\">\n      <div class=\"info-item\">\n        <span>ç¾åœ¨: {{ currentVitality }}</span>\n      </div>\n      <div class=\"info-item\">\n        <span>æœ€é«˜: {{ maxVitality }}</span>\n      </div>\n      <div class=\"info-item\">\n        <span>æœ€ä½: {{ minVitality }}</span>\n      </div>\n    </div>\n    <div class=\"chart-container\">\n      <canvas ref=\"chartCanvas\"></canvas>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport {\n  CategoryScale,\n  Chart,\n  Filler,\n  Legend,\n  LinearScale,\n  LineElement,\n  PointElement,\n  Title,\n  Tooltip\n} from 'chart.js'\n\n// Chart.jsã®ç™»éŒ²\nChart.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n)\n\ninterface VitalityPoint {\n  turn: number\n  vitality: number\n}\n\ninterface Props {\n  data: VitalityPoint[]\n}\n\nconst props = defineProps<Props>()\n\nconst chartCanvas = ref<HTMLCanvasElement>()\nconst chartInstance = ref<Chart | null>(null)\n\n// è¨ˆç®—ã•ã‚ŒãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£\nconst currentVitality = computed(() => {\n  if (!props.data || props.data.length === 0) return 0\n  return props.data[props.data.length - 1].vitality\n})\n\nconst maxVitality = computed(() => {\n  if (!props.data || props.data.length === 0) return 0\n  return Math.max(...props.data.map(point => point.vitality))\n})\n\nconst minVitality = computed(() => {\n  if (!props.data || props.data.length === 0) return 0\n  return Math.min(...props.data.map(point => point.vitality))\n})\n\n// ãƒãƒ£ãƒ¼ãƒˆã®åˆæœŸåŒ–\nconst initChart = () => {\n  if (!chartCanvas.value) return\n  \n  const ctx = chartCanvas.value.getContext('2d')\n  if (!ctx) return\n  \n  chartInstance.value = new Chart(ctx, {\n    type: 'line',\n    data: {\n      labels: [],\n      datasets: [\n        {\n          label: 'æ´»åŠ›',\n          data: [],\n          borderColor: 'rgb(239, 68, 68)',\n          backgroundColor: 'rgba(239, 68, 68, 0.1)',\n          fill: true,\n          tension: 0.4,\n          pointBackgroundColor: 'rgb(239, 68, 68)',\n          pointBorderColor: 'white',\n          pointBorderWidth: 2,\n          pointRadius: 4,\n          pointHoverRadius: 6\n        },\n        {\n          label: 'å±é™ºãƒ©ã‚¤ãƒ³',\n          data: [],\n          borderColor: 'rgb(245, 101, 101)',\n          backgroundColor: 'transparent',\n          borderDash: [5, 5],\n          fill: false,\n          pointRadius: 0,\n          tension: 0\n        }\n      ]\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        title: {\n          display: false\n        },\n        legend: {\n          display: true,\n          position: 'top',\n          labels: {\n            color: 'white',\n            usePointStyle: true,\n            filter: (legendItem) => legendItem.text !== 'å±é™ºãƒ©ã‚¤ãƒ³' || props.data.some(point => point.vitality <= 20)\n          }\n        },\n        tooltip: {\n          mode: 'index',\n          intersect: false,\n          backgroundColor: 'rgba(17, 24, 39, 0.9)',\n          titleColor: 'white',\n          bodyColor: 'white',\n          borderColor: 'rgba(75, 85, 99, 0.5)',\n          borderWidth: 1,\n          callbacks: {\n            title: (context) => {\n              return `ã‚¿ãƒ¼ãƒ³ ${context[0].label}`\n            },\n            label: (context) => {\n              if (context.datasetIndex === 0) {\n                const vitality = context.parsed.y\n                let status = ''\n                if (vitality >= 80) status = 'çµ¶å¥½èª¿'\n                else if (vitality >= 60) status = 'å¥½èª¿'\n                else if (vitality >= 40) status = 'æ™®é€š'\n                else if (vitality >= 20) status = 'è¦æ³¨æ„'\n                else status = 'å±é™º'\n                \n                return `æ´»åŠ›: ${vitality} (${status})`\n              }\n              return ''\n            }\n          }\n        }\n      },\n      scales: {\n        x: {\n          display: true,\n          grid: {\n            color: 'rgba(75, 85, 99, 0.3)'\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)'\n          },\n          title: {\n            display: true,\n            text: 'ã‚¿ãƒ¼ãƒ³',\n            color: 'rgba(209, 213, 219, 0.8)'\n          }\n        },\n        y: {\n          beginAtZero: true,\n          max: 100,\n          grid: {\n            color: 'rgba(75, 85, 99, 0.3)'\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)',\n            stepSize: 20\n          },\n          title: {\n            display: true,\n            text: 'æ´»åŠ›',\n            color: 'rgba(209, 213, 219, 0.8)'\n          }\n        }\n      },\n      interaction: {\n        mode: 'nearest',\n        axis: 'x',\n        intersect: false\n      },\n      elements: {\n        line: {\n          tension: 0.4\n        }\n      }\n    }\n  })\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°\nconst updateChart = () => {\n  if (!chartInstance.value || !props.data) return\n  \n  const labels = props.data.map(point => point.turn.toString())\n  const vitalityData = props.data.map(point => point.vitality)\n  const dangerLineData = props.data.map(() => 20) // å±é™ºãƒ©ã‚¤ãƒ³ã¯20ã§å›ºå®š\n  \n  // è‰²ã®å‹•çš„è¨­å®šï¼ˆæ´»åŠ›ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ã¦ï¼‰\n  const borderColors = vitalityData.map(vitality => {\n    if (vitality >= 80) return 'rgb(34, 197, 94)'    // ç·‘\n    if (vitality >= 60) return 'rgb(59, 130, 246)'   // é’\n    if (vitality >= 40) return 'rgb(251, 191, 36)'   // é»„\n    if (vitality >= 20) return 'rgb(245, 101, 101)'  // ã‚ªãƒ¬ãƒ³ã‚¸\n    return 'rgb(239, 68, 68)'                        // èµ¤\n  })\n  \n  // ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯è‰²\n  const backgroundColors = vitalityData.map(vitality => {\n    if (vitality >= 80) return 'rgba(34, 197, 94, 0.1)'\n    if (vitality >= 60) return 'rgba(59, 130, 246, 0.1)'\n    if (vitality >= 40) return 'rgba(251, 191, 36, 0.1)'\n    if (vitality >= 20) return 'rgba(245, 101, 101, 0.1)'\n    return 'rgba(239, 68, 68, 0.1)'\n  })\n  \n  chartInstance.value.data.labels = labels\n  chartInstance.value.data.datasets[0].data = vitalityData\n  chartInstance.value.data.datasets[1].data = dangerLineData\n  \n  // æœ€æ–°ã®æ´»åŠ›ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ã¦ãƒ¡ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã®è‰²ã‚’è¨­å®š\n  const currentLevel = vitalityData[vitalityData.length - 1] || 0\n  if (currentLevel >= 80) {\n    chartInstance.value.data.datasets[0].borderColor = 'rgb(34, 197, 94)'\n    chartInstance.value.data.datasets[0].backgroundColor = 'rgba(34, 197, 94, 0.1)'\n  } else if (currentLevel >= 60) {\n    chartInstance.value.data.datasets[0].borderColor = 'rgb(59, 130, 246)'\n    chartInstance.value.data.datasets[0].backgroundColor = 'rgba(59, 130, 246, 0.1)'\n  } else if (currentLevel >= 40) {\n    chartInstance.value.data.datasets[0].borderColor = 'rgb(251, 191, 36)'\n    chartInstance.value.data.datasets[0].backgroundColor = 'rgba(251, 191, 36, 0.1)'\n  } else if (currentLevel >= 20) {\n    chartInstance.value.data.datasets[0].borderColor = 'rgb(245, 101, 101)'\n    chartInstance.value.data.datasets[0].backgroundColor = 'rgba(245, 101, 101, 0.1)'\n  } else {\n    chartInstance.value.data.datasets[0].borderColor = 'rgb(239, 68, 68)'\n    chartInstance.value.data.datasets[0].backgroundColor = 'rgba(239, 68, 68, 0.1)'\n  }\n  \n  chartInstance.value.update('active')\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®ç ´æ£„\nconst destroyChart = () => {\n  if (chartInstance.value) {\n    chartInstance.value.destroy()\n    chartInstance.value = null\n  }\n}\n\n// ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\nonMounted(() => {\n  initChart()\n  updateChart()\n})\n\nonUnmounted(() => {\n  destroyChart()\n})\n\n// ãƒ‡ãƒ¼ã‚¿å¤‰æ›´ã®ç›£è¦–\nwatch(() => props.data, () => {\n  updateChart()\n}, { deep: true })\n</script>\n\n<style scoped>\n.chart-wrapper {\n  @apply w-full h-full flex flex-col;\n}\n\n.chart-title {\n  @apply text-lg font-semibold text-white mb-2 flex items-center gap-2;\n}\n\n.chart-info {\n  @apply flex gap-4 mb-4 text-sm;\n}\n\n.info-item {\n  @apply px-3 py-1 bg-gray-700 rounded-full;\n}\n\n.info-item span {\n  @apply text-gray-200;\n}\n\n.chart-container {\n  @apply flex-1 min-h-0 relative;\n  height: 280px;\n}\n</style>","<template>\n  <div class=\"chart-wrapper\">\n    <h3 class=\"chart-title\">ğŸ¯ ã‚¹ãƒ†ãƒ¼ã‚¸åˆ¥åˆ°é”åˆ†æ</h3>\n    <div class=\"chart-container\">\n      <canvas ref=\"chartCanvas\"></canvas>\n    </div>\n    <div class=\"analysis-summary\">\n      <div v-for=\"(count, stage) in data\" :key=\"stage\" class=\"summary-item\">\n        <div class=\"stage-icon\">{{ getStageIcon(stage) }}</div>\n        <div class=\"stage-info\">\n          <div class=\"stage-name\">{{ getStageLabel(stage) }}</div>\n          <div class=\"stage-count\">{{ count }}å›åˆ°é”</div>\n          <div class=\"stage-percentage\">{{ getPercentage(count) }}%</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport {\n  ArcElement,\n  Chart,\n  Legend,\n  Tooltip\n} from 'chart.js'\n\n// Chart.jsã®ç™»éŒ²\nChart.register(ArcElement, Tooltip, Legend)\n\ninterface Props {\n  data: Record<string, number>\n}\n\nconst props = defineProps<Props>()\n\nconst chartCanvas = ref<HTMLCanvasElement>()\nconst chartInstance = ref<Chart | null>(null)\n\n// ã‚¹ãƒ†ãƒ¼ã‚¸ã®è¨­å®š\nconst STAGE_COLORS = {\n  youth: 'rgb(34, 197, 94)',\n  middle: 'rgb(251, 191, 36)', \n  fulfillment: 'rgb(168, 85, 247)'\n}\n\nconst STAGE_LABELS = {\n  youth: 'é’å¹´æœŸ',\n  middle: 'ä¸­å¹´æœŸ',\n  fulfillment: 'å……å®ŸæœŸ'\n}\n\nconst STAGE_ICONS = {\n  youth: 'ğŸŒ±',\n  middle: 'ğŸŒ³',\n  fulfillment: 'ğŸŒ¸'\n}\n\nconst totalCount = computed(() => {\n  return Object.values(props.data || {}).reduce((sum, count) => sum + count, 0)\n})\n\nconst getStageLabel = (stage: string): string => {\n  return STAGE_LABELS[stage as keyof typeof STAGE_LABELS] || stage\n}\n\nconst getStageIcon = (stage: string): string => {\n  return STAGE_ICONS[stage as keyof typeof STAGE_ICONS] || 'â­'\n}\n\nconst getPercentage = (count: number): string => {\n  if (totalCount.value === 0) return '0'\n  return ((count / totalCount.value) * 100).toFixed(1)\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®åˆæœŸåŒ–\nconst initChart = () => {\n  if (!chartCanvas.value || !props.data) return\n  \n  const ctx = chartCanvas.value.getContext('2d')\n  if (!ctx) return\n  \n  const stages = Object.keys(props.data)\n  const counts = Object.values(props.data)\n  const colors = stages.map(stage => STAGE_COLORS[stage as keyof typeof STAGE_COLORS] || 'rgb(107, 114, 128)')\n  const labels = stages.map(stage => getStageLabel(stage))\n  \n  chartInstance.value = new Chart(ctx, {\n    type: 'doughnut',\n    data: {\n      labels,\n      datasets: [\n        {\n          data: counts,\n          backgroundColor: colors.map(color => color.replace('rgb', 'rgba').replace(')', ', 0.8)')),\n          borderColor: colors,\n          borderWidth: 2,\n          hoverOffset: 4\n        }\n      ]\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        title: {\n          display: false\n        },\n        legend: {\n          display: false // ã‚«ã‚¹ã‚¿ãƒ ã‚µãƒãƒªãƒ¼ã‚’ä½¿ç”¨\n        },\n        tooltip: {\n          backgroundColor: 'rgba(17, 24, 39, 0.9)',\n          titleColor: 'white',\n          bodyColor: 'white',\n          borderColor: 'rgba(75, 85, 99, 0.5)',\n          borderWidth: 1,\n          callbacks: {\n            label: (context) => {\n              const label = context.label\n              const value = context.parsed\n              const percentage = ((value / totalCount.value) * 100).toFixed(1)\n              return `${label}: ${value}å› (${percentage}%)`\n            },\n            afterLabel: (context) => {\n              const stage = Object.keys(props.data)[context.dataIndex]\n              const difficulty = getDifficultyLevel(stage)\n              return `é›£æ˜“åº¦: ${difficulty}`\n            }\n          }\n        }\n      },\n      cutout: '60%',\n      elements: {\n        arc: {\n          borderWidth: 2\n        }\n      }\n    }\n  })\n  \n  // ä¸­å¤®ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’è¡¨ç¤º\n  addCenterText()\n}\n\n// ä¸­å¤®ãƒ†ã‚­ã‚¹ãƒˆã®è¿½åŠ \nconst addCenterText = () => {\n  if (!chartInstance.value) return\n  \n  const chart = chartInstance.value\n  const ctx = chart.ctx\n  \n  Chart.register({\n    id: 'centerText',\n    beforeDraw: (chart) => {\n      const { width, height, ctx } = chart\n      ctx.restore()\n      \n      const fontSize = (height / 180).toFixed(2)\n      ctx.font = `bold ${fontSize}em Arial`\n      ctx.textBaseline = 'middle'\n      ctx.fillStyle = 'white'\n      \n      const text = `ç·è¨ˆ\\n${totalCount.value}å›`\n      const textX = Math.round(width / 2)\n      const textY = height / 2\n      \n      const lines = text.split('\\n')\n      lines.forEach((line, index) => {\n        const lineHeight = parseInt(fontSize) * 20\n        const y = textY + (index - (lines.length - 1) / 2) * lineHeight\n        ctx.fillText(line, textX, y)\n      })\n      \n      ctx.save()\n    }\n  })\n}\n\n// é›£æ˜“åº¦ãƒ¬ãƒ™ãƒ«ã®å–å¾—\nconst getDifficultyLevel = (stage: string): string => {\n  const difficultyMap = {\n    youth: 'æ˜“',\n    middle: 'ä¸­',\n    fulfillment: 'é›£'\n  }\n  return difficultyMap[stage as keyof typeof difficultyMap] || 'ä¸æ˜'\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°\nconst updateChart = () => {\n  if (!chartInstance.value || !props.data) return\n  \n  const stages = Object.keys(props.data)\n  const counts = Object.values(props.data)\n  const colors = stages.map(stage => STAGE_COLORS[stage as keyof typeof STAGE_COLORS] || 'rgb(107, 114, 128)')\n  const labels = stages.map(stage => getStageLabel(stage))\n  \n  chartInstance.value.data.labels = labels\n  chartInstance.value.data.datasets[0].data = counts\n  chartInstance.value.data.datasets[0].backgroundColor = colors.map(color => \n    color.replace('rgb', 'rgba').replace(')', ', 0.8)')\n  )\n  chartInstance.value.data.datasets[0].borderColor = colors\n  \n  chartInstance.value.update('active')\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®ç ´æ£„\nconst destroyChart = () => {\n  if (chartInstance.value) {\n    chartInstance.value.destroy()\n    chartInstance.value = null\n  }\n}\n\n// ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\nonMounted(() => {\n  initChart()\n})\n\nonUnmounted(() => {\n  destroyChart()\n})\n\n// ãƒ‡ãƒ¼ã‚¿å¤‰æ›´ã®ç›£è¦–\nwatch(() => props.data, () => {\n  updateChart()\n}, { deep: true })\n</script>\n\n<style scoped>\n.chart-wrapper {\n  @apply w-full h-full flex flex-col;\n}\n\n.chart-title {\n  @apply text-lg font-semibold text-white mb-4 flex items-center gap-2;\n}\n\n.chart-container {\n  @apply flex-1 min-h-0 relative;\n  height: 250px;\n}\n\n.analysis-summary {\n  @apply space-y-3 mt-4;\n}\n\n.summary-item {\n  @apply flex items-center gap-3 p-3 bg-gray-700 rounded-lg;\n}\n\n.stage-icon {\n  @apply text-2xl;\n}\n\n.stage-info {\n  @apply flex-1;\n}\n\n.stage-name {\n  @apply text-white font-medium;\n}\n\n.stage-count {\n  @apply text-gray-300 text-sm;\n}\n\n.stage-percentage {\n  @apply text-blue-400 text-xs;\n}\n</style>","<template>\n  <div class=\"chart-wrapper\">\n    <h3 class=\"chart-title\">ğŸƒ ã‚«ãƒ¼ãƒ‰ä½¿ç”¨çµ±è¨ˆ</h3>\n    <div class=\"chart-controls\">\n      <select v-model=\"viewMode\" class=\"mode-selector\" @change=\"updateChart\">\n        <option value=\"type\">ã‚«ãƒ¼ãƒ‰ç¨®åˆ¥</option>\n        <option value=\"frequency\">ä½¿ç”¨é »åº¦</option>\n        <option value=\"effectiveness\">åŠ¹æœåˆ¥</option>\n      </select>\n    </div>\n    <div class=\"chart-container\">\n      <canvas ref=\"chartCanvas\"></canvas>\n    </div>\n    <div class=\"usage-details\">\n      <div class=\"detail-header\">\n        <span>è©³ç´°åˆ†æ</span>\n      </div>\n      <div class=\"detail-list\">\n        <div \n          v-for=\"(count, cardType) in sortedData\" \n          :key=\"cardType\"\n          class=\"detail-item\"\n        >\n          <div class=\"card-type\">\n            <span class=\"type-icon\">{{ getCardTypeIcon(cardType) }}</span>\n            <span class=\"type-name\">{{ getCardTypeName(cardType) }}</span>\n          </div>\n          <div class=\"usage-stats\">\n            <span class=\"usage-count\">{{ count }}å›</span>\n            <span class=\"usage-percentage\">{{ getUsagePercentage(count) }}%</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport {\n  ArcElement,\n  BarElement,\n  CategoryScale,\n  Chart,\n  Legend,\n  LinearScale,\n  Title,\n  Tooltip\n} from 'chart.js'\n\n// Chart.jsã®ç™»éŒ²\nChart.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  ArcElement,\n  Title,\n  Tooltip,\n  Legend\n)\n\ninterface Props {\n  data: Record<string, number>\n}\n\nconst props = defineProps<Props>()\n\nconst chartCanvas = ref<HTMLCanvasElement>()\nconst chartInstance = ref<Chart | null>(null)\nconst viewMode = ref<'type' | 'frequency' | 'effectiveness'>('type')\n\n// ã‚«ãƒ¼ãƒ‰ç¨®åˆ¥ã®è¨­å®š\nconst CARD_TYPE_CONFIG = {\n  life: { name: 'ãƒ©ã‚¤ãƒ•ã‚«ãƒ¼ãƒ‰', icon: 'ğŸ’«', color: 'rgb(34, 197, 94)' },\n  challenge: { name: 'ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚«ãƒ¼ãƒ‰', icon: 'âš”ï¸', color: 'rgb(239, 68, 68)' },\n  insurance: { name: 'ä¿é™ºã‚«ãƒ¼ãƒ‰', icon: 'ğŸ›¡ï¸', color: 'rgb(59, 130, 246)' },\n  dream: { name: 'å¤¢ã‚«ãƒ¼ãƒ‰', icon: 'âœ¨', color: 'rgb(168, 85, 247)' },\n  action: { name: 'ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚«ãƒ¼ãƒ‰', icon: 'ğŸ¯', color: 'rgb(251, 191, 36)' },\n  event: { name: 'ã‚¤ãƒ™ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰', icon: 'ğŸª', color: 'rgb(236, 72, 153)' }\n}\n\nconst totalUsage = computed(() => {\n  return Object.values(props.data || {}).reduce((sum, count) => sum + count, 0)\n})\n\nconst sortedData = computed(() => {\n  if (!props.data) return {}\n  \n  const entries = Object.entries(props.data)\n  \n  switch (viewMode.value) {\n    case 'frequency':\n      return Object.fromEntries(entries.sort(([,a], [,b]) => b - a))\n    case 'effectiveness':\n      // åŠ¹æœã®è¨ˆç®—ï¼ˆç°¡æ˜“ç‰ˆï¼‰\n      return Object.fromEntries(entries.sort(([typeA, countA], [typeB, countB]) => {\n        const effA = calculateEffectiveness(typeA, countA)\n        const effB = calculateEffectiveness(typeB, countB)\n        return effB - effA\n      }))\n    case 'type':\n    default:\n      return props.data\n  }\n})\n\nconst getCardTypeName = (cardType: string): string => {\n  return CARD_TYPE_CONFIG[cardType as keyof typeof CARD_TYPE_CONFIG]?.name || cardType\n}\n\nconst getCardTypeIcon = (cardType: string): string => {\n  return CARD_TYPE_CONFIG[cardType as keyof typeof CARD_TYPE_CONFIG]?.icon || 'ğŸ´'\n}\n\nconst getCardTypeColor = (cardType: string): string => {\n  return CARD_TYPE_CONFIG[cardType as keyof typeof CARD_TYPE_CONFIG]?.color || 'rgb(107, 114, 128)'\n}\n\nconst getUsagePercentage = (count: number): string => {\n  if (totalUsage.value === 0) return '0'\n  return ((count / totalUsage.value) * 100).toFixed(1)\n}\n\nconst calculateEffectiveness = (cardType: string, count: number): number => {\n  // ç°¡æ˜“çš„ãªåŠ¹æœè¨ˆç®—\n  const typeMultipliers = {\n    life: 1.2,\n    insurance: 1.1,\n    dream: 1.3,\n    action: 1.0,\n    challenge: 0.8,\n    event: 0.9\n  }\n  \n  const multiplier = typeMultipliers[cardType as keyof typeof typeMultipliers] || 1.0\n  return count * multiplier\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®åˆæœŸåŒ–\nconst initChart = () => {\n  if (!chartCanvas.value || !props.data) return\n  \n  const ctx = chartCanvas.value.getContext('2d')\n  if (!ctx) return\n  \n  const chartType = viewMode.value === 'type' ? 'doughnut' : 'bar'\n  \n  chartInstance.value = new Chart(ctx, {\n    type: chartType,\n    data: {\n      labels: [],\n      datasets: [{\n        label: 'ã‚«ãƒ¼ãƒ‰ä½¿ç”¨å›æ•°',\n        data: [],\n        backgroundColor: [],\n        borderColor: [],\n        borderWidth: 2\n      }]\n    },\n    options: getChartOptions()\n  })\n  \n  updateChart()\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®å–å¾—\nconst getChartOptions = () => {\n  const baseOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      title: {\n        display: false\n      },\n      legend: {\n        display: viewMode.value === 'type',\n        position: 'bottom' as const,\n        labels: {\n          color: 'white',\n          usePointStyle: true,\n          padding: 20\n        }\n      },\n      tooltip: {\n        backgroundColor: 'rgba(17, 24, 39, 0.9)',\n        titleColor: 'white',\n        bodyColor: 'white',\n        borderColor: 'rgba(75, 85, 99, 0.5)',\n        borderWidth: 1,\n        callbacks: {\n          label: (context: any) => {\n            const cardType = Object.keys(sortedData.value)[context.dataIndex]\n            const count = context.parsed || context.parsed.y\n            const percentage = getUsagePercentage(count)\n            const effectiveness = calculateEffectiveness(cardType, count)\n            \n            return [\n              `${getCardTypeName(cardType)}: ${count}å›`,\n              `ä½¿ç”¨ç‡: ${percentage}%`,\n              `åŠ¹æœåº¦: ${effectiveness.toFixed(1)}`\n            ]\n          }\n        }\n      }\n    }\n  }\n  \n  if (viewMode.value === 'type') {\n    return {\n      ...baseOptions,\n      cutout: '50%',\n      elements: {\n        arc: {\n          borderWidth: 2\n        }\n      }\n    }\n  } \n    return {\n      ...baseOptions,\n      scales: {\n        x: {\n          grid: {\n            display: false\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)',\n            maxRotation: 45\n          }\n        },\n        y: {\n          beginAtZero: true,\n          grid: {\n            color: 'rgba(75, 85, 99, 0.3)'\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)'\n          },\n          title: {\n            display: true,\n            text: viewMode.value === 'frequency' ? 'ä½¿ç”¨å›æ•°' : 'åŠ¹æœåº¦',\n            color: 'rgba(209, 213, 219, 0.8)'\n          }\n        }\n      },\n      elements: {\n        bar: {\n          borderRadius: 4\n        }\n      }\n    }\n  \n}\n\n// ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°\nconst updateChart = () => {\n  if (!chartInstance.value || !props.data) return\n  \n  const cardTypes = Object.keys(sortedData.value)\n  const counts = Object.values(sortedData.value)\n  const colors = cardTypes.map(type => getCardTypeColor(type))\n  const labels = cardTypes.map(type => getCardTypeName(type))\n  \n  // ãƒ‡ãƒ¼ã‚¿ã«å¿œã˜ãŸå€¤ã®è¨ˆç®—\n  let chartData = counts\n  if (viewMode.value === 'effectiveness') {\n    chartData = cardTypes.map((type, index) => calculateEffectiveness(type, counts[index]))\n  }\n  \n  chartInstance.value.data.labels = labels\n  chartInstance.value.data.datasets[0].data = chartData\n  chartInstance.value.data.datasets[0].backgroundColor = colors.map(color => \n    color.replace('rgb', 'rgba').replace(')', ', 0.7)')\n  )\n  chartInstance.value.data.datasets[0].borderColor = colors\n  \n  // ãƒãƒ£ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã®å¤‰æ›´\n  const newType = viewMode.value === 'type' ? 'doughnut' : 'bar'\n  if (chartInstance.value.config.type !== newType) {\n    chartInstance.value.destroy()\n    initChart()\n    return\n  }\n  \n  chartInstance.value.options = getChartOptions()\n  chartInstance.value.update('active')\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®ç ´æ£„\nconst destroyChart = () => {\n  if (chartInstance.value) {\n    chartInstance.value.destroy()\n    chartInstance.value = null\n  }\n}\n\n// ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\nonMounted(() => {\n  initChart()\n})\n\nonUnmounted(() => {\n  destroyChart()\n})\n\n// ãƒ‡ãƒ¼ã‚¿ã¨ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´ã®ç›£è¦–\nwatch(() => props.data, () => {\n  updateChart()\n}, { deep: true })\n\nwatch(() => viewMode.value, () => {\n  updateChart()\n})\n</script>\n\n<style scoped>\n.chart-wrapper {\n  @apply w-full h-full flex flex-col;\n}\n\n.chart-title {\n  @apply text-lg font-semibold text-white mb-2 flex items-center gap-2;\n}\n\n.chart-controls {\n  @apply flex justify-end mb-4;\n}\n\n.mode-selector {\n  @apply px-3 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm;\n}\n\n.chart-container {\n  @apply flex-1 min-h-0 relative;\n  height: 300px;\n}\n\n.usage-details {\n  @apply mt-4 bg-gray-700 rounded-lg p-4;\n}\n\n.detail-header {\n  @apply text-white font-medium mb-3 pb-2 border-b border-gray-600;\n}\n\n.detail-list {\n  @apply space-y-2 max-h-32 overflow-y-auto;\n}\n\n.detail-item {\n  @apply flex justify-between items-center py-2;\n}\n\n.card-type {\n  @apply flex items-center gap-2;\n}\n\n.type-icon {\n  @apply text-lg;\n}\n\n.type-name {\n  @apply text-gray-200 text-sm;\n}\n\n.usage-stats {\n  @apply flex gap-3 text-sm;\n}\n\n.usage-count {\n  @apply text-white font-medium;\n}\n\n.usage-percentage {\n  @apply text-blue-400;\n}\n</style>","<template>\n  <div class=\"chart-wrapper\">\n    <h3 class=\"chart-title\">ğŸ§­ æˆ¦ç•¥ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ</h3>\n    <div class=\"chart-container\">\n      <canvas ref=\"chartCanvas\"></canvas>\n    </div>\n    <div class=\"patterns-analysis\">\n      <div class=\"pattern-list\">\n        <div \n          v-for=\"pattern in sortedPatterns\" \n          :key=\"`${pattern.situation}_${pattern.choice}`\"\n          class=\"pattern-item\"\n          :class=\"{ 'high-success': pattern.successRate >= 0.7, 'low-success': pattern.successRate < 0.4 }\"\n        >\n          <div class=\"pattern-header\">\n            <div class=\"pattern-situation\">{{ formatSituation(pattern.situation) }}</div>\n            <div class=\"pattern-choice\">{{ formatChoice(pattern.choice) }}</div>\n          </div>\n          <div class=\"pattern-stats\">\n            <div class=\"stat\">\n              <span class=\"label\">é »åº¦:</span>\n              <span class=\"value\">{{ pattern.frequency }}å›</span>\n            </div>\n            <div class=\"stat\">\n              <span class=\"label\">æˆåŠŸç‡:</span>\n              <span class=\"value\">{{ (pattern.successRate * 100).toFixed(1) }}%</span>\n            </div>\n            <div class=\"pattern-recommendation\">\n              {{ getRecommendation(pattern) }}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport {\n  CategoryScale,\n  Chart,\n  Legend,\n  LinearScale,\n  LineElement,\n  PointElement,\n  Title,\n  Tooltip\n} from 'chart.js'\n\n// Chart.jsã®ç™»éŒ²\nChart.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n)\n\ninterface DecisionPattern {\n  situation: string\n  choice: string\n  frequency: number\n  successRate: number\n}\n\ninterface Props {\n  data: DecisionPattern[]\n}\n\nconst props = defineProps<Props>()\n\nconst chartCanvas = ref<HTMLCanvasElement>()\nconst chartInstance = ref<Chart | null>(null)\n\n// è¨ˆç®—ã•ã‚ŒãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£\nconst sortedPatterns = computed(() => {\n  return [...(props.data || [])].sort((a, b) => {\n    // æˆåŠŸç‡ã®é«˜ã„é †ã€åŒã˜ãªã‚‰é »åº¦ã®é«˜ã„é †\n    if (b.successRate !== a.successRate) {\n      return b.successRate - a.successRate\n    }\n    return b.frequency - a.frequency\n  })\n})\n\n// ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆé–¢æ•°\nconst formatSituation = (situation: string): string => {\n  const situationMap: Record<string, string> = {\n    'youth_high_vitality': 'é’å¹´æœŸãƒ»é«˜æ´»åŠ›',\n    'youth_low_vitality': 'é’å¹´æœŸãƒ»ä½æ´»åŠ›',\n    'middle_high_vitality': 'ä¸­å¹´æœŸãƒ»é«˜æ´»åŠ›',\n    'middle_low_vitality': 'ä¸­å¹´æœŸãƒ»ä½æ´»åŠ›',\n    'fulfillment_high_vitality': 'å……å®ŸæœŸãƒ»é«˜æ´»åŠ›',\n    'fulfillment_low_vitality': 'å……å®ŸæœŸãƒ»ä½æ´»åŠ›'\n  }\n  \n  return situationMap[situation] || situation\n}\n\nconst formatChoice = (choice: string): string => {\n  const choiceMap: Record<string, string> = {\n    'with_insurance': 'ä¿é™ºã‚ã‚Š',\n    'no_insurance': 'ä¿é™ºãªã—',\n    'aggressive': 'ç©æ¥µçš„',\n    'conservative': 'ä¿å®ˆçš„',\n    'balanced': 'ãƒãƒ©ãƒ³ã‚¹å‹'\n  }\n  \n  return choiceMap[choice] || choice\n}\n\nconst getRecommendation = (pattern: DecisionPattern): string => {\n  if (pattern.successRate >= 0.8) {\n    return 'ğŸ‘ å„ªç§€ãªæˆ¦ç•¥ã§ã™'\n  } if (pattern.successRate >= 0.6) {\n    return 'ğŸ˜Š è‰¯å¥½ãªæˆ¦ç•¥ã§ã™'\n  } if (pattern.successRate >= 0.4) {\n    return 'ğŸ˜ æ”¹å–„ã®ä½™åœ°ãŒã‚ã‚Šã¾ã™'\n  } \n    return 'ğŸ¤” æˆ¦ç•¥ã®è¦‹ç›´ã—ã‚’æ¤œè¨'\n  \n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®åˆæœŸåŒ–\nconst initChart = () => {\n  if (!chartCanvas.value || !props.data || props.data.length === 0) return\n  \n  const ctx = chartCanvas.value.getContext('2d')\n  if (!ctx) return\n  \n  // æ•£å¸ƒå›³ã§ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¡¨ç¤ºï¼ˆé »åº¦ vs æˆåŠŸç‡ï¼‰\n  const datasets = createDatasets()\n  \n  chartInstance.value = new Chart(ctx, {\n    type: 'scatter',\n    data: {\n      datasets\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        title: {\n          display: false\n        },\n        legend: {\n          display: true,\n          position: 'top',\n          labels: {\n            color: 'white',\n            usePointStyle: true\n          }\n        },\n        tooltip: {\n          backgroundColor: 'rgba(17, 24, 39, 0.9)',\n          titleColor: 'white',\n          bodyColor: 'white',\n          borderColor: 'rgba(75, 85, 99, 0.5)',\n          borderWidth: 1,\n          callbacks: {\n            title: () => '',\n            label: (context) => {\n              const pattern = props.data[context.dataIndex]\n              return [\n                `çŠ¶æ³: ${formatSituation(pattern.situation)}`,\n                `é¸æŠ: ${formatChoice(pattern.choice)}`,\n                `é »åº¦: ${pattern.frequency}å›`,\n                `æˆåŠŸç‡: ${(pattern.successRate * 100).toFixed(1)}%`\n              ]\n            }\n          }\n        }\n      },\n      scales: {\n        x: {\n          display: true,\n          grid: {\n            color: 'rgba(75, 85, 99, 0.3)'\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)'\n          },\n          title: {\n            display: true,\n            text: 'ä½¿ç”¨é »åº¦',\n            color: 'rgba(209, 213, 219, 0.8)'\n          }\n        },\n        y: {\n          beginAtZero: true,\n          max: 1,\n          grid: {\n            color: 'rgba(75, 85, 99, 0.3)'\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)',\n            callback: (value) => `${(Number(value) * 100).toFixed(0)}%`\n          },\n          title: {\n            display: true,\n            text: 'æˆåŠŸç‡',\n            color: 'rgba(209, 213, 219, 0.8)'\n          }\n        }\n      },\n      elements: {\n        point: {\n          radius: 8,\n          hoverRadius: 10\n        }\n      }\n    }\n  })\n}\n\n// ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ä½œæˆ\nconst createDatasets = () => {\n  if (!props.data) return []\n  \n  // çŠ¶æ³åˆ¥ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–\n  const situationGroups: Record<string, DecisionPattern[]> = {}\n  props.data.forEach(pattern => {\n    const situation = pattern.situation.split('_')[0] // youth, middle, fulfillment\n    if (!situationGroups[situation]) {\n      situationGroups[situation] = []\n    }\n    situationGroups[situation].push(pattern)\n  })\n  \n  const colors = {\n    youth: 'rgb(34, 197, 94)',\n    middle: 'rgb(251, 191, 36)',\n    fulfillment: 'rgb(168, 85, 247)'\n  }\n  \n  return Object.entries(situationGroups).map(([situation, patterns]) => ({\n    label: formatSituation(`${situation}_high_vitality`).split('ãƒ»')[0], // ã‚¹ãƒ†ãƒ¼ã‚¸åã®ã¿\n    data: patterns.map(pattern => ({\n      x: pattern.frequency,\n      y: pattern.successRate\n    })),\n    backgroundColor: colors[situation as keyof typeof colors] || 'rgb(107, 114, 128)',\n    borderColor: colors[situation as keyof typeof colors] || 'rgb(107, 114, 128)',\n    pointRadius: patterns.map(pattern => Math.max(6, pattern.frequency / 2)), // é »åº¦ã«å¿œã˜ã¦ã‚µã‚¤ã‚ºèª¿æ•´\n    pointHoverRadius: patterns.map(pattern => Math.max(8, pattern.frequency / 2 + 2))\n  }))\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°\nconst updateChart = () => {\n  if (!chartInstance.value || !props.data) return\n  \n  const datasets = createDatasets()\n  chartInstance.value.data.datasets = datasets\n  chartInstance.value.update('active')\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®ç ´æ£„\nconst destroyChart = () => {\n  if (chartInstance.value) {\n    chartInstance.value.destroy()\n    chartInstance.value = null\n  }\n}\n\n// ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\nonMounted(() => {\n  initChart()\n})\n\nonUnmounted(() => {\n  destroyChart()\n})\n\n// ãƒ‡ãƒ¼ã‚¿å¤‰æ›´ã®ç›£è¦–\nwatch(() => props.data, () => {\n  updateChart()\n}, { deep: true })\n</script>\n\n<style scoped>\n.chart-wrapper {\n  @apply w-full h-full flex flex-col;\n}\n\n.chart-title {\n  @apply text-lg font-semibold text-white mb-4 flex items-center gap-2;\n}\n\n.chart-container {\n  @apply flex-1 min-h-0 relative;\n  height: 300px;\n}\n\n.patterns-analysis {\n  @apply mt-4;\n}\n\n.pattern-list {\n  @apply space-y-3 max-h-40 overflow-y-auto;\n}\n\n.pattern-item {\n  @apply p-3 bg-gray-700 rounded-lg border-l-4 border-gray-500;\n}\n\n.pattern-item.high-success {\n  @apply border-green-500;\n}\n\n.pattern-item.low-success {\n  @apply border-red-500;\n}\n\n.pattern-header {\n  @apply flex justify-between items-center mb-2;\n}\n\n.pattern-situation {\n  @apply text-white font-medium;\n}\n\n.pattern-choice {\n  @apply text-blue-400 text-sm;\n}\n\n.pattern-stats {\n  @apply flex justify-between items-center text-sm;\n}\n\n.stat {\n  @apply flex gap-1;\n}\n\n.stat .label {\n  @apply text-gray-300;\n}\n\n.stat .value {\n  @apply text-white font-medium;\n}\n\n.pattern-recommendation {\n  @apply text-xs;\n}\n</style>","<template>\n  <div class=\"chart-wrapper\">\n    <h3 class=\"chart-title\">â±ï¸ æ±ºå®šæ™‚é–“åˆ†æ</h3>\n    <div class=\"chart-controls\">\n      <select v-model=\"analysisMode\" class=\"mode-selector\" @change=\"updateChart\">\n        <option value=\"timeline\">æ™‚ç³»åˆ—å¤‰åŒ–</option>\n        <option value=\"distribution\">åˆ†å¸ƒåˆ†æ</option>\n        <option value=\"average\">å¹³å‡æ¨ç§»</option>\n      </select>\n    </div>\n    <div class=\"chart-container\">\n      <canvas ref=\"chartCanvas\"></canvas>\n    </div>\n    <div class=\"decision-insights\">\n      <div class=\"insight-grid\">\n        <div class=\"insight-item\">\n          <div class=\"insight-icon\">ğŸ¯</div>\n          <div class=\"insight-content\">\n            <div class=\"insight-label\">å¹³å‡æ±ºå®šæ™‚é–“</div>\n            <div class=\"insight-value\">{{ averageDecisionTime.toFixed(1) }}ç§’</div>\n          </div>\n        </div>\n        <div class=\"insight-item\">\n          <div class=\"insight-icon\">âš¡</div>\n          <div class=\"insight-content\">\n            <div class=\"insight-label\">æœ€é€Ÿæ±ºå®š</div>\n            <div class=\"insight-value\">{{ fastestDecision.toFixed(1) }}ç§’</div>\n          </div>\n        </div>\n        <div class=\"insight-item\">\n          <div class=\"insight-icon\">ğŸ¤”</div>\n          <div class=\"insight-content\">\n            <div class=\"insight-label\">æœ€é•·æ€è€ƒ</div>\n            <div class=\"insight-value\">{{ slowestDecision.toFixed(1) }}ç§’</div>\n          </div>\n        </div>\n        <div class=\"insight-item\">\n          <div class=\"insight-icon\">ğŸ“ˆ</div>\n          <div class=\"insight-content\">\n            <div class=\"insight-label\">æ±ºå®šãƒˆãƒ¬ãƒ³ãƒ‰</div>\n            <div class=\"insight-value\">{{ decisionTrend }}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"analysis-summary\">\n        <div class=\"summary-title\">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ</div>\n        <div class=\"summary-content\">{{ performanceAnalysis }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport {\n  BarElement,\n  CategoryScale,\n  Chart,\n  Filler,\n  Legend,\n  LinearScale,\n  LineElement,\n  PointElement,\n  Title,\n  Tooltip\n} from 'chart.js'\n\n// Chart.jsã®ç™»éŒ²\nChart.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n)\n\ninterface DecisionTimeData {\n  turn: number\n  decisionTime: number\n}\n\ninterface Props {\n  data: DecisionTimeData[]\n}\n\nconst props = defineProps<Props>()\n\nconst chartCanvas = ref<HTMLCanvasElement>()\nconst chartInstance = ref<Chart | null>(null)\nconst analysisMode = ref<'timeline' | 'distribution' | 'average'>('timeline')\n\n// è¨ˆç®—ã•ã‚ŒãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£\nconst averageDecisionTime = computed(() => {\n  if (!props.data || props.data.length === 0) return 0\n  const total = props.data.reduce((sum, item) => sum + item.decisionTime, 0)\n  return total / props.data.length\n})\n\nconst fastestDecision = computed(() => {\n  if (!props.data || props.data.length === 0) return 0\n  return Math.min(...props.data.map(item => item.decisionTime))\n})\n\nconst slowestDecision = computed(() => {\n  if (!props.data || props.data.length === 0) return 0\n  return Math.max(...props.data.map(item => item.decisionTime))\n})\n\nconst decisionTrend = computed(() => {\n  if (!props.data || props.data.length < 2) return 'ä¸æ˜'\n  \n  const firstHalf = props.data.slice(0, Math.floor(props.data.length / 2))\n  const secondHalf = props.data.slice(Math.floor(props.data.length / 2))\n  \n  const firstAvg = firstHalf.reduce((sum, item) => sum + item.decisionTime, 0) / firstHalf.length\n  const secondAvg = secondHalf.reduce((sum, item) => sum + item.decisionTime, 0) / secondHalf.length\n  \n  const difference = secondAvg - firstAvg\n  if (Math.abs(difference) < 0.5) return 'å®‰å®š'\n  return difference > 0 ? 'æ…é‡åŒ–' : 'è¿…é€ŸåŒ–'\n})\n\nconst performanceAnalysis = computed(() => {\n  if (!props.data || props.data.length === 0) return 'ãƒ‡ãƒ¼ã‚¿ãŒä¸è¶³ã—ã¦ã„ã¾ã™'\n  \n  const avg = averageDecisionTime.value\n  \n  if (avg < 3) {\n    return 'éå¸¸ã«è¿…é€Ÿãªæ±ºå®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ç›´æ„Ÿçš„ãªãƒ—ãƒ¬ã‚¤ã‚¹ã‚¿ã‚¤ãƒ«ã§ã™ã€‚'\n  } if (avg < 8) {\n    return 'ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸæ±ºå®šæ™‚é–“ã§ã™ã€‚é©åº¦ã«è€ƒãˆã¦ãƒ—ãƒ¬ã‚¤ã—ã¦ã„ã¾ã™ã€‚'\n  } if (avg < 15) {\n    return 'æ…é‡ã«è€ƒãˆã¦ã‹ã‚‰ãƒ—ãƒ¬ã‚¤ã—ã¦ã„ã¾ã™ã€‚æˆ¦ç•¥çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã™ã€‚'\n  } \n    return 'éå¸¸ã«æ…é‡ãªãƒ—ãƒ¬ã‚¤ã‚¹ã‚¿ã‚¤ãƒ«ã§ã™ã€‚ã‚ˆã‚Šç´ æ—©ã„æ±ºå®šã‚‚æ¤œè¨ã—ã¦ã¿ã¦ãã ã•ã„ã€‚'\n  \n})\n\n// åˆ†å¸ƒãƒ‡ãƒ¼ã‚¿ã®ç”Ÿæˆ\nconst distributionData = computed(() => {\n  if (!props.data || props.data.length === 0) return []\n  \n  const bins = [0, 2, 5, 10, 15, 20, 30, Infinity]\n  const labels = ['0-2ç§’', '2-5ç§’', '5-10ç§’', '10-15ç§’', '15-20ç§’', '20-30ç§’', '30ç§’ä»¥ä¸Š']\n  \n  const distribution = bins.slice(0, -1).map((min, index) => {\n    const max = bins[index + 1]\n    const count = props.data.filter(item => \n      item.decisionTime >= min && item.decisionTime < max\n    ).length\n    return { label: labels[index], count }\n  })\n  \n  return distribution\n})\n\n// ç§»å‹•å¹³å‡ãƒ‡ãƒ¼ã‚¿ã®ç”Ÿæˆ\nconst movingAverageData = computed(() => {\n  if (!props.data || props.data.length < 3) return []\n  \n  const windowSize = 3\n  const result = []\n  \n  for (let i = windowSize - 1; i < props.data.length; i++) {\n    const window = props.data.slice(i - windowSize + 1, i + 1)\n    const average = window.reduce((sum, item) => sum + item.decisionTime, 0) / windowSize\n    result.push({\n      turn: props.data[i].turn,\n      average\n    })\n  }\n  \n  return result\n})\n\n// ãƒãƒ£ãƒ¼ãƒˆã®åˆæœŸåŒ–\nconst initChart = () => {\n  if (!chartCanvas.value || !props.data || props.data.length === 0) return\n  \n  const ctx = chartCanvas.value.getContext('2d')\n  if (!ctx) return\n  \n  chartInstance.value = new Chart(ctx, {\n    type: getChartType(),\n    data: getChartData(),\n    options: getChartOptions()\n  })\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã®å–å¾—\nconst getChartType = () => {\n  switch (analysisMode.value) {\n    case 'distribution':\n      return 'bar'\n    case 'average':\n    case 'timeline':\n    default:\n      return 'line'\n  }\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®å–å¾—\nconst getChartData = () => {\n  switch (analysisMode.value) {\n    case 'distribution':\n      return {\n        labels: distributionData.value.map(item => item.label),\n        datasets: [{\n          label: 'æ±ºå®šå›æ•°',\n          data: distributionData.value.map(item => item.count),\n          backgroundColor: 'rgba(59, 130, 246, 0.6)',\n          borderColor: 'rgb(59, 130, 246)',\n          borderWidth: 2,\n          borderRadius: 4\n        }]\n      }\n      \n    case 'average':\n      return {\n        labels: movingAverageData.value.map(item => `ã‚¿ãƒ¼ãƒ³${item.turn}`),\n        datasets: [{\n          label: 'ç§»å‹•å¹³å‡ï¼ˆ3ã‚¿ãƒ¼ãƒ³ï¼‰',\n          data: movingAverageData.value.map(item => item.average),\n          borderColor: 'rgb(34, 197, 94)',\n          backgroundColor: 'rgba(34, 197, 94, 0.1)',\n          fill: true,\n          tension: 0.4,\n          pointBackgroundColor: 'rgb(34, 197, 94)',\n          pointBorderColor: 'white',\n          pointBorderWidth: 2\n        }]\n      }\n      \n    case 'timeline':\n    default:\n      return {\n        labels: props.data.map(item => `ã‚¿ãƒ¼ãƒ³${item.turn}`),\n        datasets: [\n          {\n            label: 'æ±ºå®šæ™‚é–“',\n            data: props.data.map(item => item.decisionTime),\n            borderColor: 'rgb(168, 85, 247)',\n            backgroundColor: 'rgba(168, 85, 247, 0.1)',\n            fill: true,\n            tension: 0.4,\n            pointBackgroundColor: 'rgb(168, 85, 247)',\n            pointBorderColor: 'white',\n            pointBorderWidth: 2\n          },\n          {\n            label: 'å¹³å‡ãƒ©ã‚¤ãƒ³',\n            data: props.data.map(() => averageDecisionTime.value),\n            borderColor: 'rgb(251, 191, 36)',\n            backgroundColor: 'transparent',\n            borderDash: [5, 5],\n            pointRadius: 0,\n            tension: 0\n          }\n        ]\n      }\n  }\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®å–å¾—\nconst getChartOptions = () => {\n  const baseOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      title: {\n        display: false\n      },\n      legend: {\n        display: true,\n        position: 'top' as const,\n        labels: {\n          color: 'white',\n          usePointStyle: true\n        }\n      },\n      tooltip: {\n        backgroundColor: 'rgba(17, 24, 39, 0.9)',\n        titleColor: 'white',\n        bodyColor: 'white',\n        borderColor: 'rgba(75, 85, 99, 0.5)',\n        borderWidth: 1\n      }\n    },\n    scales: {\n      x: {\n        grid: {\n          color: 'rgba(75, 85, 99, 0.3)'\n        },\n        ticks: {\n          color: 'rgba(209, 213, 219, 0.8)'\n        }\n      },\n      y: {\n        beginAtZero: true,\n        grid: {\n          color: 'rgba(75, 85, 99, 0.3)'\n        },\n        ticks: {\n          color: 'rgba(209, 213, 219, 0.8)',\n          callback: (value: any) => {\n            return analysisMode.value === 'distribution' \n              ? `${value}å›`\n              : `${value}ç§’`\n          }\n        },\n        title: {\n          display: true,\n          text: analysisMode.value === 'distribution' ? 'æ±ºå®šå›æ•°' : 'æ™‚é–“ï¼ˆç§’ï¼‰',\n          color: 'rgba(209, 213, 219, 0.8)'\n        }\n      }\n    }\n  }\n  \n  if (analysisMode.value !== 'distribution') {\n    return {\n      ...baseOptions,\n      elements: {\n        point: {\n          radius: 4,\n          hoverRadius: 6\n        }\n      }\n    }\n  }\n  \n  return baseOptions\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°\nconst updateChart = () => {\n  if (!chartInstance.value) {\n    initChart()\n    return\n  }\n  \n  const newType = getChartType()\n  if (chartInstance.value.config.type !== newType) {\n    chartInstance.value.destroy()\n    initChart()\n    return\n  }\n  \n  chartInstance.value.data = getChartData()\n  chartInstance.value.options = getChartOptions()\n  chartInstance.value.update('active')\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®ç ´æ£„\nconst destroyChart = () => {\n  if (chartInstance.value) {\n    chartInstance.value.destroy()\n    chartInstance.value = null\n  }\n}\n\n// ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\nonMounted(() => {\n  initChart()\n})\n\nonUnmounted(() => {\n  destroyChart()\n})\n\n// ãƒ‡ãƒ¼ã‚¿ã¨ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´ã®ç›£è¦–\nwatch(() => props.data, () => {\n  updateChart()\n}, { deep: true })\n\nwatch(() => analysisMode.value, () => {\n  updateChart()\n})\n</script>\n\n<style scoped>\n.chart-wrapper {\n  @apply w-full h-full flex flex-col;\n}\n\n.chart-title {\n  @apply text-lg font-semibold text-white mb-2 flex items-center gap-2;\n}\n\n.chart-controls {\n  @apply flex justify-end mb-4;\n}\n\n.mode-selector {\n  @apply px-3 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm;\n}\n\n.chart-container {\n  @apply flex-1 min-h-0 relative;\n  height: 250px;\n}\n\n.decision-insights {\n  @apply mt-4 space-y-4;\n}\n\n.insight-grid {\n  @apply grid grid-cols-2 lg:grid-cols-4 gap-3;\n}\n\n.insight-item {\n  @apply flex items-center gap-3 p-3 bg-gray-700 rounded-lg;\n}\n\n.insight-icon {\n  @apply text-2xl;\n}\n\n.insight-content {\n  @apply flex-1;\n}\n\n.insight-label {\n  @apply text-gray-300 text-xs;\n}\n\n.insight-value {\n  @apply text-white font-bold text-lg;\n}\n\n.analysis-summary {\n  @apply p-4 bg-gray-700 rounded-lg;\n}\n\n.summary-title {\n  @apply text-white font-medium mb-2;\n}\n\n.summary-content {\n  @apply text-gray-300 text-sm leading-relaxed;\n}\n</style>","<template>\n  <div class=\"chart-wrapper\">\n    <h3 class=\"chart-title\">\n      ğŸ’— ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ´»åŠ›å¤‰å‹•\n      <span class=\"live-indicator\">ğŸ”´ LIVE</span>\n    </h3>\n    <div class=\"chart-container\">\n      <canvas ref=\"chartCanvas\"></canvas>\n    </div>\n    <div class=\"live-stats\">\n      <div class=\"stat-item\">\n        <span class=\"label\">ç¾åœ¨æ´»åŠ›:</span>\n        <span class=\"value\" :class=\"getVitalityClass(currentVitality)\">{{ currentVitality }}</span>\n      </div>\n      <div class=\"stat-item\">\n        <span class=\"label\">å¤‰åŒ–é‡:</span>\n        <span class=\"value\" :class=\"getChangeClass(vitalityChange)\">\n          {{ vitalityChange > 0 ? '+' : '' }}{{ vitalityChange }}\n        </span>\n      </div>\n      <div class=\"stat-item\">\n        <span class=\"label\">å±é™ºåº¦:</span>\n        <span class=\"value\" :class=\"getRiskClass(riskLevel)\">{{ riskLevel }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport {\n  CategoryScale,\n  Chart,\n  Filler,\n  Legend,\n  LinearScale,\n  LineElement,\n  PointElement,\n  Title,\n  Tooltip\n} from 'chart.js'\n\n// Chart.jsã®ç™»éŒ²\nChart.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n)\n\ninterface VitalityPoint {\n  turn: number\n  vitality: number\n}\n\ninterface Props {\n  data: VitalityPoint[]\n  autoUpdate?: boolean\n  updateInterval?: number\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  autoUpdate: true,\n  updateInterval: 1000 // 1ç§’\n})\n\nconst chartCanvas = ref<HTMLCanvasElement>()\nconst chartInstance = ref<Chart | null>(null)\nlet updateTimer: number | null = null\n\n// è¨ˆç®—ã•ã‚ŒãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£\nconst currentVitality = computed(() => {\n  if (!props.data || props.data.length === 0) return 0\n  return props.data[props.data.length - 1].vitality\n})\n\nconst vitalityChange = computed(() => {\n  if (!props.data || props.data.length < 2) return 0\n  const current = props.data[props.data.length - 1].vitality\n  const previous = props.data[props.data.length - 2].vitality\n  return current - previous\n})\n\nconst riskLevel = computed(() => {\n  const vitality = currentVitality.value\n  if (vitality >= 80) return 'å®‰å…¨'\n  if (vitality >= 60) return 'æ³¨æ„'\n  if (vitality >= 40) return 'è­¦æˆ’'\n  if (vitality >= 20) return 'å±é™º'\n  return 'æ¥µå±é™º'\n})\n\n// ã‚¹ã‚¿ã‚¤ãƒ«ã‚¯ãƒ©ã‚¹ã®å–å¾—\nconst getVitalityClass = (vitality: number): string => {\n  if (vitality >= 80) return 'text-green-400'\n  if (vitality >= 60) return 'text-blue-400'\n  if (vitality >= 40) return 'text-yellow-400'\n  if (vitality >= 20) return 'text-orange-400'\n  return 'text-red-400'\n}\n\nconst getChangeClass = (change: number): string => {\n  if (change > 0) return 'text-green-400'\n  if (change < 0) return 'text-red-400'\n  return 'text-gray-400'\n}\n\nconst getRiskClass = (risk: string): string => {\n  const riskColors: Record<string, string> = {\n    'å®‰å…¨': 'text-green-400',\n    'æ³¨æ„': 'text-blue-400',\n    'è­¦æˆ’': 'text-yellow-400',\n    'å±é™º': 'text-orange-400',\n    'æ¥µå±é™º': 'text-red-400 animate-pulse'\n  }\n  return riskColors[risk] || 'text-gray-400'\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®åˆæœŸåŒ–\nconst initChart = () => {\n  if (!chartCanvas.value) return\n  \n  const ctx = chartCanvas.value.getContext('2d')\n  if (!ctx) return\n  \n  chartInstance.value = new Chart(ctx, {\n    type: 'line',\n    data: {\n      labels: [],\n      datasets: [\n        {\n          label: 'æ´»åŠ›',\n          data: [],\n          borderColor: 'rgb(239, 68, 68)',\n          backgroundColor: 'rgba(239, 68, 68, 0.1)',\n          fill: true,\n          tension: 0.4,\n          pointBackgroundColor: 'rgb(239, 68, 68)',\n          pointBorderColor: 'white',\n          pointBorderWidth: 2,\n          pointRadius: 5,\n          pointHoverRadius: 7\n        },\n        {\n          label: 'å±é™ºãƒ©ã‚¤ãƒ³',\n          data: [],\n          borderColor: 'rgb(245, 101, 101)',\n          backgroundColor: 'transparent',\n          borderDash: [10, 5],\n          fill: false,\n          pointRadius: 0,\n          tension: 0\n        },\n        {\n          label: 'è­¦æˆ’ãƒ©ã‚¤ãƒ³',\n          data: [],\n          borderColor: 'rgb(251, 191, 36)',\n          backgroundColor: 'transparent',\n          borderDash: [5, 10],\n          fill: false,\n          pointRadius: 0,\n          tension: 0\n        }\n      ]\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: false,\n      animation: {\n        duration: 750,\n        easing: 'easeInOutQuart'\n      },\n      plugins: {\n        title: {\n          display: false\n        },\n        legend: {\n          display: true,\n          position: 'top',\n          labels: {\n            color: 'white',\n            usePointStyle: true,\n            filter: (legendItem) => legendItem.text === 'æ´»åŠ›'\n          }\n        },\n        tooltip: {\n          mode: 'index',\n          intersect: false,\n          backgroundColor: 'rgba(17, 24, 39, 0.9)',\n          titleColor: 'white',\n          bodyColor: 'white',\n          borderColor: 'rgba(75, 85, 99, 0.5)',\n          borderWidth: 1,\n          callbacks: {\n            title: (context) => {\n              return `ã‚¿ãƒ¼ãƒ³ ${context[0].label}`\n            },\n            label: (context) => {\n              if (context.datasetIndex === 0) {\n                const vitality = context.parsed.y\n                let status = ''\n                if (vitality >= 80) status = 'çµ¶å¥½èª¿'\n                else if (vitality >= 60) status = 'å¥½èª¿'\n                else if (vitality >= 40) status = 'æ™®é€š'\n                else if (vitality >= 20) status = 'è¦æ³¨æ„'\n                else status = 'å±é™º'\n                \n                return `æ´»åŠ›: ${vitality} (${status})`\n              }\n              return ''\n            },\n            afterBody: (context) => {\n              if (context.length > 0 && context[0].dataIndex > 0) {\n                const currentIndex = context[0].dataIndex\n                const currentVitality = props.data[currentIndex].vitality\n                const previousVitality = props.data[currentIndex - 1].vitality\n                const change = currentVitality - previousVitality\n                \n                return `å¤‰åŒ–: ${change > 0 ? '+' : ''}${change}`\n              }\n              return ''\n            }\n          }\n        }\n      },\n      scales: {\n        x: {\n          display: true,\n          grid: {\n            color: 'rgba(75, 85, 99, 0.3)'\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)',\n            maxTicksLimit: 10\n          },\n          title: {\n            display: true,\n            text: 'ã‚¿ãƒ¼ãƒ³',\n            color: 'rgba(209, 213, 219, 0.8)'\n          }\n        },\n        y: {\n          beginAtZero: true,\n          max: 100,\n          grid: {\n            color: 'rgba(75, 85, 99, 0.3)'\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)',\n            stepSize: 20\n          },\n          title: {\n            display: true,\n            text: 'æ´»åŠ›',\n            color: 'rgba(209, 213, 219, 0.8)'\n          }\n        }\n      },\n      interaction: {\n        mode: 'nearest',\n        axis: 'x',\n        intersect: false\n      },\n      elements: {\n        line: {\n          tension: 0.4\n        }\n      }\n    }\n  })\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°\nconst updateChart = () => {\n  if (!chartInstance.value || !props.data || props.data.length === 0) return\n  \n  const labels = props.data.map(point => point.turn.toString())\n  const vitalityData = props.data.map(point => point.vitality)\n  const dangerLineData = props.data.map(() => 20) // å±é™ºãƒ©ã‚¤ãƒ³\n  const cautionLineData = props.data.map(() => 40) // è­¦æˆ’ãƒ©ã‚¤ãƒ³\n  \n  // æœ€æ–°ã®æ´»åŠ›å€¤ã«å¿œã˜ã¦ç·šã®è‰²ã‚’å‹•çš„ã«å¤‰æ›´\n  const currentLevel = currentVitality.value\n  let borderColor = 'rgb(239, 68, 68)'\n  let backgroundColor = 'rgba(239, 68, 68, 0.1)'\n  \n  if (currentLevel >= 80) {\n    borderColor = 'rgb(34, 197, 94)'\n    backgroundColor = 'rgba(34, 197, 94, 0.1)'\n  } else if (currentLevel >= 60) {\n    borderColor = 'rgb(59, 130, 246)'\n    backgroundColor = 'rgba(59, 130, 246, 0.1)'\n  } else if (currentLevel >= 40) {\n    borderColor = 'rgb(251, 191, 36)'\n    backgroundColor = 'rgba(251, 191, 36, 0.1)'\n  } else if (currentLevel >= 20) {\n    borderColor = 'rgb(245, 101, 101)'\n    backgroundColor = 'rgba(245, 101, 101, 0.1)'\n  }\n  \n  chartInstance.value.data.labels = labels\n  chartInstance.value.data.datasets[0].data = vitalityData\n  chartInstance.value.data.datasets[0].borderColor = borderColor\n  chartInstance.value.data.datasets[0].backgroundColor = backgroundColor\n  chartInstance.value.data.datasets[0].pointBackgroundColor = borderColor\n  chartInstance.value.data.datasets[1].data = dangerLineData\n  chartInstance.value.data.datasets[2].data = cautionLineData\n  \n  // æœ€æ–°ã®ãƒã‚¤ãƒ³ãƒˆã‚’å¼·èª¿\n  const pointRadii = vitalityData.map((_, index) => \n    index === vitalityData.length - 1 ? 8 : 4\n  )\n  chartInstance.value.data.datasets[0].pointRadius = pointRadii\n  \n  chartInstance.value.update('active')\n}\n\n// è‡ªå‹•æ›´æ–°ã®è¨­å®š\nconst startAutoUpdate = () => {\n  if (props.autoUpdate && !updateTimer) {\n    updateTimer = window.setInterval(() => {\n      updateChart()\n    }, props.updateInterval)\n  }\n}\n\nconst stopAutoUpdate = () => {\n  if (updateTimer) {\n    clearInterval(updateTimer)\n    updateTimer = null\n  }\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®ç ´æ£„\nconst destroyChart = () => {\n  stopAutoUpdate()\n  if (chartInstance.value) {\n    chartInstance.value.destroy()\n    chartInstance.value = null\n  }\n}\n\n// ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\nonMounted(() => {\n  initChart()\n  updateChart()\n  startAutoUpdate()\n})\n\nonUnmounted(() => {\n  destroyChart()\n})\n\n// ãƒ‡ãƒ¼ã‚¿å¤‰æ›´ã®ç›£è¦–\nwatch(() => props.data, () => {\n  updateChart()\n}, { deep: true })\n\n// è‡ªå‹•æ›´æ–°è¨­å®šã®å¤‰æ›´ç›£è¦–\nwatch(() => props.autoUpdate, (newValue) => {\n  if (newValue) {\n    startAutoUpdate()\n  } else {\n    stopAutoUpdate()\n  }\n})\n</script>\n\n<style scoped>\n.chart-wrapper {\n  @apply w-full h-full flex flex-col;\n}\n\n.chart-title {\n  @apply text-lg font-semibold text-white mb-2 flex items-center gap-2;\n}\n\n.live-indicator {\n  @apply text-xs px-2 py-1 bg-red-600 rounded-full animate-pulse;\n}\n\n.chart-container {\n  @apply flex-1 min-h-0 relative;\n  height: 280px;\n}\n\n.live-stats {\n  @apply flex gap-4 mt-4 text-sm;\n}\n\n.stat-item {\n  @apply flex flex-col gap-1 p-3 bg-gray-700 rounded-lg flex-1;\n}\n\n.stat-item .label {\n  @apply text-gray-300 text-xs;\n}\n\n.stat-item .value {\n  @apply font-bold text-lg;\n}\n</style>","<template>\n  <div class=\"chart-wrapper\">\n    <h3 class=\"chart-title\">\n      â±ï¸ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ±ºå®šæ™‚é–“\n      <span class=\"live-indicator\">ğŸ”´ LIVE</span>\n    </h3>\n    <div class=\"chart-container\">\n      <canvas ref=\"chartCanvas\"></canvas>\n    </div>\n    <div class=\"time-metrics\">\n      <div class=\"metric-item\">\n        <div class=\"metric-icon\">âš¡</div>\n        <div class=\"metric-content\">\n          <div class=\"metric-label\">æœ€æ–°æ±ºå®š</div>\n          <div class=\"metric-value\">{{ latestDecisionTime.toFixed(1) }}ç§’</div>\n        </div>\n      </div>\n      <div class=\"metric-item\">\n        <div class=\"metric-icon\">ğŸ“Š</div>\n        <div class=\"metric-content\">\n          <div class=\"metric-label\">å¹³å‡æ™‚é–“</div>\n          <div class=\"metric-value\">{{ averageTime.toFixed(1) }}ç§’</div>\n        </div>\n      </div>\n      <div class=\"metric-item\">\n        <div class=\"metric-icon\">ğŸ¯</div>\n        <div class=\"metric-content\">\n          <div class=\"metric-label\">æ±ºå®šãƒ‘ã‚¿ãƒ¼ãƒ³</div>\n          <div class=\"metric-value\">{{ decisionPattern }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport {\n  BarElement,\n  CategoryScale,\n  Chart,\n  Filler,\n  Legend,\n  LinearScale,\n  LineElement,\n  PointElement,\n  Title,\n  Tooltip\n} from 'chart.js'\n\n// Chart.jsã®ç™»éŒ²\nChart.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n)\n\ninterface DecisionTimeData {\n  turn: number\n  decisionTime: number\n}\n\ninterface Props {\n  data: DecisionTimeData[]\n  autoUpdate?: boolean\n  updateInterval?: number\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  autoUpdate: true,\n  updateInterval: 1000 // 1ç§’\n})\n\nconst chartCanvas = ref<HTMLCanvasElement>()\nconst chartInstance = ref<Chart | null>(null)\nlet updateTimer: number | null = null\n\n// è¨ˆç®—ã•ã‚ŒãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£\nconst latestDecisionTime = computed(() => {\n  if (!props.data || props.data.length === 0) return 0\n  return props.data[props.data.length - 1].decisionTime\n})\n\nconst averageTime = computed(() => {\n  if (!props.data || props.data.length === 0) return 0\n  const total = props.data.reduce((sum, item) => sum + item.decisionTime, 0)\n  return total / props.data.length\n})\n\nconst decisionPattern = computed(() => {\n  if (!props.data || props.data.length < 3) return 'åˆ†æä¸­'\n  \n  const recent = props.data.slice(-3)\n  const avgRecent = recent.reduce((sum, item) => sum + item.decisionTime, 0) / 3\n  const overall = averageTime.value\n  \n  if (avgRecent < overall * 0.8) return 'è¿…é€ŸåŒ–'\n  if (avgRecent > overall * 1.2) return 'æ…é‡åŒ–'\n  return 'å®‰å®š'\n})\n\n// ãƒãƒ£ãƒ¼ãƒˆã®åˆæœŸåŒ–\nconst initChart = () => {\n  if (!chartCanvas.value) return\n  \n  const ctx = chartCanvas.value.getContext('2d')\n  if (!ctx) return\n  \n  chartInstance.value = new Chart(ctx, {\n    type: 'line',\n    data: {\n      labels: [],\n      datasets: [\n        {\n          label: 'æ±ºå®šæ™‚é–“',\n          data: [],\n          borderColor: 'rgb(168, 85, 247)',\n          backgroundColor: 'rgba(168, 85, 247, 0.1)',\n          fill: true,\n          tension: 0.4,\n          pointBackgroundColor: 'rgb(168, 85, 247)',\n          pointBorderColor: 'white',\n          pointBorderWidth: 2,\n          pointRadius: 5,\n          pointHoverRadius: 7\n        },\n        {\n          label: 'ç›®æ¨™æ™‚é–“ï¼ˆ5ç§’ï¼‰',\n          data: [],\n          borderColor: 'rgb(34, 197, 94)',\n          backgroundColor: 'transparent',\n          borderDash: [5, 5],\n          fill: false,\n          pointRadius: 0,\n          tension: 0\n        }\n      ]\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: false,\n      animation: {\n        duration: 500,\n        easing: 'easeInOutQuart'\n      },\n      plugins: {\n        title: {\n          display: false\n        },\n        legend: {\n          display: true,\n          position: 'top',\n          labels: {\n            color: 'white',\n            usePointStyle: true,\n            filter: (legendItem) => legendItem.text === 'æ±ºå®šæ™‚é–“'\n          }\n        },\n        tooltip: {\n          mode: 'index',\n          intersect: false,\n          backgroundColor: 'rgba(17, 24, 39, 0.9)',\n          titleColor: 'white',\n          bodyColor: 'white',\n          borderColor: 'rgba(75, 85, 99, 0.5)',\n          borderWidth: 1,\n          callbacks: {\n            title: (context) => {\n              return `ã‚¿ãƒ¼ãƒ³ ${context[0].label}`\n            },\n            label: (context) => {\n              if (context.datasetIndex === 0) {\n                const time = context.parsed.y\n                let speed = ''\n                if (time <= 3) speed = 'è¶…é«˜é€Ÿ'\n                else if (time <= 5) speed = 'é«˜é€Ÿ'\n                else if (time <= 10) speed = 'æ™®é€š'\n                else if (time <= 15) speed = 'æ…é‡'\n                else speed = 'è¶…æ…é‡'\n                \n                return `æ±ºå®šæ™‚é–“: ${time.toFixed(1)}ç§’ (${speed})`\n              }\n              return ''\n            },\n            afterBody: (context) => {\n              if (context.length > 0) {\n                const time = context[0].parsed.y\n                const target = 5\n                const diff = time - target\n                \n                if (Math.abs(diff) < 1) {\n                  return 'ğŸ¯ ç†æƒ³çš„ãªæ±ºå®šæ™‚é–“ã§ã™'\n                } if (diff > 0) {\n                  return `â³ ç›®æ¨™ã‚ˆã‚Š${diff.toFixed(1)}ç§’é•·ã„ã§ã™`\n                } \n                  return `âš¡ ç›®æ¨™ã‚ˆã‚Š${Math.abs(diff).toFixed(1)}ç§’é€Ÿã„ã§ã™`\n                \n              }\n              return ''\n            }\n          }\n        }\n      },\n      scales: {\n        x: {\n          display: true,\n          grid: {\n            color: 'rgba(75, 85, 99, 0.3)'\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)',\n            maxTicksLimit: 8\n          },\n          title: {\n            display: true,\n            text: 'ã‚¿ãƒ¼ãƒ³',\n            color: 'rgba(209, 213, 219, 0.8)'\n          }\n        },\n        y: {\n          beginAtZero: true,\n          grid: {\n            color: 'rgba(75, 85, 99, 0.3)'\n          },\n          ticks: {\n            color: 'rgba(209, 213, 219, 0.8)',\n            callback: (value) => `${value}ç§’`\n          },\n          title: {\n            display: true,\n            text: 'æ™‚é–“ï¼ˆç§’ï¼‰',\n            color: 'rgba(209, 213, 219, 0.8)'\n          }\n        }\n      },\n      interaction: {\n        mode: 'nearest',\n        axis: 'x',\n        intersect: false\n      },\n      elements: {\n        line: {\n          tension: 0.4\n        }\n      }\n    }\n  })\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°\nconst updateChart = () => {\n  if (!chartInstance.value || !props.data || props.data.length === 0) return\n  \n  const labels = props.data.map(point => point.turn.toString())\n  const timeData = props.data.map(point => point.decisionTime)\n  const targetData = props.data.map(() => 5) // ç›®æ¨™æ™‚é–“5ç§’\n  \n  // æœ€æ–°ã®æ±ºå®šæ™‚é–“ã«å¿œã˜ã¦ç·šã®è‰²ã‚’å‹•çš„ã«å¤‰æ›´\n  const latestTime = latestDecisionTime.value\n  let borderColor = 'rgb(168, 85, 247)'\n  let backgroundColor = 'rgba(168, 85, 247, 0.1)'\n  \n  if (latestTime <= 3) {\n    borderColor = 'rgb(34, 197, 94)' // ç·‘ - é«˜é€Ÿ\n    backgroundColor = 'rgba(34, 197, 94, 0.1)'\n  } else if (latestTime <= 5) {\n    borderColor = 'rgb(59, 130, 246)' // é’ - ç†æƒ³\n    backgroundColor = 'rgba(59, 130, 246, 0.1)'\n  } else if (latestTime <= 10) {\n    borderColor = 'rgb(251, 191, 36)' // é»„ - æ™®é€š\n    backgroundColor = 'rgba(251, 191, 36, 0.1)'\n  } else if (latestTime <= 15) {\n    borderColor = 'rgb(245, 101, 101)' // ã‚ªãƒ¬ãƒ³ã‚¸ - æ…é‡\n    backgroundColor = 'rgba(245, 101, 101, 0.1)'\n  } else {\n    borderColor = 'rgb(239, 68, 68)' // èµ¤ - è¶…æ…é‡\n    backgroundColor = 'rgba(239, 68, 68, 0.1)'\n  }\n  \n  chartInstance.value.data.labels = labels\n  chartInstance.value.data.datasets[0].data = timeData\n  chartInstance.value.data.datasets[0].borderColor = borderColor\n  chartInstance.value.data.datasets[0].backgroundColor = backgroundColor\n  chartInstance.value.data.datasets[0].pointBackgroundColor = borderColor\n  chartInstance.value.data.datasets[1].data = targetData\n  \n  // æœ€æ–°ã®ãƒã‚¤ãƒ³ãƒˆã‚’å¼·èª¿\n  const pointRadii = timeData.map((_, index) => \n    index === timeData.length - 1 ? 8 : 4\n  )\n  const pointColors = timeData.map((time, index) => {\n    if (index === timeData.length - 1) {\n      // æœ€æ–°ãƒã‚¤ãƒ³ãƒˆã¯ç‰¹åˆ¥ãªè‰²\n      if (time <= 3) return 'rgb(34, 197, 94)'\n      if (time <= 5) return 'rgb(59, 130, 246)'\n      if (time <= 10) return 'rgb(251, 191, 36)'\n      if (time <= 15) return 'rgb(245, 101, 101)'\n      return 'rgb(239, 68, 68)'\n    }\n    return borderColor\n  })\n  \n  chartInstance.value.data.datasets[0].pointRadius = pointRadii\n  chartInstance.value.data.datasets[0].pointBackgroundColor = pointColors\n  \n  chartInstance.value.update('active')\n}\n\n// è‡ªå‹•æ›´æ–°ã®è¨­å®š\nconst startAutoUpdate = () => {\n  if (props.autoUpdate && !updateTimer) {\n    updateTimer = window.setInterval(() => {\n      updateChart()\n    }, props.updateInterval)\n  }\n}\n\nconst stopAutoUpdate = () => {\n  if (updateTimer) {\n    clearInterval(updateTimer)\n    updateTimer = null\n  }\n}\n\n// ãƒãƒ£ãƒ¼ãƒˆã®ç ´æ£„\nconst destroyChart = () => {\n  stopAutoUpdate()\n  if (chartInstance.value) {\n    chartInstance.value.destroy()\n    chartInstance.value = null\n  }\n}\n\n// ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\nonMounted(() => {\n  initChart()\n  updateChart()\n  startAutoUpdate()\n})\n\nonUnmounted(() => {\n  destroyChart()\n})\n\n// ãƒ‡ãƒ¼ã‚¿å¤‰æ›´ã®ç›£è¦–\nwatch(() => props.data, () => {\n  updateChart()\n}, { deep: true })\n\n// è‡ªå‹•æ›´æ–°è¨­å®šã®å¤‰æ›´ç›£è¦–\nwatch(() => props.autoUpdate, (newValue) => {\n  if (newValue) {\n    startAutoUpdate()\n  } else {\n    stopAutoUpdate()\n  }\n})\n</script>\n\n<style scoped>\n.chart-wrapper {\n  @apply w-full h-full flex flex-col;\n}\n\n.chart-title {\n  @apply text-lg font-semibold text-white mb-2 flex items-center gap-2;\n}\n\n.live-indicator {\n  @apply text-xs px-2 py-1 bg-red-600 rounded-full animate-pulse;\n}\n\n.chart-container {\n  @apply flex-1 min-h-0 relative;\n  height: 250px;\n}\n\n.time-metrics {\n  @apply flex gap-3 mt-4;\n}\n\n.metric-item {\n  @apply flex items-center gap-3 p-3 bg-gray-700 rounded-lg flex-1;\n}\n\n.metric-icon {\n  @apply text-2xl;\n}\n\n.metric-content {\n  @apply flex-1;\n}\n\n.metric-label {\n  @apply text-gray-300 text-xs;\n}\n\n.metric-value {\n  @apply font-bold text-lg text-white;\n}\n</style>","<template>\n  <div class=\"statistics-dashboard\">\n    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->\n    <div class=\"dashboard-header\">\n      <h2 class=\"dashboard-title\">\n        <span class=\"icon\">ğŸ“Š</span>\n        ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰\n      </h2>\n      <div class=\"header-controls\">\n        <button class=\"refresh-btn\" :disabled=\"loading\" @click=\"refreshData\">\n          <span class=\"icon\">ğŸ”„</span>\n          {{ loading ? 'æ›´æ–°ä¸­...' : 'æ›´æ–°' }}\n        </button>\n        <button class=\"export-btn\" @click=\"exportData\">\n          <span class=\"icon\">ğŸ’¾</span>\n          ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\n        </button>\n        <button class=\"close-btn\" @click=\"$emit('close')\">\n          <span class=\"icon\">âœ•</span>\n        </button>\n      </div>\n    </div>\n\n    <!-- ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« -->\n    <div v-if=\"showFilters\" class=\"filter-section\">\n      <div class=\"filter-row\">\n        <div class=\"filter-group\">\n          <label>æœŸé–“</label>\n          <select v-model=\"filters.dateRange\" @change=\"applyFilters\">\n            <option value=\"all\">å…¨æœŸé–“</option>\n            <option value=\"week\">éå»1é€±é–“</option>\n            <option value=\"month\">éå»1ãƒ¶æœˆ</option>\n            <option value=\"quarter\">éå»3ãƒ¶æœˆ</option>\n          </select>\n        </div>\n        <div class=\"filter-group\">\n          <label>ã‚²ãƒ¼ãƒ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</label>\n          <select v-model=\"filters.gameStatus\" @change=\"applyFilters\">\n            <option value=\"all\">ã™ã¹ã¦</option>\n            <option value=\"victory\">å‹åˆ©</option>\n            <option value=\"game_over\">ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼</option>\n            <option value=\"in_progress\">é€²è¡Œä¸­</option>\n          </select>\n        </div>\n        <div class=\"filter-group\">\n          <label>ã‚¹ãƒ†ãƒ¼ã‚¸</label>\n          <select v-model=\"filters.stage\" @change=\"applyFilters\">\n            <option value=\"all\">ã™ã¹ã¦</option>\n            <option value=\"youth\">é’å¹´æœŸ</option>\n            <option value=\"middle\">ä¸­å¹´æœŸ</option>\n            <option value=\"fulfillment\">å……å®ŸæœŸ</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <!-- ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->\n    <div class=\"tab-navigation\">\n      <button \n        v-for=\"tab in tabs\" \n        :key=\"tab.key\"\n        :class=\"['tab-button', { active: activeTab === tab.key }]\"\n        @click=\"activeTab = tab.key\"\n      >\n        <span class=\"icon\">{{ tab.icon }}</span>\n        {{ tab.label }}\n      </button>\n    </div>\n\n    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->\n    <div v-if=\"!loading\" class=\"dashboard-content\">\n      <!-- æ¦‚è¦ã‚¿ãƒ– -->\n      <div v-if=\"activeTab === 'overview'\" class=\"tab-content\">\n        <div class=\"stats-grid\">\n          <StatsSummaryCard \n            title=\"åŸºæœ¬çµ±è¨ˆ\"\n            :stats=\"basicStats\"\n            icon=\"ğŸ®\"\n          />\n          <StatsSummaryCard \n            title=\"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\"\n            :stats=\"performanceStats\"\n            icon=\"âš¡\"\n          />\n          <StatsSummaryCard \n            title=\"ãƒ—ãƒ¬ã‚¤æ™‚é–“\"\n            :stats=\"timeStats\"\n            icon=\"â±ï¸\"\n          />\n          <StatsSummaryCard \n            title=\"ä¿é™ºçµ±è¨ˆ\"\n            :stats=\"insuranceStats\"\n            icon=\"ğŸ›¡ï¸\"\n          />\n        </div>\n\n        <!-- ä¸»è¦ãƒãƒ£ãƒ¼ãƒˆ -->\n        <div class=\"main-charts\">\n          <div class=\"chart-container\">\n            <GameProgressChart :data=\"progressChartData\" />\n          </div>\n          <div class=\"chart-container\">\n            <SuccessRateChart :data=\"successRateData\" />\n          </div>\n        </div>\n      </div>\n\n      <!-- è©³ç´°åˆ†æã‚¿ãƒ– -->\n      <div v-if=\"activeTab === 'detailed'\" class=\"tab-content\">\n        <div class=\"detailed-charts\">\n          <div class=\"chart-row\">\n            <div class=\"chart-container half\">\n              <VitalityTrendChart :data=\"vitalityTrendData\" />\n            </div>\n            <div class=\"chart-container half\">\n              <StageAnalysisChart :data=\"stageAnalysisData\" />\n            </div>\n          </div>\n          <div class=\"chart-row\">\n            <div class=\"chart-container full\">\n              <CardUsageChart :data=\"cardUsageData\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- æˆ¦ç•¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚¿ãƒ– -->\n      <div v-if=\"activeTab === 'patterns'\" class=\"tab-content\">\n        <div class=\"patterns-section\">\n          <StrategyPatternsChart :data=\"strategyPatternsData\" />\n          <DecisionAnalysisChart :data=\"decisionAnalysisData\" />\n        </div>\n      </div>\n\n      <!-- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¿ãƒ– -->\n      <div v-if=\"activeTab === 'realtime'\" class=\"tab-content\">\n        <div v-if=\"realtimeData\" class=\"realtime-section\">\n          <div class=\"realtime-header\">\n            <h3>ç¾åœ¨ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³</h3>\n            <div class=\"session-info\">\n              <span>é–‹å§‹æ™‚åˆ»: {{ formatTime(realtimeData.currentSession.startTime) }}</span>\n              <span>ãƒ—ãƒ¬ã‚¤æ¸ˆã¿ã‚²ãƒ¼ãƒ : {{ realtimeData.currentSession.gamesPlayed }}</span>\n              <span>é€£ç¶šè¨˜éŒ²: {{ realtimeData.currentSession.currentStreak }}</span>\n            </div>\n          </div>\n          <div class=\"realtime-charts\">\n            <LiveVitalityChart :data=\"realtimeData.live.vitalityOverTime\" />\n            <DecisionTimeChart :data=\"realtimeData.live.decisionTimes\" />\n          </div>\n        </div>\n        <div v-else class=\"no-session\">\n          <p>ç¾åœ¨ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚²ãƒ¼ãƒ ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã›ã‚“</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º -->\n    <div v-if=\"loading\" class=\"loading-overlay\">\n      <div class=\"loading-spinner\">\n        <span class=\"icon\">â³</span>\n        <p>çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>\n      </div>\n    </div>\n\n    <!-- ã‚¨ãƒ©ãƒ¼è¡¨ç¤º -->\n    <div v-if=\"error\" class=\"error-message\">\n      <span class=\"icon\">âš ï¸</span>\n      <p>{{ error }}</p>\n      <button @click=\"retryLoad\">å†è©¦è¡Œ</button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport { type RealtimeStatistics, type StatisticsData, StatisticsDataService, type StatisticsFilter } from '../../domain/services/StatisticsDataService'\n\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\nimport StatsSummaryCard from './StatsSummaryCard.vue'\nimport GameProgressChart from './charts/GameProgressChart.vue'\nimport SuccessRateChart from './charts/SuccessRateChart.vue'\nimport VitalityTrendChart from './charts/VitalityTrendChart.vue'\nimport StageAnalysisChart from './charts/StageAnalysisChart.vue'\nimport CardUsageChart from './charts/CardUsageChart.vue'\nimport StrategyPatternsChart from './charts/StrategyPatternsChart.vue'\nimport DecisionAnalysisChart from './charts/DecisionAnalysisChart.vue'\nimport LiveVitalityChart from './charts/LiveVitalityChart.vue'\nimport DecisionTimeChart from './charts/DecisionTimeChart.vue'\n\n// Props\ninterface Props {\n  autoRefresh?: boolean\n  refreshInterval?: number\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  autoRefresh: true,\n  refreshInterval: 30000 // 30ç§’\n})\n\n// Emits\nconst emit = defineEmits<{\n  close: []\n  dataUpdated: [data: StatisticsData]\n}>()\n\n// ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ‡ãƒ¼ã‚¿\nconst statisticsService = StatisticsDataService.getInstance()\nconst loading = ref(false)\nconst error = ref('')\nconst statisticsData = ref<StatisticsData | null>(null)\nconst realtimeData = ref<RealtimeStatistics | null>(null)\nconst activeTab = ref('overview')\nconst showFilters = ref(false)\n\n// ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼è¨­å®š\nconst filters = ref({\n  dateRange: 'all',\n  gameStatus: 'all',\n  stage: 'all'\n})\n\n// ã‚¿ãƒ–è¨­å®š\nconst tabs = [\n  { key: 'overview', label: 'æ¦‚è¦', icon: 'ğŸ“Š' },\n  { key: 'detailed', label: 'è©³ç´°åˆ†æ', icon: 'ğŸ”' },\n  { key: 'patterns', label: 'æˆ¦ç•¥ãƒ‘ã‚¿ãƒ¼ãƒ³', icon: 'ğŸ§­' },\n  { key: 'realtime', label: 'ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ', icon: 'ğŸ“ˆ' }\n]\n\n// è‡ªå‹•æ›´æ–°ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«\nlet refreshTimer: number | null = null\nlet unsubscribe: (() => void) | null = null\n\n// è¨ˆç®—ã•ã‚ŒãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£\nconst basicStats = computed(() => {\n  if (!statisticsData.value) return []\n  const data = statisticsData.value\n  return [\n    { label: 'ç·ã‚²ãƒ¼ãƒ æ•°', value: data.totalGames.toString(), trend: '+' },\n    { label: 'å®Œäº†ã‚²ãƒ¼ãƒ æ•°', value: data.completedGames.toString(), trend: '+' },\n    { label: 'å‹åˆ©ã‚²ãƒ¼ãƒ æ•°', value: data.victoryGames.toString(), trend: '+' },\n    { label: 'å‹åˆ©ç‡', value: `${((data.victoryGames / Math.max(data.completedGames, 1)) * 100).toFixed(1)}%`, trend: '=' }\n  ]\n})\n\nconst performanceStats = computed(() => {\n  if (!statisticsData.value) return []\n  const data = statisticsData.value\n  return [\n    { label: 'ãƒãƒ£ãƒ¬ãƒ³ã‚¸æˆåŠŸç‡', value: `${data.challengeSuccessRate.toFixed(1)}%`, trend: data.recentTrends.performanceImprovement > 0 ? 'â†—' : 'â†˜' },\n    { label: 'å¹³å‡æ´»åŠ›', value: data.averageVitality.toFixed(1), trend: '=' },\n    { label: 'æœ€é«˜æ´»åŠ›', value: data.highestVitality.toString(), trend: '+' },\n    { label: 'å¹³å‡ã‚¿ãƒ¼ãƒ³æ•°', value: data.averageTurnsPerGame.toFixed(1), trend: '=' }\n  ]\n})\n\nconst timeStats = computed(() => {\n  if (!statisticsData.value) return []\n  const data = statisticsData.value\n  return [\n    { label: 'ç·ãƒ—ãƒ¬ã‚¤æ™‚é–“', value: formatDuration(data.totalPlayTime), trend: '+' },\n    { label: 'å¹³å‡ã‚²ãƒ¼ãƒ æ™‚é–“', value: formatDuration(data.averageGameDuration), trend: data.recentTrends.playTimeIncrease > 0 ? 'â†—' : 'â†˜' },\n    { label: 'ä»Šæ—¥ã®ãƒ—ãƒ¬ã‚¤', value: getTodayPlayTime(), trend: '=' },\n    { label: 'é€£ç¶šãƒ—ãƒ¬ã‚¤è¨˜éŒ²', value: getCurrentStreak(), trend: '+' }\n  ]\n})\n\nconst insuranceStats = computed(() => {\n  if (!statisticsData.value) return []\n  const data = statisticsData.value\n  return [\n    { label: 'ä¿é™ºè³¼å…¥å›æ•°', value: data.totalInsurancePurchases.toString(), trend: '+' },\n    { label: 'å¹³å‡ä¿é™ºè² æ‹…', value: data.averageInsuranceBurden.toFixed(1), trend: '=' },\n    { label: 'ä¿é™ºåŠ¹æœ', value: `${data.insuranceEffectiveness.toFixed(1)}%`, trend: data.insuranceEffectiveness > 0 ? 'â†—' : 'â†˜' },\n    { label: 'äººæ°—ä¿é™º', value: getMostPopularInsurance(), trend: '=' }\n  ]\n})\n\nconst progressChartData = computed(() => {\n  return statisticsData.value?.gameHistoryByDate || []\n})\n\nconst successRateData = computed(() => {\n  if (!statisticsData.value) return {}\n  return statisticsData.value.stageSuccessRates\n})\n\nconst vitalityTrendData = computed(() => {\n  return realtimeData.value?.live.vitalityOverTime || []\n})\n\nconst stageAnalysisData = computed(() => {\n  if (!statisticsData.value) return {}\n  return statisticsData.value.stageReachCounts\n})\n\nconst cardUsageData = computed(() => {\n  if (!statisticsData.value) return {}\n  return statisticsData.value.cardTypeUsage\n})\n\nconst strategyPatternsData = computed(() => {\n  return statisticsData.value?.decisionPatterns || []\n})\n\nconst decisionAnalysisData = computed(() => {\n  return realtimeData.value?.live.decisionTimes || []\n})\n\n// ãƒ¡ã‚½ãƒƒãƒ‰\nconst refreshData = async () => {\n  loading.value = true\n  error.value = ''\n  \n  try {\n    // çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n    const filters = createFilterFromUI()\n    statisticsData.value = statisticsService.generateStatistics(filters)\n    \n    // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n    realtimeData.value = statisticsService.getRealtimeStatistics()\n    \n    emit('dataUpdated', statisticsData.value)\n  } catch (err) {\n    error.value = `ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ: ${err}`\n  } finally {\n    loading.value = false\n  }\n}\n\nconst applyFilters = () => {\n  refreshData()\n}\n\nconst exportData = () => {\n  try {\n    const jsonData = statisticsService.exportData('json')\n    const blob = new Blob([jsonData], { type: 'application/json' })\n    const url = URL.createObjectURL(blob)\n    \n    const a = document.createElement('a')\n    a.href = url\n    a.download = `game-statistics-${new Date().toISOString().split('T')[0]}.json`\n    document.body.appendChild(a)\n    a.click()\n    document.body.removeChild(a)\n    URL.revokeObjectURL(url)\n  } catch (err) {\n    error.value = `ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ: ${err}`\n  }\n}\n\nconst retryLoad = () => {\n  refreshData()\n}\n\nconst createFilterFromUI = (): StatisticsFilter => {\n  const filter: StatisticsFilter = {}\n  \n  if (filters.value.dateRange !== 'all') {\n    const now = new Date()\n    const start = new Date()\n    \n    switch (filters.value.dateRange) {\n      case 'week':\n        start.setDate(now.getDate() - 7)\n        break\n      case 'month':\n        start.setMonth(now.getMonth() - 1)\n        break\n      case 'quarter':\n        start.setMonth(now.getMonth() - 3)\n        break\n    }\n    \n    filter.dateRange = { start, end: now }\n  }\n  \n  if (filters.value.gameStatus !== 'all') {\n    filter.gameStatus = [filters.value.gameStatus as any]\n  }\n  \n  if (filters.value.stage !== 'all') {\n    filter.stages = [filters.value.stage as any]\n  }\n  \n  return filter\n}\n\nconst formatDuration = (ms: number): string => {\n  const seconds = Math.floor(ms / 1000)\n  const minutes = Math.floor(seconds / 60)\n  const hours = Math.floor(minutes / 60)\n  \n  if (hours > 0) {\n    return `${hours}æ™‚é–“${minutes % 60}åˆ†`\n  } if (minutes > 0) {\n    return `${minutes}åˆ†${seconds % 60}ç§’`\n  } \n    return `${seconds}ç§’`\n  \n}\n\nconst formatTime = (date: Date): string => {\n  return date.toLocaleTimeString('ja-JP')\n}\n\nconst getTodayPlayTime = (): string => {\n  // ç°¡æ˜“å®Ÿè£…: ä»Šæ—¥ã®ãƒ—ãƒ¬ã‚¤æ™‚é–“ã‚’è¨ˆç®—\n  if (!statisticsData.value) return '0åˆ†'\n  \n  const today = new Date().toISOString().split('T')[0]\n  const todayData = statisticsData.value.gameHistoryByDate.find(d => d.date === today)\n  \n  return todayData ? formatDuration(todayData.totalPlayTime) : '0åˆ†'\n}\n\nconst getCurrentStreak = (): string => {\n  if (realtimeData.value) {\n    return `${realtimeData.value.currentSession.currentStreak}å‹`\n  }\n  return '0å‹'\n}\n\nconst getMostPopularInsurance = (): string => {\n  if (!statisticsData.value) return '-'\n  \n  const usage = statisticsData.value.insuranceTypeUsage\n  const entries = Object.entries(usage)\n  \n  if (entries.length === 0) return '-'\n  \n  const most = entries.reduce((a, b) => a[1] > b[1] ? a : b)\n  return most[0]\n}\n\n// è‡ªå‹•æ›´æ–°ã®è¨­å®š\nconst setupAutoRefresh = () => {\n  if (props.autoRefresh && !refreshTimer) {\n    refreshTimer = window.setInterval(refreshData, props.refreshInterval)\n  }\n}\n\nconst clearAutoRefresh = () => {\n  if (refreshTimer) {\n    clearInterval(refreshTimer)\n    refreshTimer = null\n  }\n}\n\n// ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ•ãƒƒã‚¯\nonMounted(() => {\n  refreshData()\n  setupAutoRefresh()\n  \n  // ãƒ‡ãƒ¼ã‚¿å¤‰æ›´ã®è³¼èª­\n  unsubscribe = statisticsService.subscribe((data) => {\n    statisticsData.value = data\n    emit('dataUpdated', data)\n  })\n})\n\nonUnmounted(() => {\n  clearAutoRefresh()\n  if (unsubscribe) {\n    unsubscribe()\n  }\n})\n\n// ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å¤‰æ›´ã®ç›£è¦–  \nwatch(() => filters.value, () => {\n  applyFilters()\n}, { deep: true })\n</script>\n\n<style scoped>\n.statistics-dashboard {\n  @apply w-full h-full bg-gray-900 text-white overflow-hidden flex flex-col;\n}\n\n.dashboard-header {\n  @apply flex items-center justify-between p-4 bg-gray-800 border-b border-gray-700;\n}\n\n.dashboard-title {\n  @apply text-2xl font-bold flex items-center gap-2;\n}\n\n.header-controls {\n  @apply flex gap-2;\n}\n\n.refresh-btn, .export-btn, .close-btn {\n  @apply px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors flex items-center gap-1;\n}\n\n.close-btn {\n  @apply bg-red-600 hover:bg-red-700;\n}\n\n.filter-section {\n  @apply p-4 bg-gray-800 border-b border-gray-700;\n}\n\n.filter-row {\n  @apply flex gap-4 flex-wrap;\n}\n\n.filter-group {\n  @apply flex flex-col gap-1;\n}\n\n.filter-group label {\n  @apply text-sm text-gray-300;\n}\n\n.filter-group select {\n  @apply px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white;\n}\n\n.tab-navigation {\n  @apply flex bg-gray-800 border-b border-gray-700;\n}\n\n.tab-button {\n  @apply px-6 py-3 border-b-2 border-transparent hover:bg-gray-700 transition-colors flex items-center gap-2;\n}\n\n.tab-button.active {\n  @apply border-blue-500 bg-gray-700;\n}\n\n.dashboard-content {\n  @apply flex-1 overflow-auto p-4;\n}\n\n.tab-content {\n  @apply space-y-6;\n}\n\n.stats-grid {\n  @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4;\n}\n\n.main-charts {\n  @apply grid grid-cols-1 lg:grid-cols-2 gap-6;\n}\n\n.chart-container {\n  @apply bg-gray-800 rounded-lg p-4;\n}\n\n.chart-container.half {\n  @apply flex-1;\n}\n\n.chart-container.full {\n  @apply col-span-full;\n}\n\n.detailed-charts {\n  @apply space-y-6;\n}\n\n.chart-row {\n  @apply flex gap-6 flex-col lg:flex-row;\n}\n\n.patterns-section {\n  @apply space-y-6;\n}\n\n.realtime-section {\n  @apply space-y-6;\n}\n\n.realtime-header {\n  @apply bg-gray-800 rounded-lg p-4;\n}\n\n.realtime-header h3 {\n  @apply text-xl font-bold mb-2;\n}\n\n.session-info {\n  @apply flex gap-4 text-sm text-gray-300 flex-wrap;\n}\n\n.realtime-charts {\n  @apply grid grid-cols-1 lg:grid-cols-2 gap-6;\n}\n\n.no-session {\n  @apply text-center py-12 text-gray-400;\n}\n\n.loading-overlay {\n  @apply absolute inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center;\n}\n\n.loading-spinner {\n  @apply text-center;\n}\n\n.loading-spinner .icon {\n  @apply text-4xl block mb-4;\n}\n\n.error-message {\n  @apply bg-red-900 border border-red-700 rounded-lg p-4 m-4 flex items-center gap-2;\n}\n\n.error-message button {\n  @apply ml-auto px-4 py-2 bg-red-700 hover:bg-red-600 rounded transition-colors;\n}\n\n.icon {\n  @apply inline-block;\n}\n</style>"],"names":["_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","icon","_hoisted_4","title","_hoisted_5","_Fragment","_renderList","stats","stat","key","label","class","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","value","trend","_normalizeClass","includes","percentage","_hoisted_10","style","_normalizeStyle","width","Chart","register","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Filler","props","__props","chartCanvas","ref","chartInstance","chartPeriod","filteredData","computed","data","length","now","Date","cutoffDate","setDate","getDate","setMonth","getMonth","filter","item","date","totalGames","reduce","sum","gamesPlayed","averageScore","maxScore","Math","max","map","updateChart","labels","toLocaleDateString","month","day","gamesData","scoresData","datasets","update","onMounted","ctx","getContext","type","borderColor","backgroundColor","yAxisID","fill","tension","options","responsive","maintainAspectRatio","plugins","display","legend","position","color","usePointStyle","tooltip","mode","intersect","titleColor","bodyColor","borderWidth","callbacks","afterLabel","context","dataIndex","ms","seconds","floor","minutes","hours","formatDuration","totalPlayTime","scales","x","grid","ticks","y","text","y1","drawOnChartArea","interaction","axis","elements","point","radius","hoverRadius","initChart","onUnmounted","destroy","watch","deep","_cache","$event","onChange","toFixed","BarElement","STAGE_COLORS","youth","middle","fulfillment","STAGE_LABELS","getStageColor","stage","getStageLabel","stages","Object","keys","rates","values","rate","colors","replace","borderRadius","borderSkipped","parsed","performance","font","size","beginAtZero","callback","bar","currentVitality","vitality","maxVitality","minVitality","min","turn","toString","vitalityData","dangerLineData","currentLevel","pointBackgroundColor","pointBorderColor","pointBorderWidth","pointRadius","pointHoverRadius","borderDash","legendItem","some","datasetIndex","status","stepSize","line","ArcElement","STAGE_ICONS","totalCount","count","getStageIcon","getPercentage","counts","hoverOffset","getDifficultyLevel","cutout","arc","id","beforeDraw","chart","height","restore","fontSize","textBaseline","fillStyle","textX","round","textY","lines","split","forEach","index","lineHeight","parseInt","fillText","save","viewMode","CARD_TYPE_CONFIG","life","name","challenge","insurance","dream","action","event","totalUsage","sortedData","entries","fromEntries","sort","a","b","typeA","countA","typeB","countB","effA","calculateEffectiveness","getCardTypeName","cardType","getCardTypeIcon","getUsagePercentage","chartType","getChartOptions","baseOptions","padding","effectiveness","maxRotation","cardTypes","getCardTypeColor","chartData","newType","config","_hoisted_11","sortedPatterns","successRate","frequency","formatSituation","situation","youth_high_vitality","youth_low_vitality","middle_high_vitality","middle_low_vitality","fulfillment_high_vitality","fulfillment_low_vitality","formatChoice","choice","with_insurance","no_insurance","aggressive","conservative","balanced","getRecommendation","pattern","createDatasets","situationGroups","push","patterns","Number","_hoisted_12","_hoisted_13","analysisMode","averageDecisionTime","decisionTime","fastestDecision","slowestDecision","decisionTrend","firstHalf","slice","secondHalf","firstAvg","difference","abs","performanceAnalysis","avg","distributionData","bins","Infinity","movingAverageData","result","i","windowSize","average","getChartType","getChartData","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","updateTimer","vitalityChange","riskLevel","cautionLineData","pointRadii","_","startAutoUpdate","autoUpdate","window","setInterval","updateInterval","stopAutoUpdate","clearInterval","animation","duration","easing","afterBody","currentIndex","change","maxTicksLimit","newValue","risk","latestDecisionTime","averageTime","decisionPattern","avgRecent","overall","timeData","targetData","latestTime","pointColors","time","speed","diff","emit","__emit","statisticsService","StatisticsDataService","getInstance","loading","error","statisticsData","realtimeData","activeTab","showFilters","filters","dateRange","gameStatus","tabs","refreshTimer","unsubscribe","basicStats","completedGames","victoryGames","performanceStats","challengeSuccessRate","recentTrends","performanceImprovement","averageVitality","highestVitality","averageTurnsPerGame","timeStats","averageGameDuration","playTimeIncrease","getTodayPlayTime","getCurrentStreak","insuranceStats","totalInsurancePurchases","averageInsuranceBurden","insuranceEffectiveness","getMostPopularInsurance","progressChartData","gameHistoryByDate","successRateData","stageSuccessRates","vitalityTrendData","live","vitalityOverTime","stageAnalysisData","stageReachCounts","cardUsageData","cardTypeUsage","strategyPatternsData","decisionPatterns","decisionAnalysisData","decisionTimes","refreshData","async","createFilterFromUI","generateStatistics","getRealtimeStatistics","err","applyFilters","exportData","jsonData","blob","Blob","url","URL","createObjectURL","document","createElement","href","download","toISOString","body","appendChild","click","removeChild","revokeObjectURL","retryLoad","start","end","today","todayData","find","d","currentSession","currentStreak","usage","insuranceTypeUsage","autoRefresh","refreshInterval","subscribe","disabled","onClick","_createTextVNode","$emit","_vModelSelect","tab","active","_createVNode","StatsSummaryCard","GameProgressChart","SuccessRateChart","_hoisted_20","_hoisted_21","_hoisted_22","VitalityTrendChart","_hoisted_23","StageAnalysisChart","_hoisted_24","_hoisted_25","CardUsageChart","_hoisted_26","_hoisted_27","StrategyPatternsChart","DecisionAnalysisChart","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","startTime","toLocaleTimeString","_hoisted_32","LiveVitalityChart","DecisionTimeChart","_hoisted_33","_hoisted_34","_hoisted_35"],"mappings":"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"}