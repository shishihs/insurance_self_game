const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/game-engine-CjfMJf0y.js","js/phaser-vendor-khE3opRO.js","js/game-logic-DNW83sYz.js"])))=>i.map(i=>d[i]);
var h=(v,o,n)=>new Promise((r,a)=>{var e=c=>{try{l(n.next(c))}catch(i){a(i)}},t=c=>{try{l(n.throw(c))}catch(i){a(i)}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(e,t);l((n=n.apply(v,o)).next())});import{d as b,r as f,o as k,a as E,c as m,b as p,e as y,f as d,t as C,n as S,u as L,g as P,h as T,i as G}from"./vue-vendor-D6iIYVD1.js";/* empty css                   */(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const e of a)if(e.type==="childList")for(const t of e.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&r(t)}).observe(document,{childList:!0,subtree:!0});function n(a){const e={};return a.integrity&&(e.integrity=a.integrity),a.referrerPolicy&&(e.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?e.credentials="include":a.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(a){if(a.ep)return;a.ep=!0;const e=n(a);fetch(a.href,e)}})();const O="modulepreload",A=function(v){return"/insurance_self_game/"+v},_={},N=function(o,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),l=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=A(c),c in _)return;_[c]=!0;const i=c.endsWith(".css"),u=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const s=document.createElement("link");if(s.rel=i?"stylesheet":O,i||(s.as="script"),s.crossOrigin="",s.href=c,l&&s.setAttribute("nonce",l),document.head.appendChild(s),i)return new Promise((g,x)=>{s.addEventListener("load",g),s.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function e(t){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=t,window.dispatchEvent(l),!l.defaultPrevented)throw t}return a.then(t=>{for(const l of t||[])l.status==="rejected"&&e(l.reason);return o().catch(e)})},$={class:"game-canvas-container"},H={key:0,class:"loading-container"},M={key:1,class:"error-container"},I={class:"error-message"},U={key:2,class:"debug-controls"},V=b({__name:"GameCanvas",setup(v,{expose:o}){const n=f(),r=f(null),a=f(!0),e=f(""),t=!1;k(()=>h(this,null,function*(){let i=0;const u=10;for(;!n.value&&i<u;)yield new Promise(s=>setTimeout(s,100)),i++;if(n.value)try{const{GameManager:s}=yield N(()=>h(this,null,function*(){const{GameManager:x}=yield import("./game-engine-CjfMJf0y.js");return{GameManager:x}}),__vite__mapDeps([0,1,2]));r.value=s.getInstance(),r.value.initialize(n.value),a.value=!1;const g=()=>{r.value&&r.value.switchScene("GameScene",{startTutorial:!0})};window.addEventListener("startTutorial",g),window._tutorialEventHandler=g}catch(s){console.error("❌ ゲームの初期化に失敗しました:",s),console.error("❌ エラー詳細:",{name:s instanceof Error?s.name:"Unknown",message:s instanceof Error?s.message:String(s),stack:s instanceof Error?s.stack:void 0}),e.value=s instanceof Error?s.message:String(s),a.value=!1}else e.value="ゲームコンテナが見つかりません",a.value=!1})),E(()=>{const i=window._tutorialEventHandler;i&&(window.removeEventListener("startTutorial",i),delete window._tutorialEventHandler),r.value&&r.value.destroy()});const l=()=>{r.value&&r.value.reset()},c=()=>{r.value&&r.value.switchScene("MainMenuScene")};return o({resetGame:l,returnToMenu:c}),(i,u)=>(p(),m("div",$,[a.value?(p(),m("div",H,u[0]||(u[0]=[d("div",{class:"loading-spinner"},null,-1),d("p",{class:"loading-text"},"ゲームを読み込み中...",-1)]))):e.value?(p(),m("div",M,[u[1]||(u[1]=d("h3",{class:"error-title"},"ゲームの読み込みに失敗しました",-1)),d("p",I,C(e.value),1),u[2]||(u[2]=d("p",{class:"error-help"}," ブラウザのコンソール（F12）でより詳細なエラー情報を確認できます。 ",-1))])):y("",!0),d("div",{ref_key:"gameContainer",ref:n,id:"game-container",class:"game-container",style:S({display:!a.value&&!e.value?"block":"none"})},null,4),L(t)&&!a.value?(p(),m("div",U,[d("button",{onClick:l,class:"btn btn-warning text-sm"}," ゲームリセット "),d("button",{onClick:c,class:"btn text-sm"}," メニューへ ")])):y("",!0)]))}}),w=(v,o)=>{const n=v.__vccOpts||v;for(const[r,a]of o)n[r]=a;return n},B=w(V,[["__scopeId","data-v-8343f1e8"]]),q={class:"min-h-screen bg-gray-100 dark:bg-gray-900"},z={key:0,class:"game-view"},D={key:1,class:"max-w-7xl mx-auto p-8"},F=b({__name:"App",setup(v){const o=f(!1),n=()=>{o.value=!0},r=()=>{o.value=!0,setTimeout(()=>{const e=new CustomEvent("startTutorial");window.dispatchEvent(e)},100)},a=()=>{o.value=!1};return(e,t)=>(p(),m("div",q,[o.value?(p(),m("div",z,[P(B),d("button",{onClick:a,class:"absolute top-4 left-4 btn btn-danger text-sm z-50"}," ホームに戻る ")])):(p(),m("div",D,[t[0]||(t[0]=d("div",{class:"text-center mb-8"},[d("h1",{class:"text-5xl font-bold mb-2 text-gray-800 dark:text-gray-100"}," 人生充実ゲーム "),d("p",{class:"text-lg text-gray-600 dark:text-gray-300"}," Life Fulfillment - 生命保険を「人生の味方」として描く ")],-1)),d("div",{class:"flex justify-center gap-4 mb-8"},[d("button",{onClick:n,class:"btn btn-success text-xl px-8 py-4 shadow-lg hover:shadow-xl transition-shadow"}," ゲームをプレイ "),d("button",{onClick:r,class:"btn btn-primary text-xl px-8 py-4 shadow-lg hover:shadow-xl transition-shadow"}," チュートリアル ")]),t[1]||(t[1]=T('<div class="grid md:grid-cols-2 gap-8" data-v-6eaac4a2><div class="card" data-v-6eaac4a2><h2 class="text-2xl font-bold mb-4 text-primary flex items-center gap-2" data-v-6eaac4a2><span data-v-6eaac4a2>🎮</span> 最新アップデート v0.2.2 </h2><div class="text-left space-y-3" data-v-6eaac4a2><div data-v-6eaac4a2><h3 class="font-semibold text-lg mb-2" data-v-6eaac4a2>保険更新システム完全実装</h3><ul class="space-y-1 text-sm" data-v-6eaac4a2><li class="flex items-start gap-2" data-v-6eaac4a2><span class="text-success mt-1" data-v-6eaac4a2>✅</span><span data-v-6eaac4a2><strong data-v-6eaac4a2>期限切れ警告</strong>: 残り2ターンで警告、1ターンで危険表示</span></li><li class="flex items-start gap-2" data-v-6eaac4a2><span class="text-success mt-1" data-v-6eaac4a2>✅</span><span data-v-6eaac4a2><strong data-v-6eaac4a2>保険更新選択</strong>: 期限切れ時に更新or失効を選択可能</span></li><li class="flex items-start gap-2" data-v-6eaac4a2><span class="text-success mt-1" data-v-6eaac4a2>✅</span><span data-v-6eaac4a2><strong data-v-6eaac4a2>年齢別コスト</strong>: 青年期+1、中年期+2、充実期+3</span></li><li class="flex items-start gap-2" data-v-6eaac4a2><span class="text-success mt-1" data-v-6eaac4a2>✅</span><span data-v-6eaac4a2><strong data-v-6eaac4a2>活力不足対応</strong>: 更新不可時の視覚的フィードバック</span></li><li class="flex items-start gap-2" data-v-6eaac4a2><span class="text-success mt-1" data-v-6eaac4a2>✅</span><span data-v-6eaac4a2><strong data-v-6eaac4a2>自動処理</strong>: ターン進行時の期限切れ保険検出</span></li></ul></div></div></div><div class="card" data-v-6eaac4a2><h2 class="text-2xl font-bold mb-4 text-primary flex items-center gap-2" data-v-6eaac4a2><span data-v-6eaac4a2>🚀</span> 今後のロードマップ </h2><div class="text-left space-y-3" data-v-6eaac4a2><div data-v-6eaac4a2><h3 class="font-semibold mb-2" data-v-6eaac4a2>短期（1-2週間）</h3><ul class="space-y-1 text-sm" data-v-6eaac4a2><li class="flex items-center gap-2" data-v-6eaac4a2><span class="text-success" data-v-6eaac4a2>✅</span> 保険更新システム </li><li class="flex items-center gap-2" data-v-6eaac4a2><span class="text-gray-400" data-v-6eaac4a2>⭕</span> チュートリアルモード </li><li class="flex items-center gap-2" data-v-6eaac4a2><span class="text-gray-400" data-v-6eaac4a2>⭕</span> サウンドエフェクト </li></ul></div><div data-v-6eaac4a2><h3 class="font-semibold mb-2" data-v-6eaac4a2>中期（1ヶ月）</h3><ul class="space-y-1 text-sm" data-v-6eaac4a2><li class="flex items-center gap-2" data-v-6eaac4a2><span class="text-gray-400" data-v-6eaac4a2>⭕</span> 実績システム </li><li class="flex items-center gap-2" data-v-6eaac4a2><span class="text-gray-400" data-v-6eaac4a2>⭕</span> 追加シナリオ（結婚、出産など） </li></ul></div></div><div class="mt-4 text-sm text-gray-600 dark:text-gray-400" data-v-6eaac4a2><a href="https://github.com/shishihs/insurance_self_game/blob/master/CHANGELOG.md" target="_blank" class="hover:text-primary transition-colors" data-v-6eaac4a2> 詳細な変更履歴とロードマップ → </a></div></div></div><div class="text-center mt-8 text-sm text-gray-600 dark:text-gray-400" data-v-6eaac4a2><p data-v-6eaac4a2><a href="https://github.com/shishihs/insurance_self_game" target="_blank" class="hover:text-primary transition-colors" data-v-6eaac4a2> GitHub </a><span class="mx-2" data-v-6eaac4a2>•</span><a href="https://github.com/shishihs/insurance_self_game/issues" target="_blank" class="hover:text-primary transition-colors" data-v-6eaac4a2> バグ報告・要望 </a></p></div>',2))]))]))}}),R=w(F,[["__scopeId","data-v-6eaac4a2"]]);G(R).mount("#app");
//# sourceMappingURL=index-C9CR_B2m.js.map
