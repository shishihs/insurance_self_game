#!/bin/sh

# Windowsç’°å¢ƒã®å ´åˆã¯CMDãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè¡Œ
if [ "$OS" = "Windows_NT" ]; then
    cmd.exe /c ".husky\\pre-commit.cmd"
    exit $?
fi

# ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰å³åº§ã«çµ‚äº†
set -e

echo "ğŸ” Pre-commit checks starting..."

# 1. Lint check
echo "ğŸ“ Running ESLint..."
pnpm run lint

# 2. Type check
echo "ğŸ”¬ Running TypeScript type check..."
pnpm run type-check

# 3. Testï¼ˆé«˜é€Ÿãƒ†ã‚¹ãƒˆã®ã¿ï¼‰
echo "ğŸ§ª Running tests..."
pnpm run test:run -- --reporter=dot

# 4. Format check
echo "ğŸ¨ Checking code formatting..."
pnpm run format

echo "âœ… All pre-commit checks passed!"